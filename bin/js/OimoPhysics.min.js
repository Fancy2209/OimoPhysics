/* OimoPhysics 1.2.5 (c) 2024 saharan, The MIT License */var pc="function"==typeof Object.create?Object.create:function(Ue){function zb(){}zb.prototype=Ue;return new zb},yk;if("function"==typeof Object.setPrototypeOf)yk=Object.setPrototypeOf;else{var zk;a:{var Tk={a:!0},Uk={};try{Uk.__proto__=Tk;zk=Uk.a;break a}catch(Ue){}zk=!1}yk=zk?function(Ue,zb){Ue.__proto__=zb;if(Ue.__proto__!==zb)throw new TypeError(Ue+" is not extensible");return Ue}:null}var ql=yk;
function rl(Ue,zb){Ue.prototype=pc(zb.prototype);Ue.prototype.constructor=Ue;if(ql)ql(Ue,zb);else for(var Ih in zb)if("prototype"!=Ih)if(Object.defineProperties){var qk=Object.getOwnPropertyDescriptor(zb,Ih);qk&&Object.defineProperty(Ue,Ih,qk)}else Ue[Ih]=zb[Ih];Ue.Vi=zb.prototype}
(function(){function Ue(){this.position=new z;this.rotation=new ha;this.friction=Ba.defaultFriction;this.restitution=Ba.defaultRestitution;this.density=Ba.defaultDensity;this.collisionGroup=Ba.defaultCollisionGroup;this.collisionMask=Ba.defaultCollisionMask;this.contactCallback=this.geometry=null}function zb(a){this.uc=-1;this.ra=new Ob;this.za=new Ob;this.g=new Ob;var b=a.position;this.ra.F=b.x;this.ra.G=b.y;this.ra.H=b.z;b=a.rotation;this.ra.A=b.e00;this.ra.j=b.e01;this.ra.m=b.e02;this.ra.o=b.e10;
this.ra.v=b.e11;this.ra.s=b.e12;this.ra.u=b.e20;this.ra.l=b.e21;this.ra.B=b.e22;b=this.za;var e=this.ra;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;b=this.g;e=this.ra;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;this.kh=a.restitution;this.dh=a.friction;this.Sh=a.density;this.Tb=a.geometry;this.$g=a.collisionGroup;this.ah=a.collisionMask;this.ld=a.contactCallback;this.D=new Pb;this.Fb=null;this.qc=
new z}function Ih(){}function qk(){this.position=new z;this.rotation=new ha;this.linearVelocity=new z;this.angularVelocity=new z;this.angularDamping=this.linearDamping=this.type=0;this.autoSleep=!0;this.sleepingVelocityThreshold=Ba.sleepingVelocityThreshold;this.sleepingAngularVelocityThreshold=Ba.sleepingAngularVelocityThreshold;this.sleepingTimeThreshold=Ba.sleepingTimeThreshold}function J(a){this.Jb=this.vc=this.sa=this.U=null;this.nf=0;this.oc=this.Yb=null;this.Pd=0;this.fe=this.Od=null;this.Mf=
0;var b=a.linearVelocity;this.ub=b.x;this.vb=b.y;this.wb=b.z;b=a.angularVelocity;this.xb=b.x;this.yb=b.y;this.zb=b.z;this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=0;this.za=new Ob;this.g=new Ob;b=a.position;this.za.F=b.x;this.za.G=b.y;this.za.H=b.z;b=a.rotation;this.za.A=b.e00;this.za.j=b.e01;this.za.m=b.e02;this.za.o=b.e10;this.za.v=b.e11;this.za.s=b.e12;this.za.u=b.e20;this.za.l=b.e21;this.za.B=b.e22;b=this.g;var e=this.za;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;
b.u=e.u;b.l=e.l;b.B=e.B;this.$b=a.type;this.Kb=0;this.Ob=!1;this.Qh=a.autoSleep;this.nh=a.sleepingVelocityThreshold;this.mh=a.sleepingAngularVelocityThreshold;this.Fi=a.sleepingTimeThreshold;this.ja=this.ia=this.ha=this.ga=this.fa=this.ea=this.da=this.ca=this.ba=this.Eb=this.mb=this.Za=this.Xa=this.Sa=this.Pa=this.Ka=this.Ja=this.qa=this.ib=this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.ab=this.$a=this.aa=this.Y=this.X=this.V=this.M=this.I=this.C=this.i=this.h=this.Ab=this.Ce=0;this.gh=a.linearDamping;
this.Xg=a.angularDamping;this.Gf=this.Ff=this.Ef=this.Kf=this.Jf=this.If=this.Fe=this.Ee=this.De=this.ag=this.$f=this.Zf=0;this.W=new z(1,1,1);this.Ke=!1;this.Hf=1;this.pc=null}function Vk(){this.mass=0;this.localInertia=new ha}function xd(a){var b=cd.call(this)||this;b.h=a;b.info=new Wk;b.i=Array(Ba.maxJacobianRows);a=0;for(var e=b.i.length;a<e;)b.i[a++]=new Xk;return b}function Nd(a){var b=cd.call(this)||this;b.i=a;b.info=new sl;b.h=Array(Ba.maxManifoldPoints);a=0;for(var e=b.h.length;a<e;)b.h[a++]=
new tl;return b}function Ak(a){this.h=a;this.C=Array(this.h);this.Ab=Array(this.h);this.Fg=Array(this.h);a=0;for(var b=this.h;a<b;){var e=a++;this.C[e]=Array(this.h);this.Ab[e]=Array(this.h);this.Fg[e]=Array(this.h);for(var d=0,c=this.h;d<c;){var f=d++;this.C[e][f]=0;this.Ab[e][f]=0;this.Fg[e][f]=0}}this.i=1<<this.h;this.Zg=Array(this.i);this.Rh=Array(this.i);a=0;for(b=this.i;a<b;){e=a++;d=(e&85)+(e>>1&85);d=(d&51)+(d>>2&51);d=(d&15)+(d>>4&15);c=Array(d);for(f=0;f<d;){var h=f++;c[h]=Array(d);for(var k=
0;k<d;)c[h][k++]=0}this.Zg[e]=!1;this.Rh[e]=c}}function yd(a){var b=cd.call(this)||this;b.h=a;b.info=new Wk;a=Ba.maxJacobianRows;b.X=new Ak(a);b.i=new Yk(a);b.I=Array(a);for(var e=0,d=b.I.length;e<d;)b.I[e++]=new Xk;e=b.i.C.length;b.qa=new Zk(e);b.aa=new Zk(e);b.M=Array(a);b.V=Array(a);b.C=Array(a);b.Y=Array(a);for(e=0;e<a;)d=e++,b.M[d]=0,b.V[d]=0,b.C[d]=0,b.Y[d]=0;return b}function Zk(a){this.C=a;this.h=Array(a);this.i=Array(a);for(var b=0;b<a;){var e=b++;this.h[e]=e}}function Yk(a){this.M=a;this.i=
0;this.C=Array(1<<a);this.h=new ul(a)}function ul(a){this.size=a;this.Ic=0;this.Qf=Array(a);this.Sf=Array(a);this.Md=0;this.xf=Array(a)}function Bk(a){this.Qf=Array(a);this.xf=Array(a);this.Sf=Array(a);this.b=Array(a);this.Md=this.Ic=0}function Xk(){this.Je=this.mass=this.Zc=this.Yc=this.Xc=this.Wc=this.Vc=this.Uc=this.ed=this.dd=this.cd=this.bd=this.ad=this.$c=0}function tl(){this.Li=this.Ki=this.Ji=this.Ii=this.Ld=this.uh=this.th=this.sh=this.rh=this.qh=this.ph=this.pi=this.oi=this.ni=this.mi=this.li=
this.ki=this.Sg=this.Rg=this.Qg=this.Pg=this.Og=this.Ng=this.wi=this.vi=this.ui=this.ti=this.si=this.ri=this.Ue=this.Te=this.Se=this.Re=this.Qe=this.Pe=this.lg=this.kg=this.jg=this.ig=this.hg=this.gg=0}function Ck(){}function Sj(){var a=jf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.springDamper1=new Ed;a.springDamper2=new Ed;a.limitMotor1=new ne;a.limitMotor2=new ne;return a}function dc(a){var b=ya.call(this,a,$g.UNIVERSAL)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=
e.z;e=a.localAxis2;b.Rb=e.x;b.Sb=e.y;b.Wb=e.z;b.yh();b.qe=0;b.Df=0;b.re=0;b.hd=!1;b.jd=!1;b.wd=!1;b.tc=a.springDamper1.clone();b.yc=a.springDamper2.clone();b.Uh=a.limitMotor1.clone();b.Vh=a.limitMotor2.clone();return b}function kf(){this.lowerLimit=1;this.motorForce=this.upperLimit=0}function Ed(){this.dampingRatio=this.frequency=0;this.useSymplecticEuler=!1}function Tj(){var a=jf.call(this)||this;a.springDamper=new Ed;return a}function Zi(a){var b=ya.call(this,a,0)||this;b.h=a.springDamper.clone();
return b}function ne(){this.lowerLimit=1;this.motorTorque=this.upperLimit=0}function Uj(){var a=jf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.springDamper=new Ed;a.limitMotor=new ne;return a}function qc(a){var b=ya.call(this,a,1)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.X=e.y;b.Y=e.z;b.mg();b.Wa=0;b.Gb=0;b.Hb=0;b.h=new Dk(b);b.Ya=a.springDamper.clone();b.cg=a.limitMotor.clone();return b}function Vj(){var a=jf.call(this)||this;a.localTwistAxis1=
new z(1,0,0);a.localTwistAxis2=new z(1,0,0);a.localSwingAxis1=new z(0,1,0);a.twistSpringDamper=new Ed;a.swingSpringDamper=new Ed;a.twistLimitMotor=new ne;a.maxSwingAngle1=3.14159265358979;a.maxSwingAngle2=3.14159265358979;return a}function $b(a){var b=ya.call(this,a,$g.RAGDOLL)||this;var e=a.localTwistAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localSwingAxis1;b.Xa=e.x;b.Za=e.y;b.mb=e.z;e=a.localTwistAxis2;b.V=e.x;b.X=e.y;b.Y=e.z;b.zh();b.hd=a.twistSpringDamper.clone();b.ai=a.twistLimitMotor.clone();b.gd=a.swingSpringDamper.clone();
b.hh=a.maxSwingAngle1;b.ih=a.maxSwingAngle2;b.hh<Ba.minRagdollMaxSwingAngle&&(b.hh=Ba.minRagdollMaxSwingAngle);b.ih<Ba.minRagdollMaxSwingAngle&&(b.ih=Ba.minRagdollMaxSwingAngle);b.jd=new ne;b.jd.lowerLimit=-1;b.jd.upperLimit=0;b.tc=0;b.Mg=0;b.yc=0;b.h=0;b.Wa=0;b.Ya=0;b.tb=0;b.Gb=0;b.Hb=0;return b}function Wj(){var a=jf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.limitMotor=new kf;a.springDamper=new Ed;return a}function rc(a){var b=ya.call(this,a,$g.PRISMATIC)||this;var e=
a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.X=e.y;b.Y=e.z;b.mg();b.h=new Dk(b);b.Hb=0;b.ac=0;b.bc=0;b.tb=0;b.Wa=0;b.Ya=0;b.Gb=a.springDamper.clone();b.cg=a.limitMotor.clone();return b}function $g(){}function Df(a){this.Th=a}function vl(){this.Ib=this.Tc=this.Aa=0}function Xj(){var a=jf.call(this)||this;a.localBasis1=new ha;a.localBasis2=new ha;var b=[];b.push((new kf).h(0,0));b.push((new kf).h(0,0));b.push((new kf).h(0,0));a.translationalLimitMotors=b;b=[];b.push((new ne).h(0,0));
b.push((new ne).h(0,0));b.push((new ne).h(0,0));a.rotationalLimitMotors=b;a.translationalSpringDampers=[new Ed,new Ed,new Ed];a.rotationalSpringDampers=[new Ed,new Ed,new Ed];return a}function Qc(a){var b=ya.call(this,a,$g.GENERIC)||this;var e=a.localBasis1;0>e.e00*(e.e11*e.e22-e.e12*e.e21)-e.e01*(e.e10*e.e22-e.e12*e.e20)+e.e02*(e.e10*e.e21-e.e11*e.e20)?e=!0:(e=a.localBasis2,e=0>e.e00*(e.e11*e.e22-e.e12*e.e21)-e.e01*(e.e10*e.e22-e.e12*e.e20)+e.e02*(e.e10*e.e21-e.e11*e.e20));e&&console.log("src/oimo/dynamics/constraint/joint/GenericJoint.hx:50:",
"[warning] joint basis must be right handed");var d=a.localBasis1;e=d.e00;var c=d.e01;var f=d.e02;var h=d.e10;var k=d.e11;var g=d.e12;var l=d.e20;var m=d.e21;d=d.e22;var n=a.localBasis2;var q=n.e00;var p=n.e01;var r=n.e02;var t=n.e10;var x=n.e11;var v=n.e12;var B=n.e20;var H=n.e21;n=n.e22;b.i=e;b.C=h;b.I=l;b.Xa=c;b.Za=k;b.mb=m;b.Eb=f;b.Jb=g;b.Pb=d;b.V=q;b.X=t;b.Y=B;b.je=p;b.He=x;b.Ie=H;b.Rb=r;b.Sb=v;b.Wb=n;b.qe=0;b.Df=0;b.re=0;b.tc=0;b.vd=0;b.yc=0;b.hd=!1;b.jd=!1;b.wd=!1;b.Oe=Array(3);b.bc=Array(3);
b.Ne=Array(3);b.ac=Array(3);b.Oe[0]=a.translationalLimitMotors[0].clone();b.Oe[1]=a.translationalLimitMotors[1].clone();b.Oe[2]=a.translationalLimitMotors[2].clone();b.bc[0]=a.translationalSpringDampers[0].clone();b.bc[1]=a.translationalSpringDampers[1].clone();b.bc[2]=a.translationalSpringDampers[2].clone();b.Ne[0]=a.rotationalLimitMotors[0].clone();b.Ne[1]=a.rotationalLimitMotors[1].clone();b.Ne[2]=a.rotationalLimitMotors[2].clone();b.ac[0]=a.rotationalSpringDampers[0].clone();b.ac[1]=a.rotationalSpringDampers[1].clone();
b.ac[2]=a.rotationalSpringDampers[2].clone();return b}function Yj(){var a=jf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.translationalLimitMotor=new kf;a.translationalSpringDamper=new Ed;a.rotationalLimitMotor=new ne;a.rotationalSpringDamper=new Ed;return a}function jf(){this.rigidBody2=this.rigidBody1=null;this.localAnchor1=new z;this.localAnchor2=new z;this.allowCollision=!1;this.solverType=Ba.defaultJointConstraintSolverType;this.positionCorrectionAlgorithm=Ba.defaultJointPositionCorrectionAlgorithm;
this.breakTorque=this.breakForce=0}function ec(a){var b=ya.call(this,a,2)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.X=e.y;b.Y=e.z;b.mg();b.Wa=0;b.tc=0;b.vd=0;b.Ya=0;b.ac=0;b.bc=0;b.h=new Dk(b);b.Gb=a.translationalSpringDamper.clone();b.$h=a.translationalLimitMotor.clone();b.tb=a.rotationalSpringDamper.clone();b.Xh=a.rotationalLimitMotor.clone();return b}function ya(a,b){this.Bb=new Df(this);this.Cb=new Df(this);this.pf=Ba.defaultJointPositionCorrectionAlgorithm;this.$b=
b;this.pc=null;this.J=a.rigidBody1;this.K=a.rigidBody2;this.Ph=a.allowCollision;this.rf=a.breakForce;this.sf=a.breakTorque;switch(a.solverType){case 0:this.oh=new xd(this);break;case 1:this.oh=new yd(this)}b=a.localAnchor1;this.tf=b.x;this.uf=b.y;this.vf=b.z;a=a.localAnchor2;this.wf=a.x;this.yf=a.y;this.zf=a.z;this.Wb=this.Sb=this.Rb=this.Ie=this.He=this.je=this.Y=this.X=this.V=this.Pb=this.Jb=this.Eb=this.mb=this.Za=this.Xa=this.I=this.C=this.i=this.pe=this.oe=this.ne=this.me=this.le=this.ke=this.Sa=
this.Pa=this.Ka=this.Ja=this.qa=this.aa=0;this.M=Array(Ba.maxJacobianRows);a=0;for(b=Ba.maxJacobianRows;a<b;)this.M[a++]=new vl}function Dk(a){this.h=a;this.qa=this.aa=this.Y=this.X=this.V=this.M=this.I=this.C=this.i=0}function wl(){this.Ea=new Zj;this.Db=this.motorSpeed=this.Qa=this.Ra=this.Va=this.Oa=0;this.Aa=null}function Wk(){this.Zd=this.Yd=null;this.Na=0;this.rows=Array(Ba.maxJacobianRows);for(var a=0,b=this.rows.length;a<b;)this.rows[a++]=new wl}function xl(){this.Ve=new Zj;this.Ug=new Zj;
this.Tg=new Zj;this.friction=this.Va=this.Oa=0;this.Aa=null}function sl(){this.Zd=this.Yd=null;this.Na=0;this.rows=Array(Ba.maxManifoldPoints);for(var a=0,b=this.rows.length;a<b;)this.rows[a++]=new xl}function Zj(){this.sc=this.pa=this.oa=this.na=this.ma=this.la=this.ka=this.Ha=this.Ga=this.Fa=this.Da=this.Ca=this.Ba=0}function $i(a){this.Ta=a;this.h=0;this.i=Array(Ba.maxManifoldPoints);a=0;for(var b=Ba.maxManifoldPoints;a<b;)this.i[a++]=new Rc}function Rc(){this.Dc=this.td=this.sd=this.rd=this.qd=
this.pd=this.od=this.mc=this.lc=this.kc=this.Nb=this.Mb=this.Lb=this.Be=this.Ae=this.ze=this.ye=this.xe=this.we=0;this.Ad=new $k;this.ve=this.Xd=!1;this.uc=-1}function qd(){this.Bd=this.Dg=this.Cg=this.Bg=this.Ig=this.Hg=this.Gg=this.mf=this.lf=this.kf=0;this.rc=Array(Ba.maxManifoldPoints);for(var a=0,b=Ba.maxManifoldPoints;a<b;)this.rc[a++]=new Rc}function $k(){this.ie=this.he=this.ge=this.Ib=this.wc=this.xc=this.Hc=0}function Ve(a){this.oh=new Nd(this);this.Ta=a}function Jh(){}function cd(){this.K=
this.J=null;this.Ke=!1}function ii(){}function al(){this.basisColorZ=new z(0,0,1);this.basisColorY=new z(0,1,0);this.basisColorX=new z(1,0,0);this.basisLength=.5;this.jointRotationalConstraintRadius=.3;this.jointErrorColor=new z(1,.1,.1);this.jointLineColor=new z(.8,.8,.8);this.contactNormalLength=this.contactTangentLength=this.contactBinormalLength=.5;this.contactBinormalColor=new z(.2,.2,1);this.contactTangentColor=new z(.1,.8,.1);this.contactNormalColor=new z(1,.1,.1);this.disabledContactColor=
new z(.5,.1,.1);this.newContactColor=new z(1,1,.1);this.contactColor4=new z(.8,.1,1);this.contactColor3=new z(.1,.8,.6);this.contactColor2=new z(1,.6,.1);this.contactColor=new z(1,.1,.1);this.pairColor=new z(1,1,.1);this.bvhNodeColor=new z(.4,.4,.4);this.aabbColor=new z(1,.1,.1);this.kinematicShapeColor=new z(1,.5,.1);this.staticShapeColor=new z(.7,.7,.7);this.sleepingShapeColor2=new z(.2,.8,.5);this.sleepingShapeColor1=new z(.3,.3,.8);this.sleepyShapeColor2=new z(.6,.8,.3);this.sleepyShapeColor1=
new z(.5,.25,.6);this.shapeColor2=new z(1,.8,.1);this.shapeColor1=new z(.7,.2,.4)}function Zf(){this.h=new ld;this.wireframe=!1;this.drawShapes=!0;this.drawBvh=!1;this.drawBvhMinLevel=0;this.drawBvhMaxLevel=65536;this.drawContacts=this.drawPairs=this.drawBases=this.drawAabbs=!1;this.drawJoints=!0;this.drawJointLimits=!1;this.X=Array(5);this.M=Array(5);this.Y=Array(5);for(var a=0;5>a;){var b=a++,e=0==b||4==b?1:8;this.X[b]=Array(e);this.M[b]=Array(e);this.Y[b]=Array(e);for(e=0;8>e;){var d=e++,c=.7853981633974475*
b,f=.7853981633974475*d;this.X[b][d]=new z(Math.sin(c)*Math.cos(f),Math.cos(c),-Math.sin(c)*Math.sin(f));this.M[b][d]=new z;this.Y[b][d]=new z}}this.V=Array(8);this.aa=Array(8);this.C=Array(8);this.i=Array(8);this.I=Array(8);for(a=0;8>a;)b=a++,this.V[b]=new z(Math.cos(.7853981633974475*b),0,-Math.sin(.7853981633974475*b)),this.aa[b]=new z(Math.cos(.7853981633974475*(b+.5)),0,-Math.sin(.7853981633974475*(b+.5))),this.C[b]=new z,this.i[b]=new z,this.I[b]=new z;this.style=new al}function aj(){this.position=
new z;this.normal=new z;this.shape=null;this.fraction=1;this.position.$();this.normal.$();this.hit=!1;return this}function Ek(){}function ak(){}function bl(){}function Fk(){this.D=new Pb;this.h=null;return this}function Gk(){this.C=new rk;this.h=new Ob;this.I=new z;this.$=new z;this.M=this.i=null;return this}function Hk(){this.C=new rk;this.h=new z;this.end=new z;this.i=null;return this}function sb(a,b){null==a&&(a=2);switch(a){case 1:this.nc=new Od;break;case 2:this.nc=new dd}this.Xf=new ug(this.nc);
null==b&&(b=new z(0,-9.80665,0));this.Jb=new z(b.x,b.y,b.z);this.Ja=this.Y=this.Ka=this.I=null;this.Xa=this.Pb=this.nf=this.Sa=0;this.Sb=10;this.Rb=5;this.Za=new Hk;this.Pa=new Gk;this.mb=new Fk;this.M=new Mj;this.i=Array(Ba.islandInitialConstraintArraySize);this.X=Array(Ba.islandInitialRigidBodyArraySize);this.aa=new cl;this.h=new ld;this.Ei=0}function cl(){this.invDt=this.dt=0;this.dtRatio=1}function Mj(){this.C=Array(Ba.islandInitialRigidBodyArraySize);this.I=Array(Ba.islandInitialConstraintArraySize);
this.Y=Array(Ba.islandInitialConstraintArraySize);this.X=Array(Ba.islandInitialConstraintArraySize);this.M=this.V=this.i=this.h=0}function ug(a){this.nc=a;this.C=new bk;this.pg=0}function Ef(){this.Fc=this.zd=this.U=this.sa=null}function Hd(){this.sa=this.U=null;this.Bb=new Ef;this.Cb=new Ef;this.Yf=this.K=this.J=this.jc=this.ic=null;this.Eg=new dl;this.X=new bj;this.lh=this.fh=!1;this.Ta=new qd;this.h=new $i(this.Ta);this.ee=new Ve(this.Ta);this.xd=!1}function Hb(a,b,e,d){null==d&&(d=1);null==e&&
(e=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=e;this.w=d;Hb.numCreations++}function ld(){this.i=Array(256);this.h=0;this.C=Array(256);this.I=0;this.X=Array(256);this.Y=0;this.M=Array(256);this.V=0}function Sb(){}function Ea(a,b,e,d,c,f,h,k,g,l,m,n,q,p,r,t){null==t&&(t=1);null==r&&(r=0);null==p&&(p=0);null==q&&(q=0);null==n&&(n=0);null==m&&(m=1);null==l&&(l=0);null==g&&(g=0);null==k&&(k=0);null==h&&(h=0);null==f&&(f=1);null==c&&(c=0);null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);null==
a&&(a=1);this.e00=a;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=h;this.e13=k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=t;Ea.numCreations++}function ha(a,b,e,d,c,f,h,k,g){null==g&&(g=1);null==k&&(k=0);null==h&&(h=0);null==f&&(f=0);null==c&&(c=1);null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);null==a&&(a=1);this.e00=a;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;ha.numCreations++}function Kh(){}
function ah(){}function zc(){this.i=Array(4);this.ob=Array(4);this.sb=Array(4);this.qa=Array(3);this.qa[0]=new z(1,0,0);this.qa[1]=new z(0,1,0);this.qa[2]=new z(0,0,1);this.bc=new z;this.Sc=new z;this.Gb=new z;this.tb=new z;this.ac=new Ob;this.i[0]=new z;this.ob[0]=new z;this.sb[0]=new z;this.i[1]=new z;this.ob[1]=new z;this.sb[1]=new z;this.i[2]=new z;this.ob[2]=new z;this.sb[2]=new z;this.i[3]=new z;this.ob[3]=new z;this.sb[3]=new z;this.C=new z;this.aa=new z;this.closestPoint1=new z;this.closestPoint2=
new z;this.Y=new ck}function Ba(){}function Ob(){this.H=this.G=this.F=0;this.A=1;this.o=this.m=this.j=0;this.v=1;this.l=this.u=this.s=0;this.B=1}function z(a,b,e){null==e&&(e=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=e;z.numCreations++}function el(){this.xi=new z}function Aj(){this.kd=new z;this.ob=new z;this.sb=new z}function Lh(){this.id=++Lh.h;this.sa=this.U=null;this.jh=new z;this.Zh=this.bh=0;this.Lg=!1;this.La=Array(3);this.Ub=Array(3);this.Vb=Array(3);this.ng=new z;this.zc=
Array(3);this.zc[0]=1;this.zc[1]=2;this.zc[2]=0}function ck(){this.La=Array(Ba.maxEPAVertices);this.X=new z;this.Vd=0;this.i=this.C=null;this.V=0;this.M=this.I=null}function sk(){this.C=!1;return this}function dk(a){this.C=a;return this}function ek(a){this.C=a;return this}function tk(){this.C=!1;return this}function uk(){this.C=!1;return this}function dl(){}function Ik(){this.C=this.I=this.M=this.w=0;this.i=Array(8);this.h=Array(8);this.i[0]=new lf;this.h[0]=new lf;this.i[1]=new lf;this.h[1]=new lf;
this.i[2]=new lf;this.h[2]=new lf;this.i[3]=new lf;this.h[3]=new lf;this.i[4]=new lf;this.h[4]=new lf;this.i[5]=new lf;this.h[5]=new lf;this.i[6]=new lf;this.h[6]=new lf;this.i[7]=new lf;this.h[7]=new lf}function lf(){this.lb=this.kb=this.jb=this.y=this.x=0}function vk(){this.C=!1;this.i=new Ik;return this}function vg(a){this.C=a}function fl(){this.position1=new z;this.position2=new z;this.id=this.depth=0}function bj(){this.numPoints=0;this.normal=new z;this.points=Array(Ba.maxManifoldPoints);this.incremental=
!1;for(var a=0,b=Ba.maxManifoldPoints;a<b;)this.points[a++]=new fl}function bk(){this.h=Array(8);this.h[0]=Array(8);this.h[1]=Array(8);this.h[2]=Array(8);this.h[3]=Array(8);this.h[4]=Array(8);this.h[5]=Array(8);var a=new tk;this.h[0][0]=new sk;this.h[0][1]=new ek(!1);this.h[0][2]=a;this.h[0][3]=a;this.h[0][4]=new dk(!1);this.h[0][5]=a;this.h[1][0]=new ek(!0);this.h[1][1]=new vk;this.h[1][2]=a;this.h[1][3]=a;this.h[1][4]=a;this.h[1][5]=a;this.h[2][0]=a;this.h[2][1]=a;this.h[2][2]=a;this.h[2][3]=a;
this.h[2][4]=a;this.h[2][5]=a;this.h[3][0]=a;this.h[3][1]=a;this.h[3][2]=a;this.h[3][3]=a;this.h[3][4]=a;this.h[3][5]=a;this.h[4][0]=new dk(!0);this.h[4][1]=a;this.h[4][2]=a;this.h[4][3]=a;this.h[4][4]=new uk;this.h[4][5]=a;this.h[5][0]=a;this.h[5][1]=a;this.h[5][2]=a;this.h[5][3]=a;this.h[5][4]=a;this.h[5][5]=a}function nh(a){var b=md.call(this,0)||this;b.nb=a;b.fc=b.nb;b.Wd();return b}function rk(){this.position=new z;this.normal=new z;this.fraction=0}function Bj(){}function $f(a,b){var e=md.call(this,
2)||this;e.nb=a;e.Qb=b;e.Wd();return e}function Mh(a){var b=md.call(this,5)||this;b.Vd=a.length;b.La=Array(b.Vd);b.qf=Array(b.Vd);for(var e=0,d=b.Vd;e<d;){var c=e++;b.La[c]=a[c];b.qf[c]=new z}b.Ja=!0;b.Wd();return b}function ag(a,b){var e=md.call(this,3)||this;e.nb=a;e.Qb=b;e.C=a/Math.sqrt(a*a+4*b*b);e.i=2*b/Math.sqrt(a*a+4*b*b);e.Wd();return e}function bg(a,b){var e=md.call(this,4)||this;e.nb=a;e.Qb=b;e.fc=e.nb;e.Wd();return e}function cg(a){var b=md.call(this,1)||this;b.Sd=a.x;b.Td=a.y;b.Ud=a.z;
b.i=a.x;b.C=0;b.I=0;b.M=0;b.V=a.y;b.X=0;b.Y=0;b.aa=0;b.qa=a.z;b.Wd();a=a.x<a.y?a.z<a.x?a.z:a.x:a.z<a.y?a.z:a.y;b.fc>.2*a&&(b.fc=.2*a);return b}function Pb(){this.va=this.ua=this.ta=this.ya=this.xa=this.wa=0}function Jk(){this.Zb=null;this.M=0;this.I=new gl;this.i=this.C=this.h=null;this.ng=Array(1024)}function gl(){this.Yg=!1}function hl(a,b){a=wg.call(this,a,b)||this;a.bg=null;a.Lf=!1;return a}function wk(){this.Le=this.Me=this.U=null;this.L=Array(2);this.Ua=0;this.Ma=null;this.Z=0;this.Fb=null;
this.P=this.O=this.N=this.T=this.S=this.R=0}function dd(){var a=uc.call(this,2)||this;a.eh=!0;a.h=new Jk;a.I=Array(1024);a.M=0;return a}function Od(){var a=uc.call(this,1)||this;a.eh=!1;return a}function bh(){this.Of=this.Nf=null}function wg(a,b){this.userData=a;this.uc=b;this.U=this.sa=null;this.P=this.O=this.N=this.T=this.S=this.R=0}function Kk(){}function Cj(){}function Lk(){var a=md.call(this,-1)||this;a.min=new z;a.max=new z;return a}function xk(){return md.call(this,-1)||this}function md(a){a=
mf.call(this,a)||this;a.fc=Ba.defaultGJKMargin;a.Ja=!1;return a}function mf(a){this.$b=a;this.Ge=0}function uc(a){this.$b=a;this.qa=0;this.Cd=this.C=this.i=null;this.eh=!1;this.Ja=0;this.V=null;this.mb=0;this.Ka=new xk;this.D=new Lk;this.Za=new Ob;this.$=new z;new rk}function il(){}function Nh(){}Nh.h=function(){return Date.now()};il.h=function(){window.OIMO={};window.OIMO.BroadPhase=uc;uc.prototype.createProxy=uc.prototype.eg;uc.prototype.destroyProxy=uc.prototype.fg;uc.prototype.moveProxy=uc.prototype.fd;
uc.prototype.isOverlapping=uc.prototype.Sb;uc.prototype.collectPairs=uc.prototype.qg;uc.prototype.getProxyPairList=uc.prototype.Eb;uc.prototype.isIncremental=uc.prototype.Rb;uc.prototype.getTestCount=uc.prototype.Jb;uc.prototype.rayCast=uc.prototype.yd;uc.prototype.convexCast=uc.prototype.aa;uc.prototype.aabbTest=uc.prototype.Y;window.OIMO.Geometry=mf;mf.prototype.getType=mf.prototype.Ka;mf.prototype.getVolume=mf.prototype.Za;mf.prototype.rayCast=mf.prototype.yd;window.OIMO.ConvexGeometry=md;md.prototype.getGjkMergin=
md.prototype.Pa;md.prototype.setGjkMergin=md.prototype.mb;md.prototype.computeLocalSupportingVertex=md.prototype.ud;md.prototype.rayCast=md.prototype.yd;window.OIMO.BroadPhaseProxyCallback=Cj;Cj.prototype.process=Cj.prototype.process;window.OIMO.BroadPhaseType=Kk;window.OIMO.Proxy=wg;wg.prototype.getId=wg.prototype.C;wg.prototype.getFatAabb=wg.prototype.h;wg.prototype.getFatAabbTo=wg.prototype.i;window.OIMO.ProxyPair=bh;bh.prototype.getProxy1=bh.prototype.i;bh.prototype.getProxy2=bh.prototype.C;bh.prototype.getNext=
bh.prototype.h;window.OIMO.BruteForceBroadPhase=Od;Od.prototype.createProxy=Od.prototype.eg;Od.prototype.destroyProxy=Od.prototype.fg;Od.prototype.moveProxy=Od.prototype.fd;Od.prototype.collectPairs=Od.prototype.qg;Od.prototype.rayCast=Od.prototype.yd;Od.prototype.convexCast=Od.prototype.aa;Od.prototype.aabbTest=Od.prototype.Y;window.OIMO.BvhBroadPhase=dd;dd.prototype.createProxy=dd.prototype.eg;dd.prototype.destroyProxy=dd.prototype.fg;dd.prototype.moveProxy=dd.prototype.fd;dd.prototype.collectPairs=
dd.prototype.qg;dd.prototype.rayCast=dd.prototype.yd;dd.prototype.convexCast=dd.prototype.aa;dd.prototype.aabbTest=dd.prototype.Y;dd.prototype.getTreeBalance=dd.prototype.Pb;window.OIMO.Aabb=Pb;Pb.prototype.init=Pb.prototype.Ia;Pb.prototype.getMin=Pb.prototype.Ja;Pb.prototype.getMinTo=Pb.prototype.Ka;Pb.prototype.setMin=Pb.prototype.Xa;Pb.prototype.getMax=Pb.prototype.aa;Pb.prototype.getMaxTo=Pb.prototype.qa;Pb.prototype.setMax=Pb.prototype.Sa;Pb.prototype.getCenter=Pb.prototype.C;Pb.prototype.getCenterTo=
Pb.prototype.I;Pb.prototype.getExtents=Pb.prototype.M;Pb.prototype.getExtentsTo=Pb.prototype.V;Pb.prototype.combine=Pb.prototype.h;Pb.prototype.combined=Pb.prototype.i;Pb.prototype.overlap=Pb.prototype.Pa;Pb.prototype.getIntersection=Pb.prototype.X;Pb.prototype.getIntersectionTo=Pb.prototype.Y;Pb.prototype.copyFrom=Pb.prototype.Dd;Pb.prototype.clone=Pb.prototype.clone;window.OIMO.BoxGeometry=cg;cg.prototype.getHalfExtents=cg.prototype.Sa;cg.prototype.getHalfExtentsTo=cg.prototype.Xa;cg.prototype.computeLocalSupportingVertex=
cg.prototype.ud;window.OIMO.CapsuleGeometry=bg;bg.prototype.getRadius=bg.prototype.C;bg.prototype.getHalfHeight=bg.prototype.i;bg.prototype.computeLocalSupportingVertex=bg.prototype.ud;window.OIMO.ConeGeometry=ag;ag.prototype.getRadius=ag.prototype.M;ag.prototype.getHalfHeight=ag.prototype.I;ag.prototype.computeLocalSupportingVertex=ag.prototype.ud;window.OIMO.ConvexHullGeometry=Mh;Mh.prototype.getVertices=Mh.prototype.i;Mh.prototype.computeLocalSupportingVertex=Mh.prototype.ud;window.OIMO.CylinderGeometry=
$f;$f.prototype.getRadius=$f.prototype.C;$f.prototype.getHalfHeight=$f.prototype.i;$f.prototype.computeLocalSupportingVertex=$f.prototype.ud;window.OIMO.GeometryType=Bj;window.OIMO.RayCastHit=rk;window.OIMO.SphereGeometry=nh;nh.prototype.getRadius=nh.prototype.i;nh.prototype.computeLocalSupportingVertex=nh.prototype.ud;window.OIMO.CollisionMatrix=bk;bk.prototype.getDetector=bk.prototype.i;window.OIMO.DetectorResult=bj;bj.prototype.getMaxDepth=bj.prototype.h;bj.prototype.clear=bj.prototype.clear;window.OIMO.DetectorResultPoint=
fl;window.OIMO.Detector=vg;vg.prototype.detect=vg.prototype.Hi;window.OIMO.BoxBoxDetector=vk;window.OIMO.CapsuleCapsuleDetector=uk;window.OIMO.GjkEpaDetector=tk;window.OIMO.SphereBoxDetector=ek;window.OIMO.SphereCapsuleDetector=dk;window.OIMO.SphereSphereDetector=sk;window.OIMO.Vec3=z;z.prototype.init=z.prototype.Ia;z.prototype.zero=z.prototype.$;z.prototype.add=z.prototype.add;z.prototype.add3=z.prototype.aa;z.prototype.addScaled=z.prototype.Ja;z.prototype.sub=z.prototype.sub;z.prototype.sub3=z.prototype.Ya;
z.prototype.scale=z.prototype.V;z.prototype.scale3=z.prototype.Wb;z.prototype.dot=z.prototype.i;z.prototype.cross=z.prototype.Pa;z.prototype.addEq=z.prototype.h;z.prototype.add3Eq=z.prototype.qa;z.prototype.addScaledEq=z.prototype.Ka;z.prototype.subEq=z.prototype.Y;z.prototype.sub3Eq=z.prototype.tb;z.prototype.scaleEq=z.prototype.X;z.prototype.scale3Eq=z.prototype.Wa;z.prototype.crossEq=z.prototype.Sa;z.prototype.mulMat3=z.prototype.Xa;z.prototype.mulMat4=z.prototype.mb;z.prototype.mulTransform=z.prototype.Jb;
z.prototype.mulMat3Eq=z.prototype.Za;z.prototype.mulMat4Eq=z.prototype.Eb;z.prototype.mulTransformEq=z.prototype.Pb;z.prototype.length=z.prototype.length;z.prototype.lengthSq=z.prototype.C;z.prototype.normalized=z.prototype.M;z.prototype.normalize=z.prototype.I;z.prototype.negate=z.prototype.Rb;z.prototype.negateEq=z.prototype.Sb;z.prototype.copyFrom=z.prototype.Dd;z.prototype.clone=z.prototype.clone;z.prototype.toString=z.prototype.toString;window.OIMO.Transform=Ob;Ob.prototype.identity=Ob.prototype.X;
Ob.prototype.getPosition=Ob.prototype.C;Ob.prototype.getPositionTo=Ob.prototype.I;Ob.prototype.setPosition=Ob.prototype.Ja;Ob.prototype.translate=Ob.prototype.Sa;Ob.prototype.getRotation=Ob.prototype.M;Ob.prototype.getRotationTo=Ob.prototype.V;Ob.prototype.setRotation=Ob.prototype.Ka;Ob.prototype.setRotationXyz=Ob.prototype.Pa;Ob.prototype.rotate=Ob.prototype.Y;Ob.prototype.rotateXyz=Ob.prototype.aa;Ob.prototype.getOrientation=Ob.prototype.h;Ob.prototype.getOrientationTo=Ob.prototype.i;Ob.prototype.setOrientation=
Ob.prototype.qa;Ob.prototype.clone=Ob.prototype.clone;Ob.prototype.copyFrom=Ob.prototype.Dd;window.OIMO.Setting=Ba;window.OIMO.GjkEpa=zc;zc.prototype.computeClosestPoints=zc.prototype.Rb;zc.prototype.computeDistance=zc.prototype.Wb;zc.prototype.convexCast=zc.prototype.Za;zc.prototype.rayCast=zc.prototype.yd;zc.getInstance=zc.h;window.OIMO.GjkEpaResultState=ah;window.OIMO.SimplexUtil=Kh;Kh.projectOrigin2=Kh.h;Kh.projectOrigin3=Kh.i;Kh.projectOrigin4=Kh.C;window.OIMO.Mat3=ha;ha.prototype.init=ha.prototype.Ia;
ha.prototype.identity=ha.prototype.X;ha.prototype.add=ha.prototype.add;ha.prototype.sub=ha.prototype.sub;ha.prototype.scale=ha.prototype.Za;ha.prototype.mul=ha.prototype.qa;ha.prototype.addEq=ha.prototype.h;ha.prototype.subEq=ha.prototype.Eb;ha.prototype.scaleEq=ha.prototype.mb;ha.prototype.mulEq=ha.prototype.Ja;ha.prototype.prependScale=ha.prototype.Sa;ha.prototype.appendScale=ha.prototype.I;ha.prototype.prependRotation=ha.prototype.Ka;ha.prototype.appendRotation=ha.prototype.i;ha.prototype.prependScaleEq=
ha.prototype.Xa;ha.prototype.appendScaleEq=ha.prototype.M;ha.prototype.prependRotationEq=ha.prototype.Pa;ha.prototype.appendRotationEq=ha.prototype.C;ha.prototype.transpose=ha.prototype.Rb;ha.prototype.transposeEq=ha.prototype.Sb;ha.prototype.determinant=ha.prototype.V;ha.prototype.trace=ha.prototype.Pb;ha.prototype.inverse=ha.prototype.Y;ha.prototype.inverseEq=ha.prototype.aa;ha.prototype.toArray=ha.prototype.Jb;ha.prototype.copyFrom=ha.prototype.Dd;ha.prototype.clone=ha.prototype.clone;ha.prototype.fromQuat=
ha.prototype.Ya;ha.prototype.toQuat=ha.prototype.Ed;ha.prototype.fromEulerXyz=ha.prototype.Wa;ha.prototype.toEulerXyz=ha.prototype.Sc;ha.prototype.getRow=ha.prototype.ac;ha.prototype.getCol=ha.prototype.Gb;ha.prototype.getRowTo=ha.prototype.bc;ha.prototype.getColTo=ha.prototype.Hb;ha.prototype.fromRows=ha.prototype.tb;ha.prototype.fromCols=ha.prototype.Wb;ha.prototype.toString=ha.prototype.toString;window.OIMO.Mat4=Ea;Ea.prototype.init=Ea.prototype.Ia;Ea.prototype.identity=Ea.prototype.Y;Ea.prototype.add=
Ea.prototype.add;Ea.prototype.sub=Ea.prototype.sub;Ea.prototype.scale=Ea.prototype.Eb;Ea.prototype.mul=Ea.prototype.Ja;Ea.prototype.addEq=Ea.prototype.h;Ea.prototype.subEq=Ea.prototype.Pb;Ea.prototype.scaleEq=Ea.prototype.Jb;Ea.prototype.mulEq=Ea.prototype.Ka;Ea.prototype.prependScale=Ea.prototype.Za;Ea.prototype.appendScale=Ea.prototype.I;Ea.prototype.prependRotation=Ea.prototype.Sa;Ea.prototype.appendRotation=Ea.prototype.i;Ea.prototype.prependTranslation=Ea.prototype.bc;Ea.prototype.appendTranslation=
Ea.prototype.Ya;Ea.prototype.prependScaleEq=Ea.prototype.mb;Ea.prototype.appendScaleEq=Ea.prototype.M;Ea.prototype.prependRotationEq=Ea.prototype.Xa;Ea.prototype.appendRotationEq=Ea.prototype.C;Ea.prototype.prependTranslationEq=Ea.prototype.Sc;Ea.prototype.appendTranslationEq=Ea.prototype.tb;Ea.prototype.transpose=Ea.prototype.Wb;Ea.prototype.transposeEq=Ea.prototype.Wa;Ea.prototype.determinant=Ea.prototype.V;Ea.prototype.trace=Ea.prototype.Sb;Ea.prototype.inverse=Ea.prototype.aa;Ea.prototype.inverseEq=
Ea.prototype.qa;Ea.prototype.lookAt=Ea.prototype.Hb;Ea.prototype.perspective=Ea.prototype.Pa;Ea.prototype.ortho=Ea.prototype.ac;Ea.prototype.toArray=Ea.prototype.Rb;Ea.prototype.copyFrom=Ea.prototype.Dd;Ea.prototype.fromMat3=Ea.prototype.X;Ea.prototype.fromTransform=Ea.prototype.Gb;Ea.prototype.clone=Ea.prototype.clone;Ea.prototype.toString=Ea.prototype.toString;window.OIMO.MathUtil=Sb;Sb.abs=Sb.abs;Sb.sin=Sb.sin;Sb.cos=Sb.cos;Sb.tan=Sb.tan;Sb.asin=Sb.asin;Sb.acos=Sb.acos;Sb.atan=Sb.atan;Sb.safeAsin=
Sb.X;Sb.safeAcos=Sb.V;Sb.atan2=Sb.atan2;Sb.sqrt=Sb.sqrt;Sb.clamp=Sb.h;Sb.rand=Sb.i;Sb.randIn=Sb.C;Sb.randVec3In=Sb.M;Sb.randVec3=Sb.I;window.OIMO.Pool=ld;ld.prototype.vec3=ld.prototype.mb;ld.prototype.mat3=ld.prototype.Sa;ld.prototype.mat4=ld.prototype.Xa;ld.prototype.quat=ld.prototype.Za;ld.prototype.dispose=ld.prototype.aa;ld.prototype.disposeVec3=ld.prototype.Pa;ld.prototype.disposeMat3=ld.prototype.qa;ld.prototype.disposeMat4=ld.prototype.Ja;ld.prototype.disposeQuat=ld.prototype.Ka;window.OIMO.Quat=
Hb;Hb.prototype.identity=Hb.prototype.I;Hb.prototype.init=Hb.prototype.Ia;Hb.prototype.add=Hb.prototype.add;Hb.prototype.sub=Hb.prototype.sub;Hb.prototype.scale=Hb.prototype.Y;Hb.prototype.addEq=Hb.prototype.h;Hb.prototype.subEq=Hb.prototype.qa;Hb.prototype.scaleEq=Hb.prototype.aa;Hb.prototype.length=Hb.prototype.length;Hb.prototype.lengthSq=Hb.prototype.M;Hb.prototype.dot=Hb.prototype.i;Hb.prototype.normalized=Hb.prototype.X;Hb.prototype.normalize=Hb.prototype.V;Hb.prototype.setArc=Hb.prototype.Ja;
Hb.prototype.slerp=Hb.prototype.Ka;Hb.prototype.copyFrom=Hb.prototype.Dd;Hb.prototype.clone=Hb.prototype.clone;Hb.prototype.fromMat3=Hb.prototype.C;Hb.prototype.toMat3=Hb.prototype.Pa;Hb.prototype.toString=Hb.prototype.toString;window.OIMO.Contact=Hd;Hd.prototype.getShape1=Hd.prototype.M;Hd.prototype.getShape2=Hd.prototype.V;Hd.prototype.isTouching=Hd.prototype.vh;Hd.prototype.getManifold=Hd.prototype.i;Hd.prototype.getContactConstraint=Hd.prototype.Y;Hd.prototype.getPrev=Hd.prototype.I;Hd.prototype.getNext=
Hd.prototype.C;window.OIMO.ContactLink=Ef;Ef.prototype.getContact=Ef.prototype.h;Ef.prototype.getOther=Ef.prototype.C;Ef.prototype.getPrev=Ef.prototype.I;Ef.prototype.getNext=Ef.prototype.i;window.OIMO.ContactManager=ug;ug.prototype.getNumContacts=ug.prototype.X;ug.prototype.getContactList=ug.prototype.V;window.OIMO.TimeStep=cl;window.OIMO.World=sb;sb.prototype.step=sb.prototype.Hb;sb.prototype.addRigidBody=sb.prototype.Ie;sb.prototype.removeRigidBody=sb.prototype.hd;sb.prototype.addJoint=sb.prototype.He;
sb.prototype.removeJoint=sb.prototype.yi;sb.prototype.setDebugDraw=sb.prototype.mg;sb.prototype.getDebugDraw=sb.prototype.vf;sb.prototype.debugDraw=sb.prototype.sf;sb.prototype.rayCast=sb.prototype.yd;sb.prototype.convexCast=sb.prototype.tb;sb.prototype.aabbTest=sb.prototype.Ya;sb.prototype.getRigidBodyList=sb.prototype.gd;sb.prototype.getJointList=sb.prototype.yf;sb.prototype.getBroadPhase=sb.prototype.tf;sb.prototype.getContactManager=sb.prototype.uf;sb.prototype.getNumRigidBodies=sb.prototype.Af;
sb.prototype.getNumJoints=sb.prototype.tc;sb.prototype.getNumShapes=sb.prototype.Gb;sb.prototype.getNumIslands=sb.prototype.zf;sb.prototype.getNumVelocityIterations=sb.prototype.yc;sb.prototype.setNumVelocityIterations=sb.prototype.Vg;sb.prototype.getNumPositionIterations=sb.prototype.vd;sb.prototype.setNumPositionIterations=sb.prototype.wd;sb.prototype.getGravity=sb.prototype.wf;sb.prototype.setGravity=sb.prototype.jd;window.OIMO.AabbTestCallback=bl;window.OIMO.ContactCallback=ak;window.OIMO.RayCastCallback=
Ek;window.OIMO.RayCastClosest=aj;aj.prototype.clear=aj.prototype.clear;aj.prototype.process=aj.prototype.process;window.OIMO.DebugDraw=Zf;window.OIMO.DebugDrawStyle=al;window.OIMO.Performance=ii;window.OIMO.ConstraintSolver=cd;cd.prototype.preSolveVelocity=cd.prototype.Rf;cd.prototype.warmStart=cd.prototype.Wf;cd.prototype.solveVelocity=cd.prototype.Vf;cd.prototype.postSolveVelocity=cd.prototype.rg;cd.prototype.preSolvePosition=cd.prototype.Bf;cd.prototype.solvePositionSplitImpulse=cd.prototype.Uf;
cd.prototype.solvePositionNgs=cd.prototype.Tf;cd.prototype.postSolve=cd.prototype.postSolve;window.OIMO.PositionCorrectionAlgorithm=Jh;window.OIMO.ContactConstraint=Ve;Ve.prototype.getShape1=Ve.prototype.i;Ve.prototype.getShape2=Ve.prototype.C;Ve.prototype.getManifold=Ve.prototype.h;Ve.prototype.isTouching=Ve.prototype.vh;window.OIMO.Manifold=qd;qd.prototype.getNormal=qd.prototype.I;qd.prototype.getNormalTo=qd.prototype.M;qd.prototype.getTangent=qd.prototype.Y;qd.prototype.getTangentTo=qd.prototype.aa;
qd.prototype.getBinormal=qd.prototype.i;qd.prototype.getBinormalTo=qd.prototype.C;qd.prototype.getPoints=qd.prototype.X;qd.prototype.getNumPoints=qd.prototype.V;window.OIMO.ManifoldPoint=Rc;Rc.prototype.getPosition1=Rc.prototype.M;Rc.prototype.getPosition1To=Rc.prototype.V;Rc.prototype.getPosition2=Rc.prototype.X;Rc.prototype.getPosition2To=Rc.prototype.Y;Rc.prototype.getDepth=Rc.prototype.C;Rc.prototype.isWarmStarted=Rc.prototype.qa;Rc.prototype.getNormalImpulse=Rc.prototype.I;Rc.prototype.getTangentImpulse=
Rc.prototype.aa;Rc.prototype.getBinormalImpulse=Rc.prototype.i;Rc.prototype.isEnabled=Rc.prototype.h;window.OIMO.Joint=ya;ya.prototype.getRigidBody1=ya.prototype.gi;ya.prototype.getRigidBody2=ya.prototype.hi;ya.prototype.getType=ya.prototype.Ai;ya.prototype.getAnchor1=ya.prototype.Bh;ya.prototype.getAnchor2=ya.prototype.Dh;ya.prototype.getAnchor1To=ya.prototype.Ch;ya.prototype.getAnchor2To=ya.prototype.Eh;ya.prototype.getLocalAnchor1=ya.prototype.xh;ya.prototype.getLocalAnchor2=ya.prototype.ci;ya.prototype.getLocalAnchor1To=
ya.prototype.bi;ya.prototype.getLocalAnchor2To=ya.prototype.di;ya.prototype.getBasis1=ya.prototype.Jh;ya.prototype.getBasis2=ya.prototype.Lh;ya.prototype.getBasis1To=ya.prototype.Kh;ya.prototype.getBasis2To=ya.prototype.Mh;ya.prototype.getAllowCollision=ya.prototype.Ah;ya.prototype.setAllowCollision=ya.prototype.Ri;ya.prototype.getBreakForce=ya.prototype.Nh;ya.prototype.setBreakForce=ya.prototype.Si;ya.prototype.getBreakTorque=ya.prototype.Oh;ya.prototype.setBreakTorque=ya.prototype.Ti;ya.prototype.getPositionCorrectionAlgorithm=
ya.prototype.fi;ya.prototype.setPositionCorrectionAlgorithm=ya.prototype.Ui;ya.prototype.getAppliedForce=ya.prototype.Fh;ya.prototype.getAppliedForceTo=ya.prototype.Gh;ya.prototype.getAppliedTorque=ya.prototype.Hh;ya.prototype.getAppliedTorqueTo=ya.prototype.Ih;ya.prototype.getPrev=ya.prototype.zi;ya.prototype.getNext=ya.prototype.Vg;window.OIMO.CylindricalJoint=ec;ec.prototype.getAxis1=ec.prototype.gd;ec.prototype.getAxis2=ec.prototype.jd;ec.prototype.getAxis1To=ec.prototype.hd;ec.prototype.getAxis2To=
ec.prototype.wd;ec.prototype.getLocalAxis1=ec.prototype.$d;ec.prototype.getLocalAxis2=ec.prototype.be;ec.prototype.getLocalAxis1To=ec.prototype.ae;ec.prototype.getLocalAxis2To=ec.prototype.Qd;ec.prototype.getTranslationalSpringDamper=ec.prototype.Ze;ec.prototype.getRotationalSpringDamper=ec.prototype.Xe;ec.prototype.getTranslationalLimitMotor=ec.prototype.Ye;ec.prototype.getRotationalLimitMotor=ec.prototype.We;ec.prototype.getAngle=ec.prototype.yc;ec.prototype.getTranslation=ec.prototype.Rd;window.OIMO.JointConfig=
jf;window.OIMO.CylindricalJointConfig=Yj;Yj.prototype.init=Yj.prototype.Ia;window.OIMO.GenericJoint=Qc;Qc.prototype.getAxisX=Qc.prototype.ae;Qc.prototype.getAxisY=Qc.prototype.be;Qc.prototype.getAxisZ=Qc.prototype.Qd;Qc.prototype.getTranslationalSpringDampers=Qc.prototype.Ye;Qc.prototype.getRotationalSpringDampers=Qc.prototype.We;Qc.prototype.getTranslationalLimitMotors=Qc.prototype.Xe;Qc.prototype.getRotationalLimitMotors=Qc.prototype.Rd;Qc.prototype.getAngles=Qc.prototype.$d;Qc.prototype.getTranslations=
Qc.prototype.Ze;window.OIMO.GenericJointConfig=Xj;Xj.prototype.init=Xj.prototype.Ia;window.OIMO.JointLink=Df;Df.prototype.getContact=Df.prototype.h;Df.prototype.getOther=Df.prototype.C;Df.prototype.getPrev=Df.prototype.I;Df.prototype.getNext=Df.prototype.i;window.OIMO.JointType=$g;window.OIMO.PrismaticJoint=rc;rc.prototype.getAxis1=rc.prototype.vd;rc.prototype.getAxis2=rc.prototype.gd;rc.prototype.getAxis1To=rc.prototype.yc;rc.prototype.getAxis2To=rc.prototype.hd;rc.prototype.getLocalAxis1=rc.prototype.wd;
rc.prototype.getLocalAxis2=rc.prototype.ae;rc.prototype.getLocalAxis1To=rc.prototype.$d;rc.prototype.getLocalAxis2To=rc.prototype.be;rc.prototype.getSpringDamper=rc.prototype.Qd;rc.prototype.getLimitMotor=rc.prototype.jd;rc.prototype.getTranslation=rc.prototype.Rd;window.OIMO.PrismaticJointConfig=Wj;Wj.prototype.init=Wj.prototype.Ia;window.OIMO.RagdollJoint=$b;$b.prototype.getAxis1=$b.prototype.$d;$b.prototype.getAxis2=$b.prototype.be;$b.prototype.getAxis1To=$b.prototype.ae;$b.prototype.getAxis2To=
$b.prototype.Qd;$b.prototype.getLocalAxis1=$b.prototype.Rd;$b.prototype.getLocalAxis2=$b.prototype.Xe;$b.prototype.getLocalAxis1To=$b.prototype.We;$b.prototype.getLocalAxis2To=$b.prototype.Ye;$b.prototype.getTwistSpringDamper=$b.prototype.Qi;$b.prototype.getTwistLimitMotor=$b.prototype.ji;$b.prototype.getSwingSpringDamper=$b.prototype.ug;$b.prototype.getSwingAxis=$b.prototype.sg;$b.prototype.getSwingAxisTo=$b.prototype.tg;$b.prototype.getSwingAngle=$b.prototype.Ze;$b.prototype.getTwistAngle=$b.prototype.ii;
window.OIMO.RagdollJointConfig=Vj;Vj.prototype.init=Vj.prototype.Ia;window.OIMO.RevoluteJoint=qc;qc.prototype.getAxis1=qc.prototype.yc;qc.prototype.getAxis2=qc.prototype.hd;qc.prototype.getAxis1To=qc.prototype.gd;qc.prototype.getAxis2To=qc.prototype.jd;qc.prototype.getLocalAxis1=qc.prototype.$d;qc.prototype.getLocalAxis2=qc.prototype.be;qc.prototype.getLocalAxis1To=qc.prototype.ae;qc.prototype.getLocalAxis2To=qc.prototype.Qd;qc.prototype.getSpringDamper=qc.prototype.Rd;qc.prototype.getLimitMotor=
qc.prototype.wd;qc.prototype.getAngle=qc.prototype.tc;window.OIMO.RevoluteJointConfig=Uj;Uj.prototype.init=Uj.prototype.Ia;window.OIMO.RotationalLimitMotor=ne;ne.prototype.setLimits=ne.prototype.h;ne.prototype.setMotor=ne.prototype.i;ne.prototype.clone=ne.prototype.clone;window.OIMO.SphericalJoint=Zi;Zi.prototype.getSpringDamper=Zi.prototype.Ya;window.OIMO.SphericalJointConfig=Tj;Tj.prototype.init=Tj.prototype.Ia;window.OIMO.SpringDamper=Ed;Ed.prototype.setSpring=Ed.prototype.h;Ed.prototype.setSymplecticEuler=
Ed.prototype.i;Ed.prototype.clone=Ed.prototype.clone;window.OIMO.TranslationalLimitMotor=kf;kf.prototype.setLimits=kf.prototype.h;kf.prototype.setMotor=kf.prototype.i;kf.prototype.clone=kf.prototype.clone;window.OIMO.UniversalJoint=dc;dc.prototype.getAxis1=dc.prototype.$d;dc.prototype.getAxis2=dc.prototype.be;dc.prototype.getAxis1To=dc.prototype.ae;dc.prototype.getAxis2To=dc.prototype.Qd;dc.prototype.getLocalAxis1=dc.prototype.Rd;dc.prototype.getLocalAxis2=dc.prototype.Xe;dc.prototype.getLocalAxis1To=
dc.prototype.We;dc.prototype.getLocalAxis2To=dc.prototype.Ye;dc.prototype.getSpringDamper1=dc.prototype.ii;dc.prototype.getSpringDamper2=dc.prototype.ji;dc.prototype.getLimitMotor1=dc.prototype.tg;dc.prototype.getLimitMotor2=dc.prototype.ug;dc.prototype.getAngle1=dc.prototype.Ze;dc.prototype.getAngle2=dc.prototype.sg;window.OIMO.UniversalJointConfig=Sj;Sj.prototype.init=Sj.prototype.Ia;window.OIMO.ConstraintSolverType=Ck;window.OIMO.DirectJointConstraintSolver=yd;yd.prototype.preSolveVelocity=yd.prototype.Rf;
yd.prototype.warmStart=yd.prototype.Wf;yd.prototype.solveVelocity=yd.prototype.Vf;yd.prototype.postSolveVelocity=yd.prototype.rg;yd.prototype.preSolvePosition=yd.prototype.Bf;yd.prototype.solvePositionSplitImpulse=yd.prototype.Uf;yd.prototype.solvePositionNgs=yd.prototype.Tf;yd.prototype.postSolve=yd.prototype.postSolve;window.OIMO.PgsContactConstraintSolver=Nd;Nd.prototype.preSolveVelocity=Nd.prototype.Rf;Nd.prototype.warmStart=Nd.prototype.Wf;Nd.prototype.solveVelocity=Nd.prototype.Vf;Nd.prototype.preSolvePosition=
Nd.prototype.Bf;Nd.prototype.solvePositionSplitImpulse=Nd.prototype.Uf;Nd.prototype.solvePositionNgs=Nd.prototype.Tf;Nd.prototype.postSolve=Nd.prototype.postSolve;window.OIMO.PgsJointConstraintSolver=xd;xd.prototype.preSolveVelocity=xd.prototype.Rf;xd.prototype.warmStart=xd.prototype.Wf;xd.prototype.solveVelocity=xd.prototype.Vf;xd.prototype.postSolveVelocity=xd.prototype.rg;xd.prototype.preSolvePosition=xd.prototype.Bf;xd.prototype.solvePositionSplitImpulse=xd.prototype.Uf;xd.prototype.solvePositionNgs=
xd.prototype.Tf;xd.prototype.postSolve=xd.prototype.postSolve;window.OIMO.MassData=Vk;window.OIMO.RigidBody=J;J.prototype.getPosition=J.prototype.Wa;J.prototype.getPositionTo=J.prototype.Ya;J.prototype.setPosition=J.prototype.He;J.prototype.translate=J.prototype.tf;J.prototype.getRotation=J.prototype.Gb;J.prototype.getRotationTo=J.prototype.Hb;J.prototype.setRotation=J.prototype.Ie;J.prototype.setRotationXyz=J.prototype.rf;J.prototype.rotate=J.prototype.Ed;J.prototype.rotateXyz=J.prototype.ce;J.prototype.getOrientation=
J.prototype.Sb;J.prototype.getOrientationTo=J.prototype.Wb;J.prototype.setOrientation=J.prototype.je;J.prototype.getTransform=J.prototype.ac;J.prototype.getTransformTo=J.prototype.bc;J.prototype.setTransform=J.prototype.sf;J.prototype.getMass=J.prototype.Bh;J.prototype.getLocalInertia=J.prototype.We;J.prototype.getLocalInertiaTo=J.prototype.Xe;J.prototype.getMassData=J.prototype.Ch;J.prototype.getMassDataTo=J.prototype.Dh;J.prototype.setMassData=J.prototype.ci;J.prototype.getRotationFactor=J.prototype.sg;
J.prototype.setRotationFactor=J.prototype.di;J.prototype.getLinearVelocity=J.prototype.Qd;J.prototype.getLinearVelocityTo=J.prototype.Rd;J.prototype.setLinearVelocity=J.prototype.bi;J.prototype.getAngularVelocity=J.prototype.jd;J.prototype.getAngularVelocityTo=J.prototype.wd;J.prototype.setAngularVelocity=J.prototype.Oh;J.prototype.addLinearVelocity=J.prototype.vf;J.prototype.addAngularVelocity=J.prototype.uf;J.prototype.applyImpulse=J.prototype.vd;J.prototype.applyLinearImpulse=J.prototype.Af;J.prototype.applyAngularImpulse=
J.prototype.yf;J.prototype.applyForce=J.prototype.zf;J.prototype.applyForceToCenter=J.prototype.tc;J.prototype.applyTorque=J.prototype.yc;J.prototype.getLinearContactImpulse=J.prototype.$d;J.prototype.getLinearContactImpulseTo=J.prototype.ae;J.prototype.getAngularContactImpulse=J.prototype.gd;J.prototype.getAngularContactImpulseTo=J.prototype.hd;J.prototype.getGravityScale=J.prototype.zi;J.prototype.setGravityScale=J.prototype.ug;J.prototype.getLocalPoint=J.prototype.Ye;J.prototype.getLocalPointTo=
J.prototype.yh;J.prototype.getLocalVector=J.prototype.zh;J.prototype.getLocalVectorTo=J.prototype.Ah;J.prototype.getWorldPoint=J.prototype.Hh;J.prototype.getWorldPointTo=J.prototype.Ih;J.prototype.getWorldVector=J.prototype.Jh;J.prototype.getWorldVectorTo=J.prototype.Kh;J.prototype.getNumShapes=J.prototype.Rb;J.prototype.getShapeList=J.prototype.Fh;J.prototype.getNumContactLinks=J.prototype.Eh;J.prototype.getContactLinkList=J.prototype.Vg;J.prototype.getNumJointLinks=J.prototype.Ze;J.prototype.getJointLinkList=
J.prototype.Ai;J.prototype.addShape=J.prototype.wf;J.prototype.removeShape=J.prototype.Mh;J.prototype.getType=J.prototype.Sc;J.prototype.setType=J.prototype.fi;J.prototype.wakeUp=J.prototype.hi;J.prototype.sleep=J.prototype.gi;J.prototype.isSleeping=J.prototype.Lh;J.prototype.getSleepTime=J.prototype.Gh;J.prototype.setAutoSleep=J.prototype.tg;J.prototype.getLinearDamping=J.prototype.be;J.prototype.setLinearDamping=J.prototype.xh;J.prototype.getAngularDamping=J.prototype.mg;J.prototype.setAngularDamping=
J.prototype.Nh;J.prototype.getPrev=J.prototype.tb;J.prototype.getNext=J.prototype.Pb;window.OIMO.RigidBodyConfig=qk;window.OIMO.RigidBodyType=Ih;window.OIMO.Shape=zb;zb.prototype.getFriction=zb.prototype.Ja;zb.prototype.setFriction=zb.prototype.Rb;zb.prototype.getRestitution=zb.prototype.Xa;zb.prototype.setRestitution=zb.prototype.Wb;zb.prototype.getLocalTransform=zb.prototype.Pa;zb.prototype.getLocalTransformTo=zb.prototype.Sa;zb.prototype.getTransform=zb.prototype.C;zb.prototype.getTransformTo=
zb.prototype.I;zb.prototype.setLocalTransform=zb.prototype.Sb;zb.prototype.getDensity=zb.prototype.qa;zb.prototype.setDensity=zb.prototype.Pb;zb.prototype.getAabb=zb.prototype.M;zb.prototype.getAabbTo=zb.prototype.V;zb.prototype.getGeometry=zb.prototype.Ka;zb.prototype.getRigidBody=zb.prototype.Za;zb.prototype.getCollisionGroup=zb.prototype.X;zb.prototype.setCollisionGroup=zb.prototype.mb;zb.prototype.getCollisionMask=zb.prototype.Y;zb.prototype.setCollisionMask=zb.prototype.Eb;zb.prototype.getContactCallback=
zb.prototype.aa;zb.prototype.setContactCallback=zb.prototype.Jb;zb.prototype.getPrev=zb.prototype.i;zb.prototype.getNext=zb.prototype.h;window.OIMO.ShapeConfig=Ue};uc.prototype.eg=function(){return null};uc.prototype.fg=function(){};uc.prototype.fd=function(){};uc.prototype.Sb=function(a,b){return a.R<b.N&&a.N>b.R&&a.S<b.O&&a.O>b.S&&a.T<b.P?a.P>b.T:!1};uc.prototype.qg=function(){};uc.prototype.Eb=function(){return this.Cd};uc.prototype.Rb=function(){return this.eh};uc.prototype.Jb=function(){return this.Ja};
uc.prototype.yd=function(){};uc.prototype.aa=function(){};uc.prototype.Y=function(){};mf.prototype.Wd=function(){};mf.prototype.Xb=function(){};mf.prototype.h=function(){return!1};mf.prototype.Ka=function(){return this.$b};mf.prototype.Za=function(){return this.Ge};mf.prototype.yd=function(a,b,e,d){var c=a.x;var f=a.y;a=a.z;var h=b.x;var k=b.y;b=b.z;c-=e.F;f-=e.G;a-=e.H;h-=e.F;k-=e.G;b-=e.H;var g=e.A*c+e.o*f+e.u*a;var l=e.j*c+e.v*f+e.l*a;if(this.h(g,l,e.m*c+e.s*f+e.B*a,e.A*h+e.o*k+e.u*b,e.j*h+e.v*
k+e.l*b,e.m*h+e.s*k+e.B*b,d)){a=d.position;c=a.x;f=a.y;k=a.z;a=d.normal;b=a.x;g=a.y;var m=a.z;l=e.A*c+e.j*f+e.m*k;var n=e.o*c+e.v*f+e.s*k;k=e.u*c+e.l*f+e.B*k;a=e.A*b+e.j*g+e.m*m;h=e.o*b+e.v*g+e.s*m;b=e.u*b+e.l*g+e.B*m;c=l+e.F;f=n+e.G;k+=e.H;e=d.position;e.x=c;e.y=f;e.z=k;d=d.normal;d.x=a;d.y=h;d.z=b;return!0}return!1};rl(md,mf);md.prototype.Pa=function(){return this.fc};md.prototype.mb=function(a){0>a&&(a=0);this.fc=a};md.prototype.ud=function(){};md.prototype.yd=function(a,b,e,d){return this.Ja?
zc.instance.yd(this,e,a,b,d):mf.prototype.yd.call(this,a,b,e,d)};rl(xk,md);xk.prototype.Ia=function(a,b,e){this.c=a;var d=e.x;var c=e.y;var f=e.z;e=b.A*d+b.o*c+b.u*f;var h=b.j*d+b.v*c+b.l*f;b=b.m*d+b.s*c+b.B*f;d=this.i=new z;d.x=e;d.y=h;d.z=b;this.fc=a.fc};xk.prototype.ud=function(a,b){this.c.ud(a,b);var e=this.i;0<a.x*e.x+a.y*e.y+a.z*e.z&&(a=this.i,b.x+=a.x,b.y+=a.y,b.z+=a.z)};rl(Lk,md);Lk.prototype.ud=function(a,b){b.x=0<a.x?this.max.x:this.min.x;b.y=0<a.y?this.max.y:this.min.y;b.z=0<a.z?this.max.z:
this.min.z};Cj.prototype.process=function(){};wg.prototype.C=function(){return this.uc};wg.prototype.h=function(){var a=new Pb;a.wa=this.R;a.xa=this.S;a.ya=this.T;a.ta=this.N;a.ua=this.O;a.va=this.P;return a};wg.prototype.i=function(a){a.wa=this.R;a.xa=this.S;a.ya=this.T;a.ta=this.N;a.ua=this.O;a.va=this.P};bh.prototype.i=function(){return this.Nf};bh.prototype.C=function(){return this.Of};bh.prototype.h=function(){return this.U};rl(Od,uc);Od.prototype.eg=function(a,b){a=new wg(a,this.mb++);this.qa++;
null==this.i?this.i=a:(this.C.U=a,a.sa=this.C);this.C=a;a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;return a};Od.prototype.fg=function(a){this.qa--;var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.i&&(this.i=this.i.U);a==this.C&&(this.C=this.C.sa);a.U=null;a.sa=null;a.userData=null};Od.prototype.fd=function(a,b){a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va};Od.prototype.qg=function(){var a=this.Cd;if(null!=a){do a.Nf=null,a.Of=null,a=a.U;while(null!=a);this.Cd.U=this.V;
this.V=this.Cd;this.Cd=null}this.Ja=0;for(a=this.i;null!=a;){for(var b=a.U,e=a.U;null!=e;){var d=e.U;this.Ja++;if(a.R<e.N&&a.N>e.R&&a.S<e.O&&a.O>e.S&&a.T<e.P&&a.P>e.T){var c=this.V;null!=c?(this.V=c.U,c.U=null):c=new bh;null!=this.Cd&&(c.U=this.Cd);this.Cd=c;c.Nf=a;c.Of=e}e=d}a=b}};Od.prototype.yd=function(a,b,e){var d=a.x;var c=a.y;a=a.z;var f=b.x;var h=b.y;b=b.z;for(var k=this.i;null!=k;){var g=k.U,l=d,m=c,n=a,q=f,p=h,r=b,t=k.R,x=k.S,v=k.T,B=k.N,H=k.O,C=k.P;if(t>(l>q?l:q)||B<(l<q?l:q)||x>(m>p?m:
p)||H<(m<p?m:p)||v>(n>r?n:r)||C<(n<r?n:r))q=!1;else{q-=l;p-=m;var O=r-n;r=0>q?-q:q;var y=0>p?-p:p,A=0>O?-O:O,E=.5*(B-t),M=.5*(H-x),G=.5*(C-v);l-=.5*(B+t);m-=.5*(H+x);n-=.5*(C+v);v=m*O-n*p;0<(0>v?-v:v)-(M*A+G*y)?n=!0:(n=n*q-l*O,n=0<(0>n?-n:n)-(G*r+E*A));n?q=!0:(q=l*p-m*q,q=0<(0>q?-q:q)-(E*y+M*r));q=q?!1:!0}q&&e.process(k);k=g}};Od.prototype.aa=function(a,b,e,d){for(var c=this.i;null!=c;){var f=c.U,h=this.D.min;h.x=c.R;h.y=c.S;h.z=c.T;h=this.D.max;h.x=c.N;h.y=c.O;h.z=c.P;this.Ka.Ia(a,b,e);h=zc.instance;
0==h.Ka(this.Ka,this.D,b,this.Za,null,!1)&&0>=h.distance&&d.process(c);c=f}};Od.prototype.Y=function(a,b){for(var e=this.i;null!=e;){var d=e.U;a.wa<e.N&&a.ta>e.R&&a.xa<e.O&&a.ua>e.S&&a.ya<e.P&&a.va>e.T&&b.process(e);e=d}};rl(dd,uc);dd.prototype.X=function(a,b){this.Ja++;var e=0==a.Z,d=0==b.Z;a==b?e||(this.X(a.L[0],b),this.X(a.L[1],b)):a.R<b.N&&a.N>b.R&&a.S<b.O&&a.O>b.S&&a.T<b.P&&a.P>b.T&&(e&&d?(e=this.V,null!=e?(this.V=e.U,e.U=null):e=new bh,null!=this.Cd&&(e.U=this.Cd),this.Cd=e,e.Nf=a.Fb,e.Of=b.Fb):
d||a.Z>b.Z?(this.X(a.L[0],b),this.X(a.L[1],b)):(this.X(b.L[0],a),this.X(b.L[1],a)))};dd.prototype.Xa=function(a,b,e,d,c,f,h,k){var g=a.R,l=a.S,m=a.T,n=a.N,q=a.O,p=a.P;if(g>(b>c?b:c)||n<(b<c?b:c)||l>(e>f?e:f)||q<(e<f?e:f)||m>(d>h?d:h)||p<(d<h?d:h))var r=!1;else{var t=c-b,x=f-e,v=h-d;r=0>t?-t:t;var B=0>x?-x:x,H=0>v?-v:v,C=.5*(n-g),O=.5*(q-l),y=.5*(p-m);g=b-.5*(n+g);l=e-.5*(q+l);m=d-.5*(p+m);p=l*v-m*x;0<(0>p?-p:p)-(O*H+y*B)?H=!0:(v=m*t-g*v,H=0<(0>v?-v:v)-(y*r+C*H));H?r=!0:(t=g*x-l*t,r=0<(0>t?-t:t)-(C*
B+O*r));r=r?!1:!0}r&&(0==a.Z?k.process(a.Fb):(this.Xa(a.L[0],b,e,d,c,f,h,k),this.Xa(a.L[1],b,e,d,c,f,h,k)))};dd.prototype.Sa=function(a,b,e,d,c){var f=this.D.min;f.x=a.R;f.y=a.S;f.z=a.T;f=this.D.max;f.x=a.N;f.y=a.O;f.z=a.P;this.Ka.Ia(b,e,d);f=zc.instance;0==f.Ka(this.Ka,this.D,e,this.Za,null,!1)&&0>=f.distance&&(0==a.Z?c.process(a.Fb):(this.Sa(a.L[0],b,e,d,c),this.Sa(a.L[1],b,e,d,c)))};dd.prototype.Pa=function(a,b,e){a.R<b.ta&&a.N>b.wa&&a.S<b.ua&&a.O>b.xa&&a.T<b.va&&a.P>b.ya&&(0==a.Z?e.process(a.Fb):
(this.Pa(a.L[0],b,e),this.Pa(a.L[1],b,e)))};dd.prototype.eg=function(a,b){a=new hl(a,this.mb++);this.qa++;null==this.i?this.i=a:(this.C.U=a,a.sa=this.C);this.C=a;a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;b=Ba.bvhProxyPadding;a.R-=b;a.S-=b;a.T-=b;a.N+=b;a.O+=b;a.P+=b;b=this.h;var e=b.h;null!=e?(b.h=e.U,e.U=null):e=new wk;var d=e;d.Fb=a;a.bg=d;d.R=a.R;d.S=a.S;d.T=a.T;d.N=a.N;d.O=a.O;d.P=a.P;b.M++;null==b.C?b.C=d:(b.i.Le=d,d.Me=b.i);b.i=d;if(null==b.Zb)b.Zb=d;else{for(var c=b.Zb;0<c.Z&&(e=
b.I.Ci(c,d),-1!=e);)c=c.L[e];var f=c.Ma;e=b.h;null!=e?(b.h=e.U,e.U=null):e=new wk;if(null==f)b.Zb=e;else{var h=c.Ua;f.L[h]=e;e.Ma=f;e.Ua=h}f=c.Ua;e.L[f]=c;c.Ma=e;c.Ua=f;c=c.Ua^1;e.L[c]=d;d.Ma=e;for(d.Ua=c;null!=e;){if(b.I.Yg&&2<=e.Z){d=e.Ma;f=e.L[0];h=e.L[1];var k=f.Z-h.Z;c=e.Ua;1<k?(h=f.L[0],k=f.L[1],h.Z>k.Z?(f.L[1]=e,e.Ma=f,e.Ua=1,e.L[0]=k,k.Ma=e,k.Ua=0,h=f.L[0],k=f.L[1],f.R=h.R<k.R?h.R:k.R,f.S=h.S<k.S?h.S:k.S,f.T=h.T<k.T?h.T:k.T,f.N=h.N>k.N?h.N:k.N,f.O=h.O>k.O?h.O:k.O,f.P=h.P>k.P?h.P:k.P,h=f.L[0].Z,
k=f.L[1].Z,f.Z=(h>k?h:k)+1,h=e.L[0],k=e.L[1],e.R=h.R<k.R?h.R:k.R,e.S=h.S<k.S?h.S:k.S,e.T=h.T<k.T?h.T:k.T,e.N=h.N>k.N?h.N:k.N,e.O=h.O>k.O?h.O:k.O,e.P=h.P>k.P?h.P:k.P,h=e.L[0].Z,k=e.L[1].Z,e.Z=(h>k?h:k)+1):(f.L[0]=e,e.Ma=f,e.Ua=0,e.L[0]=h,h.Ma=e,h.Ua=0,h=f.L[0],k=f.L[1],f.R=h.R<k.R?h.R:k.R,f.S=h.S<k.S?h.S:k.S,f.T=h.T<k.T?h.T:k.T,f.N=h.N>k.N?h.N:k.N,f.O=h.O>k.O?h.O:k.O,f.P=h.P>k.P?h.P:k.P,h=f.L[0].Z,k=f.L[1].Z,f.Z=(h>k?h:k)+1,h=e.L[0],k=e.L[1],e.R=h.R<k.R?h.R:k.R,e.S=h.S<k.S?h.S:k.S,e.T=h.T<k.T?h.T:
k.T,e.N=h.N>k.N?h.N:k.N,e.O=h.O>k.O?h.O:k.O,e.P=h.P>k.P?h.P:k.P,h=e.L[0].Z,k=e.L[1].Z,e.Z=(h>k?h:k)+1),null!=d?(d.L[c]=f,f.Ma=d,f.Ua=c):(b.Zb=f,f.Ma=null),e=f):-1>k&&(f=h.L[0],k=h.L[1],f.Z>k.Z?(h.L[1]=e,e.Ma=h,e.Ua=1,e.L[1]=k,k.Ma=e,k.Ua=1,f=h.L[0],k=h.L[1],h.R=f.R<k.R?f.R:k.R,h.S=f.S<k.S?f.S:k.S,h.T=f.T<k.T?f.T:k.T,h.N=f.N>k.N?f.N:k.N,h.O=f.O>k.O?f.O:k.O,h.P=f.P>k.P?f.P:k.P,f=h.L[0].Z,k=h.L[1].Z,h.Z=(f>k?f:k)+1,f=e.L[0],k=e.L[1],e.R=f.R<k.R?f.R:k.R,e.S=f.S<k.S?f.S:k.S,e.T=f.T<k.T?f.T:k.T,e.N=f.N>
k.N?f.N:k.N,e.O=f.O>k.O?f.O:k.O,e.P=f.P>k.P?f.P:k.P,f=e.L[0].Z,k=e.L[1].Z,e.Z=(f>k?f:k)+1):(h.L[0]=e,e.Ma=h,e.Ua=0,e.L[1]=f,f.Ma=e,f.Ua=1,f=h.L[0],k=h.L[1],h.R=f.R<k.R?f.R:k.R,h.S=f.S<k.S?f.S:k.S,h.T=f.T<k.T?f.T:k.T,h.N=f.N>k.N?f.N:k.N,h.O=f.O>k.O?f.O:k.O,h.P=f.P>k.P?f.P:k.P,f=h.L[0].Z,k=h.L[1].Z,h.Z=(f>k?f:k)+1,f=e.L[0],k=e.L[1],e.R=f.R<k.R?f.R:k.R,e.S=f.S<k.S?f.S:k.S,e.T=f.T<k.T?f.T:k.T,e.N=f.N>k.N?f.N:k.N,e.O=f.O>k.O?f.O:k.O,e.P=f.P>k.P?f.P:k.P,f=e.L[0].Z,k=e.L[1].Z,e.Z=(f>k?f:k)+1),null!=d?(d.L[c]=
h,h.Ma=d,h.Ua=c):(b.Zb=h,h.Ma=null),e=h)}d=e.L[0].Z;c=e.L[1].Z;e.Z=(d>c?d:c)+1;d=e.L[0];c=e.L[1];e.R=d.R<c.R?d.R:c.R;e.S=d.S<c.S?d.S:c.S;e.T=d.T<c.T?d.T:c.T;e.N=d.N>c.N?d.N:c.N;e.O=d.O>c.O?d.O:c.O;e.P=d.P>c.P?d.P:c.P;e=e.Ma}}if(!a.Lf){a.Lf=!0;if(this.I.length==this.M){b=Array(this.M<<1);e=0;for(d=this.M;e<d;)c=e++,b[c]=this.I[c],this.I[c]=null;this.I=b}this.I[this.M++]=a}return a};dd.prototype.fg=function(a){this.qa--;var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.i&&(this.i=this.i.U);
a==this.C&&(this.C=this.C.sa);a.U=null;a.sa=null;b=this.h;e=a.bg;b.M--;var d=e.Me,c=e.Le;null!=d&&(d.Le=c);null!=c&&(c.Me=d);e==b.C&&(b.C=b.C.Le);e==b.i&&(b.i=b.i.Me);e.Le=null;e.Me=null;if(b.Zb==e)b.Zb=null;else{d=e.Ma;c=d.L[e.Ua^1];var f=d.Ma;if(null==f)c.Ma=null,c.Ua=0,b.Zb=c,d.L[0]=null,d.L[1]=null,d.Ua=0,d.Ma=null,d.Z=0,d.Fb=null,d.U=b.h,b.h=d;else{c.Ma=f;var h=d.Ua;f.L[h]=c;c.Ma=f;c.Ua=h;d.L[0]=null;d.L[1]=null;d.Ua=0;d.Ma=null;d.Z=0;d.Fb=null;d.U=b.h;b.h=d;for(d=f;null!=d;){if(b.I.Yg&&2<=d.Z){c=
d.Ma;h=d.L[0];var k=d.L[1],g=h.Z-k.Z;f=d.Ua;1<g?(k=h.L[0],g=h.L[1],k.Z>g.Z?(h.L[1]=d,d.Ma=h,d.Ua=1,d.L[0]=g,g.Ma=d,g.Ua=0,k=h.L[0],g=h.L[1],h.R=k.R<g.R?k.R:g.R,h.S=k.S<g.S?k.S:g.S,h.T=k.T<g.T?k.T:g.T,h.N=k.N>g.N?k.N:g.N,h.O=k.O>g.O?k.O:g.O,h.P=k.P>g.P?k.P:g.P,k=h.L[0].Z,g=h.L[1].Z,h.Z=(k>g?k:g)+1,k=d.L[0],g=d.L[1],d.R=k.R<g.R?k.R:g.R,d.S=k.S<g.S?k.S:g.S,d.T=k.T<g.T?k.T:g.T,d.N=k.N>g.N?k.N:g.N,d.O=k.O>g.O?k.O:g.O,d.P=k.P>g.P?k.P:g.P,k=d.L[0].Z,g=d.L[1].Z,d.Z=(k>g?k:g)+1):(h.L[0]=d,d.Ma=h,d.Ua=0,d.L[0]=
k,k.Ma=d,k.Ua=0,k=h.L[0],g=h.L[1],h.R=k.R<g.R?k.R:g.R,h.S=k.S<g.S?k.S:g.S,h.T=k.T<g.T?k.T:g.T,h.N=k.N>g.N?k.N:g.N,h.O=k.O>g.O?k.O:g.O,h.P=k.P>g.P?k.P:g.P,k=h.L[0].Z,g=h.L[1].Z,h.Z=(k>g?k:g)+1,k=d.L[0],g=d.L[1],d.R=k.R<g.R?k.R:g.R,d.S=k.S<g.S?k.S:g.S,d.T=k.T<g.T?k.T:g.T,d.N=k.N>g.N?k.N:g.N,d.O=k.O>g.O?k.O:g.O,d.P=k.P>g.P?k.P:g.P,k=d.L[0].Z,g=d.L[1].Z,d.Z=(k>g?k:g)+1),null!=c?(c.L[f]=h,h.Ma=c,h.Ua=f):(b.Zb=h,h.Ma=null),d=h):-1>g&&(h=k.L[0],g=k.L[1],h.Z>g.Z?(k.L[1]=d,d.Ma=k,d.Ua=1,d.L[1]=g,g.Ma=d,g.Ua=
1,h=k.L[0],g=k.L[1],k.R=h.R<g.R?h.R:g.R,k.S=h.S<g.S?h.S:g.S,k.T=h.T<g.T?h.T:g.T,k.N=h.N>g.N?h.N:g.N,k.O=h.O>g.O?h.O:g.O,k.P=h.P>g.P?h.P:g.P,h=k.L[0].Z,g=k.L[1].Z,k.Z=(h>g?h:g)+1,h=d.L[0],g=d.L[1],d.R=h.R<g.R?h.R:g.R,d.S=h.S<g.S?h.S:g.S,d.T=h.T<g.T?h.T:g.T,d.N=h.N>g.N?h.N:g.N,d.O=h.O>g.O?h.O:g.O,d.P=h.P>g.P?h.P:g.P,h=d.L[0].Z,g=d.L[1].Z,d.Z=(h>g?h:g)+1):(k.L[0]=d,d.Ma=k,d.Ua=0,d.L[1]=h,h.Ma=d,h.Ua=1,h=k.L[0],g=k.L[1],k.R=h.R<g.R?h.R:g.R,k.S=h.S<g.S?h.S:g.S,k.T=h.T<g.T?h.T:g.T,k.N=h.N>g.N?h.N:g.N,k.O=
h.O>g.O?h.O:g.O,k.P=h.P>g.P?h.P:g.P,h=k.L[0].Z,g=k.L[1].Z,k.Z=(h>g?h:g)+1,h=d.L[0],g=d.L[1],d.R=h.R<g.R?h.R:g.R,d.S=h.S<g.S?h.S:g.S,d.T=h.T<g.T?h.T:g.T,d.N=h.N>g.N?h.N:g.N,d.O=h.O>g.O?h.O:g.O,d.P=h.P>g.P?h.P:g.P,h=d.L[0].Z,g=d.L[1].Z,d.Z=(h>g?h:g)+1),null!=c?(c.L[f]=k,k.Ma=c,k.Ua=f):(b.Zb=k,k.Ma=null),d=k)}c=d.L[0].Z;f=d.L[1].Z;d.Z=(c>f?c:f)+1;c=d.L[0];f=d.L[1];d.R=c.R<f.R?c.R:f.R;d.S=c.S<f.S?c.S:f.S;d.T=c.T<f.T?c.T:f.T;d.N=c.N>f.N?c.N:f.N;d.O=c.O>f.O?c.O:f.O;d.P=c.P>f.P?c.P:f.P;d=d.Ma}}}a.bg=null;
e.L[0]=null;e.L[1]=null;e.Ua=0;e.Ma=null;e.Z=0;e.Fb=null;e.U=b.h;b.h=e;a.userData=null;a.U=null;a.sa=null;a.Lf&&(a.Lf=!1)};dd.prototype.fd=function(a,b,e){if(!(a.R<=b.wa&&a.N>=b.ta&&a.S<=b.xa&&a.O>=b.ua&&a.T<=b.ya&&a.P>=b.va)){a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;b=Ba.bvhProxyPadding;a.R-=b;a.S-=b;a.T-=b;a.N+=b;a.O+=b;a.P+=b;if(null!=e){b=e.x;var d=e.y;e=e.z;a.R+=0<b?0:b;a.S+=0<d?0:d;a.T+=0<e?0:e;a.N+=0>b?0:b;a.O+=0>d?0:d;a.P+=0>e?0:e}if(!a.Lf){a.Lf=!0;if(this.I.length==this.M){e=
Array(this.M<<1);b=0;for(d=this.M;b<d;){var c=b++;e[c]=this.I[c];this.I[c]=null}this.I=e}this.I[this.M++]=a}}};dd.prototype.qg=function(){var a=this.Cd;if(null!=a){do a.Nf=null,a.Of=null,a=a.U;while(null!=a);this.Cd.U=this.V;this.V=this.Cd;this.Cd=null}this.Ja=0;if(!(2>this.qa)){for(var b=this.M/this.qa<Ba.bvhIncrementalCollisionThreshold,e=0,d=this.M;e<d;){var c=e++,f=this.I[c];if(f.Lf){var h=this.h,k=f.bg;h.M--;var g=k.Me,l=k.Le;null!=g&&(g.Le=l);null!=l&&(l.Me=g);k==h.C&&(h.C=h.C.Le);k==h.i&&(h.i=
h.i.Me);k.Le=null;k.Me=null;if(h.Zb==k)h.Zb=null;else{var m=k.Ma,n=m.L[k.Ua^1],q=m.Ma;if(null==q)n.Ma=null,n.Ua=0,h.Zb=n,m.U=null,m.Ua=0,m.L[0]=null,m.L[1]=null,m.Ua=0,m.Ma=null,m.Z=0,m.Fb=null,m.U=h.h,h.h=m;else{n.Ma=q;var p=m.Ua;q.L[p]=n;n.Ma=q;n.Ua=p;m.U=null;m.Ua=0;m.L[0]=null;m.L[1]=null;m.Ua=0;m.Ma=null;m.Z=0;m.Fb=null;m.U=h.h;h.h=m;for(var r=q;null!=r;){if(h.I.Yg&&2<=r.Z){var t=r.Ma,x=r.L[0],v=r.L[1],B=x.Z-v.Z,H=r.Ua;if(1<B){var C=x.L[0],O=x.L[1];if(C.Z>O.Z){x.L[1]=r;r.Ma=x;r.Ua=1;r.L[0]=O;
O.Ma=r;O.Ua=0;var y=x.L[0],A=x.L[1];x.R=y.R<A.R?y.R:A.R;x.S=y.S<A.S?y.S:A.S;x.T=y.T<A.T?y.T:A.T;x.N=y.N>A.N?y.N:A.N;x.O=y.O>A.O?y.O:A.O;x.P=y.P>A.P?y.P:A.P;var E=x.L[0].Z,M=x.L[1].Z;x.Z=(E>M?E:M)+1;var G=r.L[0],R=r.L[1];r.R=G.R<R.R?G.R:R.R;r.S=G.S<R.S?G.S:R.S;r.T=G.T<R.T?G.T:R.T;r.N=G.N>R.N?G.N:R.N;r.O=G.O>R.O?G.O:R.O;r.P=G.P>R.P?G.P:R.P;var K=r.L[0].Z,oa=r.L[1].Z;r.Z=(K>oa?K:oa)+1}else{x.L[0]=r;r.Ma=x;r.Ua=0;r.L[0]=C;C.Ma=r;C.Ua=0;var N=x.L[0],Ra=x.L[1];x.R=N.R<Ra.R?N.R:Ra.R;x.S=N.S<Ra.S?N.S:Ra.S;
x.T=N.T<Ra.T?N.T:Ra.T;x.N=N.N>Ra.N?N.N:Ra.N;x.O=N.O>Ra.O?N.O:Ra.O;x.P=N.P>Ra.P?N.P:Ra.P;var Wa=x.L[0].Z,Ja=x.L[1].Z;x.Z=(Wa>Ja?Wa:Ja)+1;var Sa=r.L[0],Aa=r.L[1];r.R=Sa.R<Aa.R?Sa.R:Aa.R;r.S=Sa.S<Aa.S?Sa.S:Aa.S;r.T=Sa.T<Aa.T?Sa.T:Aa.T;r.N=Sa.N>Aa.N?Sa.N:Aa.N;r.O=Sa.O>Aa.O?Sa.O:Aa.O;r.P=Sa.P>Aa.P?Sa.P:Aa.P;var La=r.L[0].Z,Fa=r.L[1].Z;r.Z=(La>Fa?La:Fa)+1}null!=t?(t.L[H]=x,x.Ma=t,x.Ua=H):(h.Zb=x,x.Ma=null);r=x}else if(-1>B){var L=v.L[0],Z=v.L[1];if(L.Z>Z.Z){v.L[1]=r;r.Ma=v;r.Ua=1;r.L[1]=Z;Z.Ma=r;Z.Ua=1;
var Y=v.L[0],va=v.L[1];v.R=Y.R<va.R?Y.R:va.R;v.S=Y.S<va.S?Y.S:va.S;v.T=Y.T<va.T?Y.T:va.T;v.N=Y.N>va.N?Y.N:va.N;v.O=Y.O>va.O?Y.O:va.O;v.P=Y.P>va.P?Y.P:va.P;var Va=v.L[0].Z,D=v.L[1].Z;v.Z=(Va>D?Va:D)+1;var za=r.L[0],aa=r.L[1];r.R=za.R<aa.R?za.R:aa.R;r.S=za.S<aa.S?za.S:aa.S;r.T=za.T<aa.T?za.T:aa.T;r.N=za.N>aa.N?za.N:aa.N;r.O=za.O>aa.O?za.O:aa.O;r.P=za.P>aa.P?za.P:aa.P;var Ta=r.L[0].Z,ca=r.L[1].Z;r.Z=(Ta>ca?Ta:ca)+1}else{v.L[0]=r;r.Ma=v;r.Ua=0;r.L[1]=L;L.Ma=r;L.Ua=1;var ia=v.L[0],T=v.L[1];v.R=ia.R<T.R?
ia.R:T.R;v.S=ia.S<T.S?ia.S:T.S;v.T=ia.T<T.T?ia.T:T.T;v.N=ia.N>T.N?ia.N:T.N;v.O=ia.O>T.O?ia.O:T.O;v.P=ia.P>T.P?ia.P:T.P;var ka=v.L[0].Z,pa=v.L[1].Z;v.Z=(ka>pa?ka:pa)+1;var Ca=r.L[0],V=r.L[1];r.R=Ca.R<V.R?Ca.R:V.R;r.S=Ca.S<V.S?Ca.S:V.S;r.T=Ca.T<V.T?Ca.T:V.T;r.N=Ca.N>V.N?Ca.N:V.N;r.O=Ca.O>V.O?Ca.O:V.O;r.P=Ca.P>V.P?Ca.P:V.P;var fa=r.L[0].Z,w=r.L[1].Z;r.Z=(fa>w?fa:w)+1}null!=t?(t.L[H]=v,v.Ma=t,v.Ua=H):(h.Zb=v,v.Ma=null);r=v}}var ta=r.L[0].Z,Ga=r.L[1].Z;r.Z=(ta>Ga?ta:Ga)+1;var da=r.L[0],W=r.L[1];r.R=da.R<
W.R?da.R:W.R;r.S=da.S<W.S?da.S:W.S;r.T=da.T<W.T?da.T:W.T;r.N=da.N>W.N?da.N:W.N;r.O=da.O>W.O?da.O:W.O;r.P=da.P>W.P?da.P:W.P;r=r.Ma}}}f.bg=null;k.U=null;k.Ua=0;k.L[0]=null;k.L[1]=null;k.Ua=0;k.Ma=null;k.Z=0;k.Fb=null;k.U=h.h;h.h=k;var sa=this.h,la=sa.h;null!=la?(sa.h=la.U,la.U=null):la=new wk;var Oa=la;Oa.Fb=f;f.bg=Oa;Oa.R=f.R;Oa.S=f.S;Oa.T=f.T;Oa.N=f.N;Oa.O=f.O;Oa.P=f.P;sa.M++;null==sa.C?sa.C=Oa:(sa.i.Le=Oa,Oa.Me=sa.i);sa.i=Oa;if(null==sa.Zb)sa.Zb=Oa;else{for(var ab=sa.Zb;0<ab.Z;){var ja=sa.I.Ci(ab,
Oa);if(-1==ja)break;else ab=ab.L[ja]}var ob=ab.Ma,Ha=sa.h;null!=Ha?(sa.h=Ha.U,Ha.U=null):Ha=new wk;var I=Ha;if(null==ob)sa.Zb=I;else{var Ka=ab.Ua;ob.L[Ka]=I;I.Ma=ob;I.Ua=Ka}var P=ab.Ua;I.L[P]=ab;ab.Ma=I;ab.Ua=P;var na=ab.Ua^1;I.L[na]=Oa;Oa.Ma=I;for(Oa.Ua=na;null!=I;){if(sa.I.Yg&&2<=I.Z){var ba=I.Ma,ea=I.L[0],X=I.L[1],ma=ea.Z-X.Z,xb=I.Ua;if(1<ma){var Za=ea.L[0],ib=ea.L[1];if(Za.Z>ib.Z){ea.L[1]=I;I.Ma=ea;I.Ua=1;I.L[0]=ib;ib.Ma=I;ib.Ua=0;var qb=ea.L[0],lb=ea.L[1];ea.R=qb.R<lb.R?qb.R:lb.R;ea.S=qb.S<lb.S?
qb.S:lb.S;ea.T=qb.T<lb.T?qb.T:lb.T;ea.N=qb.N>lb.N?qb.N:lb.N;ea.O=qb.O>lb.O?qb.O:lb.O;ea.P=qb.P>lb.P?qb.P:lb.P;var bb=ea.L[0].Z,$a=ea.L[1].Z;ea.Z=(bb>$a?bb:$a)+1;var qa=I.L[0],mb=I.L[1];I.R=qa.R<mb.R?qa.R:mb.R;I.S=qa.S<mb.S?qa.S:mb.S;I.T=qa.T<mb.T?qa.T:mb.T;I.N=qa.N>mb.N?qa.N:mb.N;I.O=qa.O>mb.O?qa.O:mb.O;I.P=qa.P>mb.P?qa.P:mb.P;var Db=I.L[0].Z,Xa=I.L[1].Z;I.Z=(Db>Xa?Db:Xa)+1}else{ea.L[0]=I;I.Ma=ea;I.Ua=0;I.L[0]=Za;Za.Ma=I;Za.Ua=0;var tb=ea.L[0],Ma=ea.L[1];ea.R=tb.R<Ma.R?tb.R:Ma.R;ea.S=tb.S<Ma.S?tb.S:
Ma.S;ea.T=tb.T<Ma.T?tb.T:Ma.T;ea.N=tb.N>Ma.N?tb.N:Ma.N;ea.O=tb.O>Ma.O?tb.O:Ma.O;ea.P=tb.P>Ma.P?tb.P:Ma.P;var Eb=ea.L[0].Z,ub=ea.L[1].Z;ea.Z=(Eb>ub?Eb:ub)+1;var fb=I.L[0],db=I.L[1];I.R=fb.R<db.R?fb.R:db.R;I.S=fb.S<db.S?fb.S:db.S;I.T=fb.T<db.T?fb.T:db.T;I.N=fb.N>db.N?fb.N:db.N;I.O=fb.O>db.O?fb.O:db.O;I.P=fb.P>db.P?fb.P:db.P;var gb=I.L[0].Z,jb=I.L[1].Z;I.Z=(gb>jb?gb:jb)+1}null!=ba?(ba.L[xb]=ea,ea.Ma=ba,ea.Ua=xb):(sa.Zb=ea,ea.Ma=null);I=ea}else if(-1>ma){var Bb=X.L[0],kb=X.L[1];if(Bb.Z>kb.Z){X.L[1]=I;
I.Ma=X;I.Ua=1;I.L[1]=kb;kb.Ma=I;kb.Ua=1;var nb=X.L[0],Ya=X.L[1];X.R=nb.R<Ya.R?nb.R:Ya.R;X.S=nb.S<Ya.S?nb.S:Ya.S;X.T=nb.T<Ya.T?nb.T:Ya.T;X.N=nb.N>Ya.N?nb.N:Ya.N;X.O=nb.O>Ya.O?nb.O:Ya.O;X.P=nb.P>Ya.P?nb.P:Ya.P;var Nb=X.L[0].Z,Lb=X.L[1].Z;X.Z=(Nb>Lb?Nb:Lb)+1;var F=I.L[0],pb=I.L[1];I.R=F.R<pb.R?F.R:pb.R;I.S=F.S<pb.S?F.S:pb.S;I.T=F.T<pb.T?F.T:pb.T;I.N=F.N>pb.N?F.N:pb.N;I.O=F.O>pb.O?F.O:pb.O;I.P=F.P>pb.P?F.P:pb.P;var cb=I.L[0].Z,Fb=I.L[1].Z;I.Z=(cb>Fb?cb:Fb)+1}else{X.L[0]=I;I.Ma=X;I.Ua=0;I.L[1]=Bb;Bb.Ma=
I;Bb.Ua=1;var wb=X.L[0],eb=X.L[1];X.R=wb.R<eb.R?wb.R:eb.R;X.S=wb.S<eb.S?wb.S:eb.S;X.T=wb.T<eb.T?wb.T:eb.T;X.N=wb.N>eb.N?wb.N:eb.N;X.O=wb.O>eb.O?wb.O:eb.O;X.P=wb.P>eb.P?wb.P:eb.P;var Ib=X.L[0].Z,Q=X.L[1].Z;X.Z=(Ib>Q?Ib:Q)+1;var U=I.L[0],u=I.L[1];I.R=U.R<u.R?U.R:u.R;I.S=U.S<u.S?U.S:u.S;I.T=U.T<u.T?U.T:u.T;I.N=U.N>u.N?U.N:u.N;I.O=U.O>u.O?U.O:u.O;I.P=U.P>u.P?U.P:u.P;var Ab=I.L[0].Z,rb=I.L[1].Z;I.Z=(Ab>rb?Ab:rb)+1}null!=ba?(ba.L[xb]=X,X.Ma=ba,X.Ua=xb):(sa.Zb=X,X.Ma=null);I=X}}var ra=I.L[0].Z,Ua=I.L[1].Z;
I.Z=(ra>Ua?ra:Ua)+1;var xa=I.L[0],Pa=I.L[1];I.R=xa.R<Pa.R?xa.R:Pa.R;I.S=xa.S<Pa.S?xa.S:Pa.S;I.T=xa.T<Pa.T?xa.T:Pa.T;I.N=xa.N>Pa.N?xa.N:Pa.N;I.O=xa.O>Pa.O?xa.O:Pa.O;I.P=xa.P>Pa.P?xa.P:Pa.P;I=I.Ma}}b&&this.X(this.h.Zb,f.bg);f.Lf=!1}this.I[c]=null}b||this.X(this.h.Zb,this.h.Zb);this.M=0}};dd.prototype.yd=function(a,b,e){null!=this.h.Zb&&this.Xa(this.h.Zb,a.x,a.y,a.z,b.x,b.y,b.z,e)};dd.prototype.aa=function(a,b,e,d){null!=this.h.Zb&&this.Sa(this.h.Zb,a,b,e,d)};dd.prototype.Y=function(a,b){null!=this.h.Zb&&
this.Pa(this.h.Zb,a,b)};dd.prototype.Pb=function(){return this.h.X()};rl(hl,wg);gl.prototype.Ci=function(a,b){var e=b.R+b.N;var d=b.S+b.O;b=b.T+b.P;var c=a.L[0],f=a.L[1];a=c.R+c.N;var h=c.S+c.O;c=c.T+c.P;var k=f.R+f.N;var g=f.S+f.O;f=f.T+f.P;a-=e;h-=d;c-=b;k-=e;g-=d;f-=b;return a*a+h*h+c*c<k*k+g*g+f*f?0:1};Jk.prototype.X=function(){return this.V(this.Zb)};Jk.prototype.V=function(a){if(null==a||0==a.Z)return 0;var b=a.L[0].Z-a.L[1].Z;0>b&&(b=-b);return b+this.V(a.L[0])+this.V(a.L[1])};Pb.prototype.Ia=
function(a,b){this.wa=a.x;this.xa=a.y;this.ya=a.z;this.ta=b.x;this.ua=b.y;this.va=b.z;return this};Pb.prototype.Ja=function(){var a=new z;a.x=this.wa;a.y=this.xa;a.z=this.ya;return a};Pb.prototype.Ka=function(a){a.x=this.wa;a.y=this.xa;a.z=this.ya};Pb.prototype.Xa=function(a){this.wa=a.x;this.xa=a.y;this.ya=a.z;return this};Pb.prototype.aa=function(){var a=new z;a.x=this.ta;a.y=this.ua;a.z=this.va;return a};Pb.prototype.qa=function(a){a.x=this.ta;a.y=this.ua;a.z=this.va};Pb.prototype.Sa=function(a){this.ta=
a.x;this.ua=a.y;this.va=a.z;return this};Pb.prototype.C=function(){var a=new z;var b=this.wa+this.ta;var e=this.xa+this.ua;var d=this.ya+this.va;a.x=.5*b;a.y=.5*e;a.z=.5*d;return a};Pb.prototype.I=function(a){var b=this.wa+this.ta;var e=this.xa+this.ua;var d=this.ya+this.va;a.x=.5*b;a.y=.5*e;a.z=.5*d};Pb.prototype.M=function(){var a=new z;var b=this.ta-this.wa;var e=this.ua-this.xa;var d=this.va-this.ya;a.x=.5*b;a.y=.5*e;a.z=.5*d;return a};Pb.prototype.V=function(a){var b=this.ta-this.wa;var e=this.ua-
this.xa;var d=this.va-this.ya;a.x=.5*b;a.y=.5*e;a.z=.5*d};Pb.prototype.h=function(a){this.wa=this.wa<a.wa?this.wa:a.wa;this.xa=this.xa<a.xa?this.xa:a.xa;this.ya=this.ya<a.ya?this.ya:a.ya;this.ta=this.ta>a.ta?this.ta:a.ta;this.ua=this.ua>a.ua?this.ua:a.ua;this.va=this.va>a.va?this.va:a.va;return this};Pb.prototype.i=function(a){var b=new Pb;b.wa=this.wa<a.wa?this.wa:a.wa;b.xa=this.xa<a.xa?this.xa:a.xa;b.ya=this.ya<a.ya?this.ya:a.ya;b.ta=this.ta>a.ta?this.ta:a.ta;b.ua=this.ua>a.ua?this.ua:a.ua;b.va=
this.va>a.va?this.va:a.va;return b};Pb.prototype.Pa=function(a){return this.wa<a.ta&&this.ta>a.wa&&this.xa<a.ua&&this.ua>a.xa&&this.ya<a.va?this.va>a.ya:!1};Pb.prototype.X=function(a){var b=new Pb;b.wa=this.wa>a.wa?this.wa:a.wa;b.xa=this.xa>a.xa?this.xa:a.xa;b.ya=this.ya>a.ya?this.ya:a.ya;b.ta=this.ta<a.ta?this.ta:a.ta;b.ua=this.ua<a.ua?this.ua:a.ua;b.va=this.va<a.va?this.va:a.va;return b};Pb.prototype.Y=function(a,b){b.wa=this.wa>a.wa?this.wa:a.wa;b.xa=this.xa>a.xa?this.xa:a.xa;b.ya=this.ya>a.ya?
this.ya:a.ya;b.ta=this.ta<a.ta?this.ta:a.ta;b.ua=this.ua<a.ua?this.ua:a.ua;b.va=this.va<a.va?this.va:a.va};Pb.prototype.Dd=function(a){this.wa=a.wa;this.xa=a.xa;this.ya=a.ya;this.ta=a.ta;this.ua=a.ua;this.va=a.va;return this};Pb.prototype.clone=function(){var a=new Pb;a.wa=this.wa;a.xa=this.xa;a.ya=this.ya;a.ta=this.ta;a.ua=this.ua;a.va=this.va;return a};rl(cg,md);cg.prototype.Sa=function(){var a=new z;a.x=this.Sd;a.y=this.Td;a.z=this.Ud;return a};cg.prototype.Xa=function(a){a.x=this.Sd;a.y=this.Td;
a.z=this.Ud};cg.prototype.Wd=function(){this.Ge=8*this.Sd*this.Td*this.Ud;var a=this.Sd*this.Sd;var b=this.Td*this.Td;var e=this.Ud*this.Ud;this.af=.3333333333333333*(b+e);this.df=this.cf=this.bf=0;this.ef=.3333333333333333*(e+a);this.hf=this.gf=this.ff=0;this.jf=.3333333333333333*(a+b)};cg.prototype.Xb=function(a,b){var e=b.A*this.i+b.j*this.C+b.m*this.I;var d=b.o*this.i+b.v*this.C+b.s*this.I;var c=b.u*this.i+b.l*this.C+b.B*this.I;var f=b.A*this.M+b.j*this.V+b.m*this.X;var h=b.o*this.M+b.v*this.V+
b.s*this.X;var k=b.u*this.M+b.l*this.V+b.B*this.X;var g=b.A*this.Y+b.j*this.aa+b.m*this.qa;var l=b.o*this.Y+b.v*this.aa+b.s*this.qa;var m=b.u*this.Y+b.l*this.aa+b.B*this.qa;0>e&&(e=-e);0>d&&(d=-d);0>c&&(c=-c);0>f&&(f=-f);0>h&&(h=-h);0>k&&(k=-k);0>g&&(g=-g);0>l&&(l=-l);0>m&&(m=-m);e=e+f+g;d=d+h+l;c=c+k+m;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};cg.prototype.ud=function(a,b){var e,d;var c=d=e=this.fc;e<this.Sd||(e=this.Sd);d<this.Td||(d=this.Td);c<this.Ud||(c=this.Ud);e=this.Sd-
e;d=this.Td-d;c=this.Ud-c;b.x=0<a.x?e:-e;b.y=0<a.y?d:-d;b.z=0<a.z?c:-c};cg.prototype.h=function(a,b,e,d,c,f,h){var k=this.Sd,g=this.Td,l=this.Ud;d-=a;c-=b;f-=e;var m=0,n=0,q=0,p=1,r=1,t=1;if(-1E-6<d&&1E-6>d){if(a<=-k||a>=k)return!1}else{var x=1/d,v=(-k-a)*x;k=(k-a)*x;v>k&&(x=v,v=k,k=x);0<v&&(m=v);1>k&&(p=k)}if(-1E-6<c&&1E-6>c){if(b<=-g||b>=g)return!1}else v=1/c,k=(-g-b)*v,g=(g-b)*v,k>g&&(v=k,k=g,g=v),0<k&&(n=k),1>g&&(r=g);if(-1E-6<f&&1E-6>f){if(e<=-l||e>=l)return!1}else k=1/f,g=(-l-e)*k,l=(l-e)*k,
g>l&&(k=g,g=l,l=k),0<g&&(q=g),1>l&&(t=l);if(1<=m||1<=n||1<=q||0>=p||0>=r||0>=t)return!1;l=m;m=0;n>l&&(l=n,m=1);q>l&&(l=q,m=2);r<p&&(p=r);t<p&&(p=t);if(l>p||0==l)return!1;switch(m){case 0:h.normal.Ia(0<d?-1:1,0,0);break;case 1:h.normal.Ia(0,0<c?-1:1,0);break;case 2:h.normal.Ia(0,0,0<f?-1:1)}h.position.Ia(a+l*d,b+l*c,e+l*f);h.fraction=l;return!0};rl(bg,md);bg.prototype.C=function(){return this.nb};bg.prototype.i=function(){return this.Qb};bg.prototype.Wd=function(){var a=this.nb*this.nb,b=this.Qb*this.Qb,
e=6.28318530717958*a*this.Qb,d=3.14159265358979*a*this.nb*4/3;this.Ge=e+d;var c=0==this.Ge?0:1/this.Ge;this.af=b=c*(e*(.25*a+b/3)+d*(.4*a+this.Qb*this.nb*.75+b));this.df=this.cf=this.bf=0;this.ef=c*(e*a*.5+d*a*.4);this.hf=this.gf=this.ff=0;this.jf=b};bg.prototype.Xb=function(a,b){var e,d;var c=d=e=this.nb;var f=b.j;var h=b.v;var k=b.l;0>f&&(f=-f);0>h&&(h=-h);0>k&&(k=-k);f*=this.Qb;h*=this.Qb;k*=this.Qb;e+=f;d+=h;c+=k;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};bg.prototype.ud=
function(a,b){0<a.y?b.Ia(0,this.Qb,0):b.Ia(0,-this.Qb,0)};bg.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb,g=d-a,l=f-e,m=g*g+l*l,n=a*g+e*l;var q=a*a+e*e-this.nb*this.nb;var p=n*n-m*q;if(0>p)return!1;if(0<m){if(p=Math.sqrt(p),q=(-n-p)/m,1<=q||0>=(-n+p)/m)return!1}else{if(0<=q)return!1;q=0}m=b+(c-b)*q;if(m>-k&&m<k)return 0<q?(f=q,n=h.normal.Ia(a+g*f,0,e+l*f),b=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z),0<b&&(b=1/b),n.x*=b,n.y*=b,n.z*=b,h.position.Ia(a+f*g,m,e+f*l),h.fraction=f,!0):!1;g=0>m?-k:k;var r=a-
0;k=b-g;l=e-0;a=d-a;b=c-b;e=f-e;m=a*a+b*b+e*e;n=r*a+k*b+l*e;q=r*r+k*k+l*l-this.nb*this.nb;p=n*n-m*q;if(0>p)return!1;f=(-n-Math.sqrt(p))/m;if(0>f||1<f)return!1;a=r+a*f;m=k+b*f;e=l+e*f;n=a*a+m*m+e*e;0<n&&(n=1/Math.sqrt(n));b=h.position;b.x=a;b.y=m+g;b.z=e;g=h.normal;g.x=a*n;g.y=m*n;g.z=e*n;h.fraction=f;return!0};rl(ag,md);ag.prototype.M=function(){return this.nb};ag.prototype.I=function(){return this.Qb};ag.prototype.Wd=function(){var a=this.nb*this.nb,b=this.Qb*this.Qb*4;this.Ge=3.14159265358979*a*
this.Qb*2/3;this.af=.05*(3*a+2*b);this.df=this.cf=this.bf=0;this.ef=.3*a;this.hf=this.gf=this.ff=0;this.jf=.05*(3*a+2*b)};ag.prototype.Xb=function(a,b){var e=b.j;var d=b.v;var c=b.l;var f=Math.sqrt(1-e*e);var h=Math.sqrt(1-d*d);var k=Math.sqrt(1-c*c);f*=this.nb;h*=this.nb;k*=this.nb;e*=this.Qb;d*=this.Qb;c*=this.Qb;var g=-e-f;var l=-d-h;var m=-c-k;var n=-e+f;var q=-d+h;var p=-c+k;k=g>n?g:n;h=l>q?l:q;f=m>p?m:p;k>e||(k=e);h>d||(h=d);f>c||(f=c);g=g<n?g:n;l=l<q?l:q;m=m<p?m:p;g<e||(g=e);l<d||(l=d);m<c||
(m=c);a.wa=b.F+g;a.xa=b.G+l;a.ya=b.H+m;a.ta=b.F+k;a.ua=b.G+h;a.va=b.H+f};ag.prototype.ud=function(a,b){var e=a.x,d=a.y,c=a.z;0<d&&d*d>this.C*this.C*(e*e+d*d+c*c)?(b.Ia(0,this.Qb-this.fc/this.C,0),0>b.y&&(b.y=0)):(e=a.x,a=a.z,d=e*e+a*a,c=2*this.Qb,c=(c-this.fc)/c*this.nb-this.fc/this.i,0>c&&(c=0),d=0<d?c/Math.sqrt(d):0,c=this.Qb-this.fc,0>c&&(c=0),b.x=e*d,b.y=-c,b.z=a*d)};ag.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb;d-=a;c-=b;f-=e;var g=0,l=1;if(-1E-6<c&&1E-6>c){if(b<=-k||b>=k)return!1}else{var m=
1/c,n=(-k-b)*m;m*=k-b;if(n>m){var q=n;n=m;m=q}0<n&&(g=n);1>m&&(l=m)}if(1<=g||0>=l)return!1;b-=k;q=this.i*this.i;m=q*(d*d+c*c+f*f)-c*c;n=q*(a*d+b*c+e*f)-b*c;q=q*(a*a+b*b+e*e)-b*b;var p=n*n-m*q;if(0!=m){if(0>p)return!1;p=Math.sqrt(p);if(0>m)if(0<c){if(q=0,n=(-n+p)/m,0>=n)return!1}else{if(q=(-n-p)/m,n=1,1<=q)return!1}else if(q=(-n-p)/m,n=(-n+p)/m,1<=q||0>=n)return!1}else if(m=-q/(2*n),0<n){if(q=0,n=m,0>=m)return!1}else if(q=m,n=1,1<=m)return!1;b+=k;if(n<=g||l<=q)return!1;if(q<g){k=g;if(0==k)return!1;
h.normal.Ia(0,0<c?-1:1,0)}else{k=q;if(0==k)return!1;g=h.normal.Ia(a+d*k,0,e+f*k);l=Math.sqrt(g.x*g.x+g.y*g.y+g.z*g.z);0<l&&(l=1/l);g.x*=l;g.y*=l;g.z*=l;l=this.i;g.x*=l;g.y*=l;g.z*=l;h.normal.y+=this.C}h.position.Ia(a+k*d,b+k*c,e+k*f);h.fraction=k;return!0};rl(Mh,md);Mh.prototype.i=function(){return this.La};Mh.prototype.Wd=function(){this.af=this.Ge=1;this.df=this.cf=this.bf=0;this.ef=1;this.hf=this.gf=this.ff=0;this.jf=1;for(var a=this.La[0].x,b=this.La[0].y,e=this.La[0].z,d=this.La[0].x,c=this.La[0].y,
f=this.La[0].z,h=1,k=this.Vd;h<k;){var g=h++,l=this.La[g].x,m=this.La[g].y;g=this.La[g].z;l<a?a=l:l>d&&(d=l);m<b?b=m:m>c&&(c=m);g<e?e=g:g>f&&(f=g)}h=d-a;k=c-b;l=f-e;this.Ge=h*k*l;a=.25*((a+d)*(a+d)+(b+c)*(b+c)+(e+f)*(e+f));h=h*h*.25;k=k*k*.25;l=l*l*.25;this.af=.3333333333333333*(k+l)+a;this.df=this.cf=this.bf=0;this.ef=.3333333333333333*(l+h)+a;this.hf=this.gf=this.ff=0;this.jf=.3333333333333333*(h+k)+a};Mh.prototype.Xb=function(a,b){var e,d;var c=d=e=this.fc;var f=this.La[0];var h=f.x;var k=f.y;
var g=f.z;var l=b.A*h+b.j*k+b.m*g;f=b.o*h+b.v*k+b.s*g;var m=b.u*h+b.l*k+b.B*g;h=l+b.F;k=f+b.G;g=m+b.H;f=h;l=k;m=g;var n=h;var q=k;var p=g;for(var r=1,t=this.Vd;r<t;){g=this.La[r++];h=g.x;k=g.y;g=g.z;var x=b.A*h+b.j*k+b.m*g;var v=b.o*h+b.v*k+b.s*g;g=b.u*h+b.l*k+b.B*g;h=x;k=v;h+=b.F;k+=b.G;g+=b.H;f<h||(f=h);l<k||(l=k);m<g||(m=g);n>h||(n=h);q>k||(q=k);p>g||(p=g)}a.wa=f-e;a.xa=l-d;a.ya=m-c;a.ta=n+e;a.ua=q+d;a.va=p+c};Mh.prototype.ud=function(a,b){var e=this.La[0];e=e.x*a.x+e.y*a.y+e.z*a.z;for(var d=0,
c=1,f=this.Vd;c<f;){var h=c++,k=this.La[h];k=k.x*a.x+k.y*a.y+k.z*a.z;k>e&&(e=k,d=h)}a=this.La[d];b.x=a.x;b.y=a.y;b.z=a.z};rl($f,md);$f.prototype.C=function(){return this.nb};$f.prototype.i=function(){return this.Qb};$f.prototype.Wd=function(){var a=this.nb*this.nb,b=this.Qb*this.Qb*4;this.Ge=3.14159265358979*a*this.Qb*2;this.af=.08333333333333333*(3*a+b);this.df=this.cf=this.bf=0;this.ef=.5*a;this.hf=this.gf=this.ff=0;this.jf=.08333333333333333*(3*a+b)};$f.prototype.Xb=function(a,b){var e=b.j;var d=
b.v;var c=b.l;0>e&&(e=-e);0>d&&(d=-d);0>c&&(c=-c);var f=Math.sqrt(1-e*e);var h=Math.sqrt(1-d*d);var k=Math.sqrt(1-c*c);f*=this.nb;h*=this.nb;k*=this.nb;e*=this.Qb;d*=this.Qb;c*=this.Qb;f+=e;h+=d;k+=c;a.wa=b.F-f;a.xa=b.G-h;a.ya=b.H-k;a.ta=b.F+f;a.ua=b.G+h;a.va=b.H+k};$f.prototype.ud=function(a,b){var e=a.x,d=a.z,c=e*e+d*d,f=this.nb-this.fc;0>f&&(f=0);c=0<c?f/Math.sqrt(c):0;f=this.Qb-this.fc;0>f&&(f=0);b.x=e*c;b.y=0<a.y?f:-f;b.z=d*c};$f.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb;d-=a;c-=b;f-=
e;var g=0,l=1;if(-1E-6<c&&1E-6>c){if(b<=-k||b>=k)return!1}else{var m=1/c,n=(-k-b)*m;k=(k-b)*m;n>k&&(m=n,n=k,k=m);0<n&&(g=n);1>k&&(l=k)}if(1<=g||0>=l)return!1;k=d*d+f*f;n=a*d+e*f;m=a*a+e*e-this.nb*this.nb;var q=n*n-k*m;if(0>q)return!1;if(0<k){if(q=Math.sqrt(q),m=(-n-q)/k,k=(-n+q)/k,1<=m||0>=k)return!1}else{if(0<=m)return!1;m=0;k=1}if(k<=g||l<=m)return!1;if(m<g){if(0==g)return!1;h.normal.Ia(0,0<c?-1:1,0)}else{g=m;if(0==g)return!1;l=h.normal.Ia(a+d*g,0,e+f*g);k=Math.sqrt(l.x*l.x+l.y*l.y+l.z*l.z);0<k&&
(k=1/k);l.x*=k;l.y*=k;l.z*=k}h.position.Ia(a+g*d,b+g*c,e+g*f);h.fraction=g;return!0};rl(nh,md);nh.prototype.i=function(){return this.nb};nh.prototype.Wd=function(){this.Ge=4.188790204786386*this.nb*this.nb*this.nb;this.af=.4*this.nb*this.nb;this.df=this.cf=this.bf=0;this.ef=.4*this.nb*this.nb;this.hf=this.gf=this.ff=0;this.jf=.4*this.nb*this.nb};nh.prototype.Xb=function(a,b){var e,d;var c=d=e=this.nb;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};nh.prototype.ud=function(a,b){b.$()};
nh.prototype.h=function(a,b,e,d,c,f,h){d-=a;c-=b;var k=f-e;f=d*d+c*c+k*k;var g=a*d+b*c+e*k,l=g*g-f*(a*a+b*b+e*e-this.nb*this.nb);if(0>l)return!1;f=(-g-Math.sqrt(l))/f;if(0>f||1<f)return!1;a+=d*f;b+=c*f;e+=k*f;d=a*a+b*b+e*e;0<d&&(d=1/Math.sqrt(d));c=h.position;c.x=a;c.y=b;c.z=e;c=h.normal;c.x=a*d;c.y=b*d;c.z=e*d;h.fraction=f;return!0};bk.prototype.i=function(a,b){return this.h[a][b]};bj.prototype.h=function(){for(var a=0,b=0,e=this.numPoints;b<e;){var d=b++;this.points[d].depth>a&&(a=this.points[d].depth)}return a};
bj.prototype.clear=function(){for(var a=this.numPoints=0,b=this.points;a<b.length;){var e=b[a];++a;e.position1.$();e.position2.$();e.depth=0;e.id=0}this.normal.$()};vg.prototype.M=function(a,b,e,d){var c=a.normal;c.x=b;c.y=e;c.z=d;this.C&&(a=a.normal,a.x=-a.x,a.y=-a.y,a.z=-a.z)};vg.prototype.h=function(a,b,e,d,c,f,h,k,g){a=a.points[a.numPoints++];a.depth=k;a.id=g;this.C?(k=a.position1,k.x=c,k.y=f,k.z=h,c=a.position2,c.x=b,c.y=e,c.z=d):(k=a.position1,k.x=b,k.y=e,k.z=d,b=a.position2,b.x=c,b.y=f,b.z=
h)};vg.prototype.I=function(){};vg.prototype.Hi=function(a,b,e,d,c,f){for(var h=a.numPoints=0,k=a.points;h<k.length;){var g=k[h];++h;g.position1.$();g.position2.$();g.depth=0;g.id=0}a.normal.$();this.C?this.I(a,e,b,c,d,f):this.I(a,b,e,d,c,f)};rl(vk,vg);vk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=d.F;var h=d.G;var k=d.H;var g=c.F;var l=c.G;var m=c.H;var n=g-f;var q=l-h;var p=m-k;var r=d.A;var t=d.o;var x=d.u;var v=d.j;var B=d.v;var H=d.l;var C=d.m;var O=d.s;var y=d.B;var A=c.A;var E=
c.o;var M=c.u;var G=c.j;var R=c.v;var K=c.l;var oa=c.m;var N=c.s;var Ra=c.B;var Wa=b.Sd,Ja=b.Td,Sa=b.Ud,Aa=e.Sd,La=e.Td,Fa=e.Ud;var L=r*Wa;var Z=t*Wa;var Y=x*Wa;var va=v*Ja;var Va=B*Ja;var D=H*Ja;var za=C*Sa;var aa=O*Sa;var Ta=y*Sa;var ca=A*Aa;var ia=E*Aa;var T=M*Aa;var ka=G*La;var pa=R*La;var Ca=K*La;var V=oa*Fa;var fa=N*Fa;var w=Ra*Fa;var ta=Infinity,Ga=-1,da=0,W,sa;var la=sa=W=0;var Oa=Wa,ab=r*ca+t*ia+x*T,ja=r*ka+t*pa+x*Ca,ob=r*V+t*fa+x*w;0>ab&&(ab=-ab);0>ja&&(ja=-ja);0>ob&&(ob=-ob);var Ha=ab+
ja+ob,I=r*n+t*q+x*p,Ka=Oa+Ha,P=0>I,na=P?-I:I;if(na<Ka){var ba=Ka-na;Infinity>ba&&(ta=ba,Ga=0,W=r,sa=t,la=x,da=P?-1:1);Oa=Ja;var ea=v*ca+B*ia+H*T,X=v*ka+B*pa+H*Ca,ma=v*V+B*fa+H*w;0>ea&&(ea=-ea);0>X&&(X=-X);0>ma&&(ma=-ma);Ha=ea+X+ma;I=v*n+B*q+H*p;var xb=Oa+Ha,Za=0>I,ib=Za?-I:I;if(ib<xb){var qb=xb-ib;qb<ta&&(ta=qb,Ga=1,W=v,sa=B,la=H,da=Za?-1:1);Oa=Sa;var lb=C*ca+O*ia+y*T,bb=C*ka+O*pa+y*Ca,$a=C*V+O*fa+y*w;0>lb&&(lb=-lb);0>bb&&(bb=-bb);0>$a&&($a=-$a);Ha=lb+bb+$a;I=C*n+O*q+y*p;var qa=Oa+Ha,mb=0>I,Db=mb?
-I:I;if(Db<qa){var Xa=qa-Db;Xa<ta&&(ta=Xa,Ga=2,W=C,sa=O,la=y,da=mb?-1:1);ta=ta>Ba.linearSlop?ta-Ba.linearSlop:0;var tb=A*L+E*Z+M*Y,Ma=A*va+E*Va+M*D,Eb=A*za+E*aa+M*Ta;0>tb&&(tb=-tb);0>Ma&&(Ma=-Ma);0>Eb&&(Eb=-Eb);Oa=tb+Ma+Eb;Ha=Aa;I=A*n+E*q+M*p;var ub=Oa+Ha,fb=0>I,db=fb?-I:I;if(db<ub){var gb=ub-db;gb<ta&&(ta=gb,Ga=3,W=A,sa=E,la=M,da=fb?-1:1);var jb=G*L+R*Z+K*Y,Bb=G*va+R*Va+K*D,kb=G*za+R*aa+K*Ta;0>jb&&(jb=-jb);0>Bb&&(Bb=-Bb);0>kb&&(kb=-kb);Oa=jb+Bb+kb;Ha=La;I=G*n+R*q+K*p;var nb=Oa+Ha,Ya=0>I,Nb=Ya?-I:
I;if(Nb<nb){var Lb=nb-Nb;Lb<ta&&(ta=Lb,Ga=4,W=G,sa=R,la=K,da=Ya?-1:1);var F=oa*L+N*Z+Ra*Y,pb=oa*va+N*Va+Ra*D,cb=oa*za+N*aa+Ra*Ta;0>F&&(F=-F);0>pb&&(pb=-pb);0>cb&&(cb=-cb);Oa=F+pb+cb;Ha=Fa;I=oa*n+N*q+Ra*p;var Fb=Oa+Ha,wb=0>I,eb=wb?-I:I;if(eb<Fb){var Ib=Fb-eb;Ib<ta&&(ta=Ib,Ga=5,W=oa,sa=N,la=Ra,da=wb?-1:1);ta=ta>Ba.linearSlop?ta-Ba.linearSlop:0;var Q=t*M-x*E;var U=x*A-r*M;var u=r*E-t*A;if(0!=Q||0!=U||0!=u){var Ab=Q*Q+U*U+u*u;0<Ab&&(Ab=1/Math.sqrt(Ab));Q*=Ab;U*=Ab;u*=Ab;var rb=Q*va+U*Va+u*D,ra=Q*za+U*
aa+u*Ta;0>rb&&(rb=-rb);0>ra&&(ra=-ra);Oa=rb+ra;var Ua=Q*ka+U*pa+u*Ca,xa=Q*V+U*fa+u*w;0>Ua&&(Ua=-Ua);0>xa&&(xa=-xa);Ha=Ua+xa;I=Q*n+U*q+u*p;var Pa=Oa+Ha,hb=0>I,yb=hb?-I:I;if(yb<Pa){var Jb=Pa-yb;Jb<ta&&(ta=Jb,Ga=6,W=Q,sa=U,la=u,da=hb?-1:1)}else return}Q=t*K-x*R;U=x*G-r*K;u=r*R-t*G;if(0!=Q||0!=U||0!=u){var ua=Q*Q+U*U+u*u;0<ua&&(ua=1/Math.sqrt(ua));Q*=ua;U*=ua;u*=ua;var Qa=Q*va+U*Va+u*D,wa=Q*za+U*aa+u*Ta;0>Qa&&(Qa=-Qa);0>wa&&(wa=-wa);Oa=Qa+wa;var Da=Q*ca+U*ia+u*T,S=Q*V+U*fa+u*w;0>Da&&(Da=-Da);0>S&&(S=
-S);Ha=Da+S;I=Q*n+U*q+u*p;var Na=Oa+Ha,Ia=0>I,Cb=Ia?-I:I;if(Cb<Na){var vb=Na-Cb;vb<ta&&(ta=vb,Ga=7,W=Q,sa=U,la=u,da=Ia?-1:1)}else return}Q=t*Ra-x*N;U=x*oa-r*Ra;u=r*N-t*oa;if(0!=Q||0!=U||0!=u){var Kb=Q*Q+U*U+u*u;0<Kb&&(Kb=1/Math.sqrt(Kb));Q*=Kb;U*=Kb;u*=Kb;var Gb=Q*va+U*Va+u*D,Vb=Q*za+U*aa+u*Ta;0>Gb&&(Gb=-Gb);0>Vb&&(Vb=-Vb);Oa=Gb+Vb;var Rb=Q*ca+U*ia+u*T,Wb=Q*ka+U*pa+u*Ca;0>Rb&&(Rb=-Rb);0>Wb&&(Wb=-Wb);Ha=Rb+Wb;I=Q*n+U*q+u*p;var nc=Oa+Ha,ac=0>I,gc=ac?-I:I;if(gc<nc){var cc=nc-gc;cc<ta&&(ta=cc,Ga=8,W=
Q,sa=U,la=u,da=ac?-1:1)}else return}Q=B*M-H*E;U=H*A-v*M;u=v*E-B*A;if(0!=Q||0!=U||0!=u){var Tb=Q*Q+U*U+u*u;0<Tb&&(Tb=1/Math.sqrt(Tb));Q*=Tb;U*=Tb;u*=Tb;var Ub=Q*L+U*Z+u*Y,Qb=Q*za+U*aa+u*Ta;0>Ub&&(Ub=-Ub);0>Qb&&(Qb=-Qb);Oa=Ub+Qb;var hc=Q*ka+U*pa+u*Ca,bc=Q*V+U*fa+u*w;0>hc&&(hc=-hc);0>bc&&(bc=-bc);Ha=hc+bc;I=Q*n+U*q+u*p;var jc=Oa+Ha,Xb=0>I,ic=Xb?-I:I;if(ic<jc){var vc=jc-ic;vc<ta&&(ta=vc,Ga=9,W=Q,sa=U,la=u,da=Xb?-1:1)}else return}Q=B*K-H*R;U=H*G-v*K;u=v*R-B*G;if(0!=Q||0!=U||0!=u){var Yb=Q*Q+U*U+u*u;0<
Yb&&(Yb=1/Math.sqrt(Yb));Q*=Yb;U*=Yb;u*=Yb;var Sc=Q*L+U*Z+u*Y,Mb=Q*za+U*aa+u*Ta;0>Sc&&(Sc=-Sc);0>Mb&&(Mb=-Mb);Oa=Sc+Mb;var mc=Q*ca+U*ia+u*T,fc=Q*V+U*fa+u*w;0>mc&&(mc=-mc);0>fc&&(fc=-fc);Ha=mc+fc;I=Q*n+U*q+u*p;var Zb=Oa+Ha,lc=0>I,ed=lc?-I:I;if(ed<Zb){var Cc=Zb-ed;Cc<ta&&(ta=Cc,Ga=10,W=Q,sa=U,la=u,da=lc?-1:1)}else return}Q=B*Ra-H*N;U=H*oa-v*Ra;u=v*N-B*oa;if(0!=Q||0!=U||0!=u){var wc=Q*Q+U*U+u*u;0<wc&&(wc=1/Math.sqrt(wc));Q*=wc;U*=wc;u*=wc;var sc=Q*L+U*Z+u*Y,Kc=Q*za+U*aa+u*Ta;0>sc&&(sc=-sc);0>Kc&&(Kc=
-Kc);Oa=sc+Kc;var tc=Q*ca+U*ia+u*T,Lc=Q*ka+U*pa+u*Ca;0>tc&&(tc=-tc);0>Lc&&(Lc=-Lc);Ha=tc+Lc;I=Q*n+U*q+u*p;var Id=Oa+Ha,fd=0>I,Xc=fd?-I:I;if(Xc<Id){var Dc=Id-Xc;Dc<ta&&(ta=Dc,Ga=11,W=Q,sa=U,la=u,da=fd?-1:1)}else return}Q=O*M-y*E;U=y*A-C*M;u=C*E-O*A;if(0!=Q||0!=U||0!=u){var oc=Q*Q+U*U+u*u;0<oc&&(oc=1/Math.sqrt(oc));Q*=oc;U*=oc;u*=oc;var gd=Q*L+U*Z+u*Y,kc=Q*va+U*Va+u*D;0>gd&&(gd=-gd);0>kc&&(kc=-kc);Oa=gd+kc;var hd=Q*ka+U*pa+u*Ca,Tc=Q*V+U*fa+u*w;0>hd&&(hd=-hd);0>Tc&&(Tc=-Tc);Ha=hd+Tc;I=Q*n+U*q+u*p;var zd=
Oa+Ha,Ad=0>I,id=Ad?-I:I;if(id<zd){var we=zd-id;we<ta&&(ta=we,Ga=12,W=Q,sa=U,la=u,da=Ad?-1:1)}else return}Q=O*K-y*R;U=y*G-C*K;u=C*R-O*G;if(0!=Q||0!=U||0!=u){var Jd=Q*Q+U*U+u*u;0<Jd&&(Jd=1/Math.sqrt(Jd));Q*=Jd;U*=Jd;u*=Jd;var he=Q*L+U*Z+u*Y,Td=Q*va+U*Va+u*D;0>he&&(he=-he);0>Td&&(Td=-Td);Oa=he+Td;var Yc=Q*ca+U*ia+u*T,$d=Q*V+U*fa+u*w;0>Yc&&(Yc=-Yc);0>$d&&($d=-$d);Ha=Yc+$d;I=Q*n+U*q+u*p;var He=Oa+Ha,We=0>I,oe=We?-I:I;if(oe<He){var rd=He-oe;rd<ta&&(ta=rd,Ga=13,W=Q,sa=U,la=u,da=We?-1:1)}else return}Q=O*
Ra-y*N;U=y*oa-C*Ra;u=C*N-O*oa;if(0!=Q||0!=U||0!=u){var Fd=Q*Q+U*U+u*u;0<Fd&&(Fd=1/Math.sqrt(Fd));Q*=Fd;U*=Fd;u*=Fd;var ae=Q*L+U*Z+u*Y,xe=Q*va+U*Va+u*D;0>ae&&(ae=-ae);0>xe&&(xe=-xe);Oa=ae+xe;var ie=Q*ca+U*ia+u*T,Ec=Q*ka+U*pa+u*Ca;0>ie&&(ie=-ie);0>Ec&&(Ec=-Ec);Ha=ie+Ec;I=Q*n+U*q+u*p;var sd=Oa+Ha,td=0>I,Bd=td?-I:I;if(Bd<sd){var Zc=sd-Bd;Zc<ta&&(ta=Zc,Ga=14,W=Q,sa=U,la=u,da=td?-1:1)}else return}if(6<=Ga){W*=da;sa*=da;la*=da;var Mc=(Ga-6)/3|0,ch=Ga-6-3*Mc;switch(Mc){case 0:var nf=r;var Ff=t;var Ie=x;var xg=
0<za*W+aa*sa+Ta*la;if(0<va*W+Va*sa+D*la)if(xg){var $c=va+za;var xc=Va+aa;var Hc=D+Ta}else $c=va-za,xc=Va-aa,Hc=D-Ta;else xg?($c=za-va,xc=aa-Va,Hc=Ta-D):($c=va+za,xc=Va+aa,Hc=D+Ta,$c=-$c,xc=-xc,Hc=-Hc);break;case 1:nf=v;Ff=B;Ie=H;var of=0<za*W+aa*sa+Ta*la;0<L*W+Z*sa+Y*la?of?($c=L+za,xc=Z+aa,Hc=Y+Ta):($c=L-za,xc=Z-aa,Hc=Y-Ta):of?($c=za-L,xc=aa-Z,Hc=Ta-Y):($c=L+za,xc=Z+aa,Hc=Y+Ta,$c=-$c,xc=-xc,Hc=-Hc);break;default:nf=C;Ff=O;Ie=y;var be=0<va*W+Va*sa+D*la;0<L*W+Z*sa+Y*la?be?($c=L+va,xc=Z+Va,Hc=Y+D):($c=
L-va,xc=Z-Va,Hc=Y-D):be?($c=va-L,xc=Va-Z,Hc=D-Y):($c=L+va,xc=Z+Va,Hc=Y+D,$c=-$c,xc=-xc,Hc=-Hc)}$c=f+$c;xc=h+xc;Hc=k+Hc;switch(ch){case 0:var Ud=A;var Pd=E;var Qd=M;var je=0<V*W+fa*sa+w*la;if(0<ka*W+pa*sa+Ca*la)if(je){var Fc=ka+V;var Uc=pa+fa;var Vc=Ca+w}else Fc=ka-V,Uc=pa-fa,Vc=Ca-w;else je?(Fc=V-ka,Uc=fa-pa,Vc=w-Ca):(Fc=ka+V,Uc=pa+fa,Vc=Ca+w,Fc=-Fc,Uc=-Uc,Vc=-Vc);break;case 1:Ud=G;Pd=R;Qd=K;var dg=0<V*W+fa*sa+w*la;0<ca*W+ia*sa+T*la?dg?(Fc=ca+V,Uc=ia+fa,Vc=T+w):(Fc=ca-V,Uc=ia-fa,Vc=T-w):dg?(Fc=V-
ca,Uc=fa-ia,Vc=w-T):(Fc=ca+V,Uc=ia+fa,Vc=T+w,Fc=-Fc,Uc=-Uc,Vc=-Vc);break;default:Ud=oa;Pd=N;Qd=Ra;var Gf=0<ka*W+pa*sa+Ca*la;0<ca*W+ia*sa+T*la?Gf?(Fc=ca+ka,Uc=ia+pa,Vc=T+Ca):(Fc=ca-ka,Uc=ia-pa,Vc=T-Ca):Gf?(Fc=ka-ca,Uc=pa-ia,Vc=Ca-T):(Fc=ca+ka,Uc=ia+pa,Vc=T+Ca,Fc=-Fc,Uc=-Uc,Vc=-Vc)}Fc=g-Fc;Uc=l-Uc;Vc=m-Vc;var pf=$c-Fc;var Vd=xc-Uc;var ye=Hc-Vc;var qf=nf*Ud+Ff*Pd+Ie*Qd,Je=nf*pf+Ff*Vd+Ie*ye,Hf=Ud*pf+Pd*Vd+Qd*ye,rf=1/(1-qf*qf),sf=(qf*Hf-Je)*rf,tf=(Hf-qf*Je)*rf;var If=$c+nf*sf;var Jf=xc+Ff*sf;var Kf=Hc+
Ie*sf;var Lf=Fc+Ud*tf;var uf=Uc+Pd*tf;var vf=Vc+Qd*tf;this.M(a,-W,-sa,-la);this.h(a,If,Jf,Kf,Lf,uf,vf,ta,4)}else{if(3<=Ga){da=-da;n=-n;q=-q;p=-p;Wa=Aa;Ja=La;Sa=Fa;var Wc=f;var nd=h;var vd=k;f=g;h=l;k=m;Wc=r;nd=t;vd=x;r=A;t=E;x=M;A=Wc;E=nd;M=vd;Wc=v;nd=B;vd=H;v=G;B=R;H=K;G=Wc;R=nd;K=vd;Wc=C;nd=O;vd=y;C=oa;O=N;y=Ra;oa=Wc;N=nd;Ra=vd;Wc=L;nd=Z;vd=Y;L=ca;Z=ia;Y=T;ca=Wc;ia=nd;T=vd;Wc=va;nd=Va;vd=D;va=ka;Va=pa;D=Ca;ka=Wc;pa=nd;Ca=vd;Wc=za;nd=aa;vd=Ta;za=V;aa=fa;Ta=w;V=Wc;fa=nd;w=vd;Ga-=3;var ze=!0}else ze=
!1;switch(Ga){case 0:var Xe=L;var Mf=Z;var Ke=Y;var Nc=r;var Oc=t;var Ic=x;var pe=v;var qe=B;var re=H;var se=C;var te=O;var Rd=y;var Ae=Ja;var wf=Sa;break;case 1:Xe=va;Mf=Va;Ke=D;Nc=v;Oc=B;Ic=H;pe=C;qe=O;re=y;se=r;te=t;Rd=x;Ae=Sa;wf=Wa;break;default:Xe=za,Mf=aa,Ke=Ta,Nc=C,Oc=O,Ic=y,pe=r,qe=t,re=x,se=v,te=B,Rd=H,Ae=Wa,wf=Ja}if(0>da){Xe=-Xe;Mf=-Mf;Ke=-Ke;Nc=-Nc;Oc=-Oc;Ic=-Ic;Wc=pe;nd=qe;vd=re;pe=se;qe=te;re=Rd;se=Wc;te=nd;Rd=vd;var eg=Ae;Ae=wf;wf=eg}Xe+=f;Mf+=h;Ke+=k;var ud=1,ke=0,wd=Nc*A+Oc*E+Ic*M;
wd<ud&&(ud=wd,ke=0);-wd<ud&&(ud=-wd,ke=1);wd=Nc*G+Oc*R+Ic*K;wd<ud&&(ud=wd,ke=2);-wd<ud&&(ud=-wd,ke=3);wd=Nc*oa+Oc*N+Ic*Ra;wd<ud&&(ud=wd,ke=4);-wd<ud&&(ke=5);switch(ke){case 0:var od=ca+ka;var jd=ia+pa;var pd=T+Ca;od+=V;jd+=fa;pd+=w;var Jc=ca-ka;var Pc=ia-pa;var kd=T-Ca;Jc+=V;Pc+=fa;kd+=w;var Ac=ca-ka;var Bc=ia-pa;var yc=T-Ca;Ac-=V;Bc-=fa;yc-=w;var ad=ca+ka;var bd=ia+pa;var Gc=T+Ca;ad-=V;bd-=fa;Gc-=w;break;case 1:od=ka-ca;jd=pa-ia;pd=Ca-T;od+=V;jd+=fa;pd+=w;Jc=ka-ca;Pc=pa-ia;kd=Ca-T;Jc-=V;Pc-=fa;kd-=
w;Ac=ca+ka;Bc=ia+pa;yc=T+Ca;Ac=-Ac;Bc=-Bc;yc=-yc;Ac-=V;Bc-=fa;yc-=w;ad=ca+ka;bd=ia+pa;Gc=T+Ca;ad=-ad;bd=-bd;Gc=-Gc;ad+=V;bd+=fa;Gc+=w;break;case 2:od=ca+ka;jd=ia+pa;pd=T+Ca;od+=V;jd+=fa;pd+=w;Jc=ca+ka;Pc=ia+pa;kd=T+Ca;Jc-=V;Pc-=fa;kd-=w;Ac=ka-ca;Bc=pa-ia;yc=Ca-T;Ac-=V;Bc-=fa;yc-=w;ad=ka-ca;bd=pa-ia;Gc=Ca-T;ad+=V;bd+=fa;Gc+=w;break;case 3:od=ca-ka;jd=ia-pa;pd=T-Ca;od+=V;jd+=fa;pd+=w;Jc=ca+ka;Pc=ia+pa;kd=T+Ca;Jc=-Jc;Pc=-Pc;kd=-kd;Jc+=V;Pc+=fa;kd+=w;Ac=ca+ka;Bc=ia+pa;yc=T+Ca;Ac=-Ac;Bc=-Bc;yc=-yc;Ac-=
V;Bc-=fa;yc-=w;ad=ca-ka;bd=ia-pa;Gc=T-Ca;ad-=V;bd-=fa;Gc-=w;break;case 4:od=ca+ka;jd=ia+pa;pd=T+Ca;od+=V;jd+=fa;pd+=w;Jc=ka-ca;Pc=pa-ia;kd=Ca-T;Jc+=V;Pc+=fa;kd+=w;Ac=ca+ka;Bc=ia+pa;yc=T+Ca;Ac=-Ac;Bc=-Bc;yc=-yc;Ac+=V;Bc+=fa;yc+=w;ad=ca-ka;bd=ia-pa;Gc=T-Ca;ad+=V;bd+=fa;Gc+=w;break;default:od=ca+ka,jd=ia+pa,pd=T+Ca,od-=V,jd-=fa,pd-=w,Jc=ca-ka,Pc=ia-pa,kd=T-Ca,Jc-=V,Pc-=fa,kd-=w,Ac=ca+ka,Bc=ia+pa,yc=T+Ca,Ac=-Ac,Bc=-Bc,yc=-yc,Ac-=V,Bc-=fa,yc-=w,ad=ka-ca,bd=pa-ia,Gc=Ca-T,ad-=V,bd-=fa,Gc-=w}od+=n;jd+=q;
pd+=p;Jc+=n;Pc+=q;kd+=p;Ac+=n;Bc+=q;yc+=p;ad+=n;bd+=q;Gc+=p;var Be=this.i;Be.w=Ae;Be.M=wf;Be.I=0;Be.C=0;var Nf=this.i,Ce=Nf.i[Nf.I++];Ce.x=od*pe+jd*qe+pd*re;Ce.y=od*se+jd*te+pd*Rd;Ce.jb=od;Ce.kb=jd;Ce.lb=pd;var xf=this.i,ce=xf.i[xf.I++];ce.x=Jc*pe+Pc*qe+kd*re;ce.y=Jc*se+Pc*te+kd*Rd;ce.jb=Jc;ce.kb=Pc;ce.lb=kd;var Ye=this.i,ue=Ye.i[Ye.I++];ue.x=Ac*pe+Bc*qe+yc*re;ue.y=Ac*se+Bc*te+yc*Rd;ue.jb=Ac;ue.kb=Bc;ue.lb=yc;var Of=this.i,Cd=Of.i[Of.I++];Cd.x=ad*pe+bd*qe+Gc*re;Cd.y=ad*se+bd*te+Gc*Rd;Cd.jb=ad;Cd.kb=
bd;Cd.lb=Gc;this.i.V();this.i.X();if(ze){var Sd=Nc;var Gd=Oc;var Kd=Ic}else Sd=-Nc,Gd=-Oc,Kd=-Ic;this.M(a,Sd,Gd,Kd);for(var Ld=0,Dd=this.i.I;Ld<Dd;){var yg=Ld++,oh=this.i.i[yg],fg=void 0,gg=void 0,Pf=void 0;fg=oh.jb;gg=oh.kb;Pf=oh.lb;fg+=f;gg+=h;Pf+=k;var zg=void 0,De=void 0,Le=void 0;zg=Xe-fg;De=Mf-gg;Le=Ke-Pf;var ve=zg*Nc+De*Oc+Le*Ic,Wd=void 0,Ee=void 0,de=void 0;Wd=fg+Nc*ve;Ee=gg+Oc*ve;de=Pf+Ic*ve;ve>-Ba.contactPersistenceThreshold&&(ze?this.h(a,fg,gg,Pf,Wd,Ee,de,ve,yg):this.h(a,Wd,Ee,de,fg,gg,
Pf,ve,yg))}}}}}}}}};Ik.prototype.V=function(){for(var a=0,b=this.I;a<b;){var e=a++,d=this.i[e];e=this.i[(e+1)%this.I];var c=this.w+d.x,f=this.w+e.x;if(0<c&&0<f)e=this.h[this.C++],e.x=d.x,e.y=d.y,e.jb=d.jb,e.kb=d.kb,e.lb=d.lb;else if(0<c&&0>=f){var h=this.h[this.C++];h.x=d.x;h.y=d.y;h.jb=d.jb;h.kb=d.kb;h.lb=d.lb;c/=c-f;f=this.h[this.C++];f.x=d.x+(e.x-d.x)*c;f.y=d.y+(e.y-d.y)*c;f.jb=d.jb+(e.jb-d.jb)*c;f.kb=d.kb+(e.kb-d.kb)*c;f.lb=d.lb+(e.lb-d.lb)*c}else 0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+
(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c)}a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+1)%this.I],c=this.w-d.x,f=this.w-e.x,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=d.y,e.jb=d.jb,e.kb=d.kb,e.lb=d.lb):0<c&&0>=f?(h=this.h[this.C++],h.x=d.x,h.y=d.y,h.jb=d.jb,h.kb=d.kb,h.lb=d.lb,c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-
d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c);a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+1)%this.I],c=this.M+d.y,f=this.M+e.y,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=d.y,e.jb=d.jb,e.kb=d.kb,e.lb=d.lb):0<c&&0>=f?(h=this.h[this.C++],h.x=d.x,h.y=d.y,h.jb=d.jb,h.kb=d.kb,h.lb=d.lb,c/=c-f,f=this.h[this.C++],
f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c);a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+1)%this.I],c=this.M-d.y,f=this.M-e.y,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=d.y,e.jb=d.jb,e.kb=d.kb,e.lb=d.lb):0<c&&0>=f?(h=this.h[this.C++],
h.x=d.x,h.y=d.y,h.jb=d.jb,h.kb=d.kb,h.lb=d.lb,c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.jb=d.jb+(e.jb-d.jb)*c,f.kb=d.kb+(e.kb-d.kb)*c,f.lb=d.lb+(e.lb-d.lb)*c);a=this.i;this.i=this.h;this.h=a;this.I=this.C;this.C=0};Ik.prototype.X=function(){if(!(4>this.I)){for(var a=-Infinity,b=Infinity,e=-Infinity,d=Infinity,c=null,f=null,
h=null,k=null,g=0,l=this.I;g<l;){var m=g++,n=this.i[m],q=1*n.x+1*n.y,p=-1*n.x+1*n.y;0==m?(a=q,c=n,b=q,f=n,e=p,h=n,d=p,k=n):(q>a&&(a=q,c=n),q<b&&(b=q,f=n),p>e&&(e=p,h=n),p<d&&(d=p,k=n))}a=this.h[this.C++];a.x=c.x;a.y=c.y;a.jb=c.jb;a.kb=c.kb;a.lb=c.lb;c=this.h[this.C++];c.x=h.x;c.y=h.y;c.jb=h.jb;c.kb=h.kb;c.lb=h.lb;h=this.h[this.C++];h.x=f.x;h.y=f.y;h.jb=f.jb;h.kb=f.kb;h.lb=f.lb;f=this.h[this.C++];f.x=k.x;f.y=k.y;f.jb=k.jb;f.kb=k.kb;f.lb=k.lb;k=this.i;this.i=this.h;this.h=k;this.I=this.C;this.C=0}};
dl.prototype.de=function(){null!=this.og&&this.og.clear()};rl(uk,vg);uk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=d.j;var h=d.v;var k=d.l;var g=c.j;var l=c.v;var m=c.l;var n=b.Qb,q=e.Qb;b=b.nb;e=e.nb;var p=d.F+f*-n;var r=d.G+h*-n;var t=d.H+k*-n;f=d.F+f*n;var x=d.G+h*n;var v=d.H+k*n;h=c.F+g*-q;k=c.G+l*-q;d=c.H+m*-q;g=c.F+g*q;l=c.G+l*q;var B=c.H+m*q;var H=p-h;var C=r-k;var O=t-d;f-=p;x-=r;c=v-t;m=g-h;v=l-k;g=B-d;l=-(H*f+C*x+O*c);H=H*m+C*v+O*g;C=n*n*4;O=f*m+x*v+c*g;B=q*q*4;0==C&&0==B?q=
n=0:0==C?(n=0,q=0>H?0:H>B?1:H/B):0==B?(q=0,n=0>l?0:l>C?1:l/C):(q=C*B-O*O,0==q?n=0:(n=O*H+B*l,n=0>n?0:n>q?1:n/q),q=n*O+H,0>q?(q=0,n=0>l?0:l>C?1:l/C):q>B?(q=1,n=O+l,n=0>n?0:n>C?1:n/C):q/=B);p+=f*n;r+=x*n;t+=c*n;h+=m*q;k+=v*q;d+=g*q;x=p-h;f=r-k;q=t-d;n=x*x+f*f+q*q;n>=(b+e)*(b+e)||(n=Math.sqrt(n),0<n?(x*=1/n,f*=1/n,q*=1/n):(x=1,q=f=0),this.M(a,x,f,q),this.h(a,p+x*-b,r+f*-b,t+q*-b,h+x*e,k+f*e,d+q*e,b+e-n,0))};rl(tk,vg);tk.prototype.I=function(a,b,e,d,c,f){var h=zc.instance;d=h.Ka(b,e,d,c,Ba.enableGJKCaching?
f:null,!0);a.incremental=!0;if(d!=ah.SUCCEEDED)console.log("src/oimo/collision/narrowphase/detector/GjkEpaDetector.hx:28:","GJK/EPA failed: status="+d);else if(!(h.distance>b.fc+e.fc)){f=h.closestPoint1;d=f.x;c=f.y;f=f.z;var k=h.closestPoint2;var g=k.x;var l=k.y;k=k.z;var m=d-g;var n=c-l;var q=f-k;if(0!=m*m+n*n+q*q){0>h.distance&&(m=-m,n=-n,q=-q);var p=m*m+n*n+q*q;0<p&&(p=1/Math.sqrt(p));m*=p;n*=p;q*=p;this.M(a,m,n,q);d+=m*-b.fc;c+=n*-b.fc;f+=q*-b.fc;g+=m*e.fc;l+=n*e.fc;k+=q*e.fc;this.h(a,d,c,f,g,
l,k,b.fc+e.fc-h.distance,0)}}};rl(ek,vg);ek.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=e.Sd;var h=e.Td;e=e.Ud;var k=-f;var g=-h;var l=-e;b=b.nb;var m=d.F-c.F;var n=d.G-c.G;var q=d.H-c.H;var p=c.A*m+c.o*n+c.u*q;var r=c.j*m+c.v*n+c.l*q;m=c.m*m+c.s*n+c.B*q;if(k<p&&f>p&&g<r&&h>r&&l<m&&e>m){n=f-(0>p?-p:p);var t=h-(0>r?-r:r);var x=e-(0>m?-m:m),v;if(n<t)if(n<x){k=0<p?1:-1;var B=l=g=0;q=v=1}else 0<m?(g=k=0,l=1):(g=k=0,l=-1),v=B=1,q=0,n=x;else t<x?(0<r?(k=0,g=1):(k=0,g=-1),l=0,B=1,v=0,q=1,n=t):
(0<m?(g=k=0,l=1):(g=k=0,l=-1),v=B=1,q=0,n=x);p=k*f+B*p;h=g*h+v*r;m=l*e+q*m;e=c.A*p+c.j*h+c.m*m;r=c.o*p+c.v*h+c.s*m;h=c.u*p+c.l*h+c.B*m;m=c.A*k+c.j*g+c.m*l;p=c.o*k+c.v*g+c.s*l;f=c.u*k+c.l*g+c.B*l;this.M(a,m,p,f);this.h(a,d.F+m*-b,d.G+p*-b,d.H+f*-b,c.F+e,c.G+r,c.H+h,n,0)}else f-=1E-9,h-=1E-9,e-=1E-9,k+=1E-9,g+=1E-9,l+=1E-9,f=p<f?p:f,n=r<h?r:h,q=m<e?m:e,f>k||(f=k),n>g||(n=g),q>l||(q=l),p-=f,k=r-n,g=m-q,e=p*p+k*k+g*g,e>=b*b||(e=Math.sqrt(e),r=c.A*f+c.j*n+c.m*q,h=c.o*f+c.v*n+c.s*q,m=c.u*f+c.l*n+c.B*q,
l=c.A*p+c.j*k+c.m*g,f=c.o*p+c.v*k+c.s*g,p=c.u*p+c.l*k+c.B*g,g=l*l+f*f+p*p,0<g&&(g=1/Math.sqrt(g)),k=l*g,f*=g,p*=g,this.M(a,k,f,p),this.h(a,d.F+k*-b,d.G+f*-b,d.H+p*-b,c.F+r,c.G+h,c.H+m,b-e,0))};rl(dk,vg);dk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=e.Qb;b=b.nb;e=e.nb;var h=c.j;var k=c.v;var g=c.l;var l=d.F;var m=d.G;d=d.H;var n=c.F+h*-f;var q=c.G+k*-f;var p=c.H+g*-f;h=c.F+h*f;k=c.G+k*f;var r=c.H+g*f;c=h-n;g=k-q;k=r-p;f=f*f*4;h=(l-n)*c+(m-q)*g+(d-p)*k;h=0>h?0:h>f?1:h/f;f=n+c*h;q+=g*h;p+=
k*h;k=l-f;g=m-q;n=d-p;c=k*k+g*g+n*n;c>=(b+e)*(b+e)||(c=Math.sqrt(c),0<c?(k*=1/c,g*=1/c,n*=1/c):(k=1,n=g=0),this.M(a,k,g,n),this.h(a,l+k*-b,m+g*-b,d+n*-b,f+k*e,q+g*e,p+n*e,b+e-c,0))};rl(sk,vg);sk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=d.F-c.F;var h=d.G-c.G;var k=d.H-c.H;b=b.nb;e=e.nb;var g=f*f+h*h+k*k;g>=(b+e)*(b+e)||(g=Math.sqrt(g),0<g?(f*=1/g,h*=1/g,k*=1/g):(f=1,k=h=0),this.M(a,f,h,k),this.h(a,d.F+f*-b,d.G+h*-b,d.H+k*-b,c.F+f*e,c.G+h*e,c.H+k*e,b+e-g,0))};ck.prototype.validate=function(){for(var a=
this.C;null!=a;){a.La[0].dg=null;a.La[0].Pf=null;if(-1==a.Vb[0])return this.h=2,!1;if(null==a.Ub[0])return this.h=3,!1;a.La[1].dg=null;a.La[1].Pf=null;if(-1==a.Vb[1])return this.h=2,!1;if(null==a.Ub[1])return this.h=3,!1;a.La[2].dg=null;a.La[2].Pf=null;if(-1==a.Vb[2])return this.h=2,!1;if(null==a.Ub[2])return this.h=3,!1;a=a.U}return!0};ck.prototype.Y=function(a,b,e){if(b.Zh!=a){b.Zh=a;var d=b.ng;d.x=e.x;d.y=e.y;d.z=e.z;var c=b.La[0].kd;d.x-=c.x;d.y-=c.y;d.z-=c.z;d=b.ng;c=b.jh;b.Lg=0<d.x*c.x+d.y*
c.y+d.z*c.z;if(b.Lg){for(d=0;3>d;){c=d++;var f=b.Ub[c];if(null!=f){var h=f.ng;h.x=e.x;h.y=e.y;h.z=e.z;var k=f.La[0].kd;h.x-=k.x;h.y-=k.y;h.z-=k.z;h=f.ng;k=f.jh;f.Lg=0<h.x*k.x+h.y*k.y+h.z*k.z;f.Lg?this.Y(a,f,e):(h=b.La[c],h.Pf=b.La[b.zc[c]],h.dg=f)}}a=b.Ub[0];null!=a&&(e=b.Vb[0],a.Ub[e]=null,a.Vb[e]=-1,b.Ub[0]=null,b.Vb[0]=-1);a=b.Ub[1];null!=a&&(e=b.Vb[1],a.Ub[e]=null,a.Vb[e]=-1,b.Ub[1]=null,b.Vb[1]=-1);a=b.Ub[2];null!=a&&(e=b.Vb[2],a.Ub[e]=null,a.Vb[e]=-1,b.Ub[2]=null,b.Vb[2]=-1);this.V--;a=b.sa;
e=b.U;null!=a&&(a.U=e);null!=e&&(e.sa=a);b==this.C&&(this.C=this.C.U);b==this.i&&(this.i=this.i.sa);b.U=null;b.sa=null;b.wh();b.U=this.I;this.I=b}else this.h=6}};ck.prototype.aa=function(a,b,e,d){this.h=0;this.Vd=4;this.La[0]=a;this.La[1]=b;this.La[2]=e;this.La[3]=d;var c=this.X,f=a.kd;c.x=f.x;c.y=f.y;c.z=f.z;f=b.kd;c.x+=f.x;c.y+=f.y;c.z+=f.z;f=e.kd;c.x+=f.x;c.y+=f.y;c.z+=f.z;f=d.kd;c.x+=f.x;c.y+=f.y;c.z+=f.z;c.x*=.25;c.y*=.25;c.z*=.25;c=this.I;null!=c?(this.I=c.U,c.U=null):c=new Lh;f=this.I;null!=
f?(this.I=f.U,f.U=null):f=new Lh;var h=this.I;null!=h?(this.I=h.U,h.U=null):h=new Lh;var k=this.I;null!=k?(this.I=k.U,k.U=null):k=new Lh;c.Ia(a,b,e,this.X,!0)||(this.h=1);f.Ia(a,b,d,this.X,!0)||(this.h=1);h.Ia(a,e,d,this.X,!0)||(this.h=1);k.Ia(b,e,d,this.X,!0)||(this.h=1);c.Cf(f)||(this.h=1);c.Cf(h)||(this.h=1);c.Cf(k)||(this.h=1);f.Cf(h)||(this.h=1);f.Cf(k)||(this.h=1);h.Cf(k)||(this.h=1);this.V++;null==this.C?this.C=c:(this.i.U=c,c.sa=this.i);this.i=c;this.V++;null==this.C?this.C=f:(this.i.U=f,
f.sa=this.i);this.i=f;this.V++;null==this.C?this.C=h:(this.i.U=h,h.sa=this.i);this.i=h;this.V++;null==this.C?this.C=k:(this.i.U=k,k.sa=this.i);this.i=k;return 0==this.h};ck.prototype.qa=function(a,b){this.La[this.Vd++]=a;var e=b.La[0];this.Y(this.Vd,b,a.kd);if(0!=this.h)return!1;b=e;var d=null,c=null;do{if(null==b.Pf)return this.h=4,!1;if(null==b.dg)return this.h=5,!1;var f=this.I;null!=f?(this.I=f.U,f.U=null):f=new Lh;null==c&&(c=f);f.Ia(b,b.Pf,a,this.X,!1)||(this.h=1);if(0!=this.h)return!1;this.V++;
null==this.C?this.C=f:(this.i.U=f,f.sa=this.i);this.i=f;f.Cf(b.dg)||(this.h=1);null==d||f.Cf(d)||(this.h=1);d=f;b=b.Pf}while(b!=e);d.Cf(c)||(this.h=1);return 0==this.h?this.validate():!1};Lh.prototype.Ia=function(a,b,e,d,c){null==c&&(c=!1);var f=a.kd;var h=f.x;var k=f.y;var g=f.z;var l=b.kd;var m=l.x;var n=l.y;var q=l.z;var p=e.kd;var r=p.x;var t=p.y;var x=p.z;var v=d.x;var B=d.y;var H=d.z;var C=m-h;var O=n-k;var y=q-g;var A=r-h;var E=t-k;var M=x-g;var G=h-v;var R=k-B;var K=g-H;var oa=O*M-y*E;var N=
y*A-C*M;var Ra=C*E-O*A;var Wa=!1;if(0>G*oa+R*N+K*Ra)if(c){var Ja=b;b=e;e=Ja;oa*=-1;N*=-1;Ra*=-1}else Wa=!0;this.La[0]=a;this.La[1]=b;this.La[2]=e;var Sa=this.jh;Sa.x=oa;Sa.y=N;Sa.z=Ra;var Aa=a.kd,La=b.kd,Fa=e.kd,L=this.ng;var Z=Aa.x;var Y=Aa.y;var va=Aa.z;var Va=La.x;var D=La.y;var za=La.z;var aa=Fa.x;var Ta=Fa.y;var ca=Fa.z;var ia=Va-Z;var T=D-Y;var ka=za-va;var pa=aa-Va;var Ca=Ta-D;var V=ca-za;var fa=Z-aa;var w=Y-Ta;var ta=va-ca;var Ga=T*V-ka*Ca;var da=ka*pa-ia*V;var W=ia*Ca-T*pa;var sa=T*W-ka*
da;var la=ka*Ga-ia*W;var Oa=ia*da-T*Ga;var ab=Ca*W-V*da;var ja=V*Ga-pa*W;var ob=pa*da-Ca*Ga;var Ha=w*W-ta*da;var I=ta*Ga-fa*W;var Ka=fa*da-w*Ga;var P=-1,na,ba;var ea=ba=na=0;if(0>Z*sa+Y*la+va*Oa){var X=Aa.x;var ma=Aa.y;var xb=Aa.z;var Za=La.x;var ib=La.y;var qb=La.z;var lb=Za-X;var bb=ib-ma;var $a=qb-xb;var qa=lb*X+bb*ma+$a*xb;qa=-qa/(lb*lb+bb*bb+$a*$a);if(0>qa)L.x=X,L.y=ma,L.z=xb;else if(1<qa)L.x=Za,L.y=ib,L.z=qb;else{var mb=X+lb*qa;var Db=ma+bb*qa;var Xa=xb+$a*qa;L.x=mb;L.y=Db;L.z=Xa}P=L.x*L.x+
L.y*L.y+L.z*L.z;na=L.x;ba=L.y;ea=L.z}if(0>Va*ab+D*ja+za*ob){var tb=La.x;var Ma=La.y;var Eb=La.z;var ub=Fa.x;var fb=Fa.y;var db=Fa.z;var gb=ub-tb;var jb=fb-Ma;var Bb=db-Eb;var kb=gb*tb+jb*Ma+Bb*Eb;kb=-kb/(gb*gb+jb*jb+Bb*Bb);if(0>kb)L.x=tb,L.y=Ma,L.z=Eb;else if(1<kb)L.x=ub,L.y=fb,L.z=db;else{var nb=tb+gb*kb;var Ya=Ma+jb*kb;var Nb=Eb+Bb*kb;L.x=nb;L.y=Ya;L.z=Nb}var Lb=L.x*L.x+L.y*L.y+L.z*L.z;if(0>P||Lb<P)P=Lb,na=L.x,ba=L.y,ea=L.z}if(0>aa*Ha+Ta*I+ca*Ka){var F=Aa.x;var pb=Aa.y;var cb=Aa.z;var Fb=Fa.x;var wb=
Fa.y;var eb=Fa.z;var Ib=Fb-F;var Q=wb-pb;var U=eb-cb;var u=Ib*F+Q*pb+U*cb;u=-u/(Ib*Ib+Q*Q+U*U);if(0>u)L.x=F,L.y=pb,L.z=cb;else if(1<u)L.x=Fb,L.y=wb,L.z=eb;else{var Ab=F+Ib*u;var rb=pb+Q*u;var ra=cb+U*u;L.x=Ab;L.y=rb;L.z=ra}var Ua=L.x*L.x+L.y*L.y+L.z*L.z;if(0>P||Ua<P)P=Ua,na=L.x,ba=L.y,ea=L.z}if(0<P)L.x=na,L.y=ba,L.z=ea;else{var xa=Ga*Ga+da*da+W*W;0<xa&&(xa=1/Math.sqrt(xa));Ga*=xa;da*=xa;W*=xa;var Pa=Ga*Ga+da*da+W*W;Pa=(Z*Ga+Y*da+va*W)/Pa;na=Ga*Pa;ba=da*Pa;ea=W*Pa;L.x=na;L.y=ba;L.z=ea}var hb=this.ng;
this.bh=hb.x*hb.x+hb.y*hb.y+hb.z*hb.z;this.Ub[0]=null;this.Ub[1]=null;this.Ub[2]=null;this.Vb[0]=-1;this.Vb[1]=-1;this.Vb[2]=-1;return!Wa};Lh.prototype.Cf=function(a){var b=0;this.La[0]==a.La[this.zc[0]]&&this.La[this.zc[0]]==a.La[0]&&(this.Ub[0]=a,this.Vb[0]=0,a.Ub[0]=this,a.Vb[0]=0,b=1);this.La[0]==a.La[this.zc[1]]&&this.La[this.zc[0]]==a.La[1]&&(this.Ub[0]=a,this.Vb[0]=1,a.Ub[1]=this,a.Vb[1]=0,++b);this.La[0]==a.La[this.zc[2]]&&this.La[this.zc[0]]==a.La[2]&&(this.Ub[0]=a,this.Vb[0]=2,a.Ub[2]=this,
a.Vb[2]=0,++b);this.La[1]==a.La[this.zc[0]]&&this.La[this.zc[1]]==a.La[0]&&(this.Ub[1]=a,this.Vb[1]=0,a.Ub[0]=this,a.Vb[0]=1,++b);this.La[1]==a.La[this.zc[1]]&&this.La[this.zc[1]]==a.La[1]&&(this.Ub[1]=a,this.Vb[1]=1,a.Ub[1]=this,a.Vb[1]=1,++b);this.La[1]==a.La[this.zc[2]]&&this.La[this.zc[1]]==a.La[2]&&(this.Ub[1]=a,this.Vb[1]=2,a.Ub[2]=this,a.Vb[2]=1,++b);this.La[2]==a.La[this.zc[0]]&&this.La[this.zc[2]]==a.La[0]&&(this.Ub[2]=a,this.Vb[2]=0,a.Ub[0]=this,a.Vb[0]=2,++b);this.La[2]==a.La[this.zc[1]]&&
this.La[this.zc[2]]==a.La[1]&&(this.Ub[2]=a,this.Vb[2]=1,a.Ub[1]=this,a.Vb[1]=2,++b);this.La[2]==a.La[this.zc[2]]&&this.La[this.zc[2]]==a.La[2]&&(this.Ub[2]=a,this.Vb[2]=2,a.Ub[2]=this,a.Vb[2]=2,++b);return 1!=b?!1:!0};Lh.prototype.wh=function(){this.sa=this.U=null;this.Zh=0;this.Lg=!1;this.bh=0;this.La[0]=null;this.La[1]=null;this.La[2]=null;this.Ub[0]=null;this.Ub[1]=null;this.Ub[2]=null;this.Vb[0]=0;this.Vb[1]=0;this.Vb[2]=0};Aj.prototype.Ia=function(a,b,e){var d=this.kd;d.x=a.x;d.y=a.y;d.z=a.z;
a=this.ob;a.x=b.x;a.y=b.y;a.z=b.z;b=this.sb;b.x=e.x;b.y=e.y;b.z=e.z;this.dg=this.Pf=this.U=null;return this};Aj.prototype.wh=function(){this.dg=this.Pf=this.U=null};el.prototype.clear=function(){this.xi.$()};z.prototype.Ia=function(a,b,e){this.x=a;this.y=b;this.z=e;return this};z.prototype.$=function(){this.z=this.y=this.x=0;return this};z.prototype.add=function(a){return new z(this.x+a.x,this.y+a.y,this.z+a.z)};z.prototype.aa=function(a,b,e){return new z(this.x+a,this.y+b,this.z+e)};z.prototype.Ja=
function(a,b){return new z(this.x+a.x*b,this.y+a.y*b,this.z+a.z*b)};z.prototype.sub=function(a){return new z(this.x-a.x,this.y-a.y,this.z-a.z)};z.prototype.Ya=function(a,b,e){return new z(this.x-a,this.y-b,this.z-e)};z.prototype.V=function(a){return new z(this.x*a,this.y*a,this.z*a)};z.prototype.Wb=function(a,b,e){return new z(this.x*a,this.y*b,this.z*e)};z.prototype.i=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};z.prototype.Pa=function(a){return new z(this.y*a.z-this.z*a.y,this.z*a.x-this.x*
a.z,this.x*a.y-this.y*a.x)};z.prototype.h=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};z.prototype.qa=function(a,b,e){this.x+=a;this.y+=b;this.z+=e;return this};z.prototype.Ka=function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this};z.prototype.Y=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};z.prototype.tb=function(a,b,e){this.x-=a;this.y-=b;this.z-=e;return this};z.prototype.X=function(a){this.x*=a;this.y*=a;this.z*=a;return this};z.prototype.Wa=function(a,
b,e){this.x*=a;this.y*=b;this.z*=e;return this};z.prototype.Sa=function(a){var b=this.z*a.x-this.x*a.z,e=this.x*a.y-this.y*a.x;this.x=this.y*a.z-this.z*a.y;this.y=b;this.z=e;return this};z.prototype.Xa=function(a){return new z(this.x*a.e00+this.y*a.e01+this.z*a.e02,this.x*a.e10+this.y*a.e11+this.z*a.e12,this.x*a.e20+this.y*a.e21+this.z*a.e22)};z.prototype.mb=function(a){return new z(this.x*a.e00+this.y*a.e01+this.z*a.e02+a.e03,this.x*a.e10+this.y*a.e11+this.z*a.e12+a.e13,this.x*a.e20+this.y*a.e21+
this.z*a.e22+a.e23)};z.prototype.Jb=function(a){var b=this.x;var e=this.y;var d=this.z;var c=a.A*b+a.j*e+a.m*d;var f=a.o*b+a.v*e+a.s*d;d=a.u*b+a.l*e+a.B*d;b=c+a.F;e=f+a.G;d+=a.H;a=new z;a.x=b;a.y=e;a.z=d;return a};z.prototype.Za=function(a){var b=this.x*a.e10+this.y*a.e11+this.z*a.e12,e=this.x*a.e20+this.y*a.e21+this.z*a.e22;this.x=this.x*a.e00+this.y*a.e01+this.z*a.e02;this.y=b;this.z=e;return this};z.prototype.Eb=function(a){var b=this.x*a.e10+this.y*a.e11+this.z*a.e12+a.e13,e=this.x*a.e20+this.y*
a.e21+this.z*a.e22+a.e23;this.x=this.x*a.e00+this.y*a.e01+this.z*a.e02+a.e03;this.y=b;this.z=e;return this};z.prototype.Pb=function(a){var b=this.x;var e=this.y;var d=this.z;var c=a.A*b+a.j*e+a.m*d;var f=a.o*b+a.v*e+a.s*d;d=a.u*b+a.l*e+a.B*d;b=c+a.F;e=f+a.G;d+=a.H;this.x=b;this.y=e;this.z=d;return this};z.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};z.prototype.C=function(){return this.x*this.x+this.y*this.y+this.z*this.z};z.prototype.M=function(){var a=
Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0<a&&(a=1/a);return new z(this.x*a,this.y*a,this.z*a)};z.prototype.I=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0<a&&(a=1/a);this.x*=a;this.y*=a;this.z*=a;return this};z.prototype.Rb=function(){return new z(-this.x,-this.y,-this.z)};z.prototype.Sb=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};z.prototype.Dd=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};z.prototype.clone=function(){return new z(this.x,
this.y,this.z)};z.prototype.toString=function(){return"Vec3["+(0<this.x?(1E7*this.x+.5|0)/1E7:(1E7*this.x-.5|0)/1E7)+", "+(0<this.y?(1E7*this.y+.5|0)/1E7:(1E7*this.y-.5|0)/1E7)+", "+(0<this.z?(1E7*this.z+.5|0)/1E7:(1E7*this.z-.5|0)/1E7)+"]"};Ob.prototype.X=function(){this.H=this.G=this.F=0;this.A=1;this.o=this.m=this.j=0;this.v=1;this.l=this.u=this.s=0;this.B=1;return this};Ob.prototype.C=function(){var a=new z;a.x=this.F;a.y=this.G;a.z=this.H;return a};Ob.prototype.I=function(a){a.x=this.F;a.y=this.G;
a.z=this.H};Ob.prototype.Ja=function(a){this.F=a.x;this.G=a.y;this.H=a.z;return this};Ob.prototype.Sa=function(a){var b=a.x;var e=a.y;a=a.z;this.F+=b;this.G+=e;this.H+=a};Ob.prototype.M=function(){var a=new ha;a.e00=this.A;a.e01=this.j;a.e02=this.m;a.e10=this.o;a.e11=this.v;a.e12=this.s;a.e20=this.u;a.e21=this.l;a.e22=this.B;return a};Ob.prototype.V=function(a){a.e00=this.A;a.e01=this.j;a.e02=this.m;a.e10=this.o;a.e11=this.v;a.e12=this.s;a.e20=this.u;a.e21=this.l;a.e22=this.B};Ob.prototype.Ka=function(a){this.A=
a.e00;this.j=a.e01;this.m=a.e02;this.o=a.e10;this.v=a.e11;this.s=a.e12;this.u=a.e20;this.l=a.e21;this.B=a.e22;return this};Ob.prototype.Pa=function(a){var b=a.x;var e=a.y;var d=a.z;a=Math.sin(b);var c=Math.sin(e),f=Math.sin(d);b=Math.cos(b);e=Math.cos(e);d=Math.cos(d);this.A=e*d;this.j=-e*f;this.m=c;this.o=b*f+d*a*c;this.v=b*d-a*c*f;this.s=-e*a;this.u=a*f-b*d*c;this.l=d*a+b*c*f;this.B=b*e};Ob.prototype.Y=function(a){var b=a.e00;var e=a.e01;var d=a.e02;var c=a.e10;var f=a.e11;var h=a.e12;var k=a.e20;
var g=a.e21;var l=a.e22;a=b*this.A+e*this.o+d*this.u;var m=b*this.j+e*this.v+d*this.l;b=b*this.m+e*this.s+d*this.B;e=c*this.A+f*this.o+h*this.u;d=c*this.j+f*this.v+h*this.l;c=c*this.m+f*this.s+h*this.B;f=k*this.A+g*this.o+l*this.u;h=k*this.j+g*this.v+l*this.l;k=k*this.m+g*this.s+l*this.B;this.A=a;this.j=m;this.m=b;this.o=e;this.v=d;this.s=c;this.u=f;this.l=h;this.B=k};Ob.prototype.aa=function(a){var b=a.x;var e=a.y;a=a.z;var d=Math.sin(b);var c=Math.sin(e),f=Math.sin(a),h=Math.cos(b);var k=Math.cos(e);
var g=Math.cos(a);var l=k*g;var m=-k*f;a=h*f+g*d*c;b=h*g-d*c*f;var n=-k*d;e=d*f-h*g*c;d=g*d+h*c*f;k*=h;f=l*this.A+m*this.o+c*this.u;h=l*this.j+m*this.v+c*this.l;c=l*this.m+m*this.s+c*this.B;l=a*this.A+b*this.o+n*this.u;m=a*this.j+b*this.v+n*this.l;a=a*this.m+b*this.s+n*this.B;b=e*this.A+d*this.o+k*this.u;n=e*this.j+d*this.v+k*this.l;e=e*this.m+d*this.s+k*this.B;this.A=f;this.j=h;this.m=c;this.o=l;this.v=m;this.s=a;this.u=b;this.l=n;this.B=e};Ob.prototype.h=function(){var a=new Hb;var b=this.A;var e=
this.v;var d=this.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.l-this.s)*f;e=(this.m-this.u)*f;d=(this.o-this.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.j+this.o)*f,d=(this.m+this.u)*f,c=(this.l-this.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.j+this.o)*f,d=(this.s+this.l)*f,c=(this.m-this.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=
(this.s+this.l)*f,c=(this.o-this.j)*f);a.x=b;a.y=e;a.z=d;a.w=c;return a};Ob.prototype.i=function(a){var b=this.A;var e=this.v;var d=this.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.l-this.s)*f;e=(this.m-this.u)*f;d=(this.o-this.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.j+this.o)*f,d=(this.m+this.u)*f,c=(this.l-this.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,
b=(this.j+this.o)*f,d=(this.s+this.l)*f,c=(this.m-this.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f);a.x=b;a.y=e;a.z=d;a.w=c};Ob.prototype.qa=function(a){var b=a.x;var e=a.y;var d=a.z;var c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.A=1-g-d;this.j=l-c;this.m=b+h;this.o=l+c;this.v=1-a-d;this.s=e-f;this.u=b-h;this.l=e+f;this.B=1-a-g;return this};Ob.prototype.clone=function(){var a=new Ob;a.F=this.F;a.G=
this.G;a.H=this.H;a.A=this.A;a.j=this.j;a.m=this.m;a.o=this.o;a.v=this.v;a.s=this.s;a.u=this.u;a.l=this.l;a.B=this.B;return a};Ob.prototype.Dd=function(a){this.F=a.F;this.G=a.G;this.H=a.H;this.A=a.A;this.j=a.j;this.m=a.m;this.o=a.o;this.v=a.v;this.s=a.s;this.u=a.u;this.l=a.l;this.B=a.B;return this};zc.prototype.Ka=function(a,b,e,d,c,f){this.Ja=a;this.Pa=b;this.I=e;this.M=d;var h=this.i,k=this.ob,g=this.sb,l=this.aa,m=this.C;null!=c?(null==c.og&&(c.og=new el),this.Wa(c.og)):m.$();if(0==m.x*m.x+m.y*
m.y+m.z*m.z){var n=d.F-e.F;var q=d.G-e.G;var p=d.H-e.H;m.x=n;m.y=q;m.z=p;1E-6>m.x*m.x+m.y*m.y+m.z*m.z&&m.Ia(1,0,0)}this.h=0;this.V(!1);this.X(!1);var r=this.i[this.h],t=this.ob[this.h];r.x=t.x;r.y=t.y;r.z=t.z;var x=this.sb[this.h];r.x-=x.x;r.y-=x.y;r.z-=x.z;this.h=1;for(var v=0;40>v;){var B=0;switch(this.h){case 1:var H=h[0];l.x=H.x;l.y=H.y;l.z=H.z;B=1;break;case 2:var C=void 0,O=void 0,y=void 0,A=void 0,E=void 0,M=void 0,G=h[0];C=G.x;O=G.y;y=G.z;var R=h[1];A=R.x;E=R.y;M=R.z;var K=void 0,oa=void 0,
N=void 0;K=A-C;oa=E-O;N=M-y;var Ra=K*C+oa*O+N*y;Ra=-Ra/(K*K+oa*oa+N*N);if(0>Ra)l.x=C,l.y=O,l.z=y,B=1;else if(1<Ra)l.x=A,l.y=E,l.z=M,B=2;else{var Wa=void 0,Ja=void 0,Sa=void 0;Wa=C+K*Ra;Ja=O+oa*Ra;Sa=y+N*Ra;l.x=Wa;l.y=Ja;l.z=Sa;B=3}break;case 3:var Aa=h[0],La=h[1],Fa=h[2],L=void 0,Z=void 0,Y=void 0,va=void 0,Va=void 0,D=void 0,za=void 0,aa=void 0,Ta=void 0,ca=void 0,ia=void 0,T=void 0,ka=void 0,pa=void 0,Ca=void 0,V=void 0,fa=void 0,w=void 0;L=Aa.x;Z=Aa.y;Y=Aa.z;va=La.x;Va=La.y;D=La.z;za=Fa.x;aa=Fa.y;
Ta=Fa.z;ca=va-L;ia=Va-Z;T=D-Y;ka=za-va;pa=aa-Va;Ca=Ta-D;V=L-za;fa=Z-aa;w=Y-Ta;var ta=void 0,Ga=void 0,da=void 0;ta=ia*Ca-T*pa;Ga=T*ka-ca*Ca;da=ca*pa-ia*ka;var W=void 0,sa=void 0,la=void 0,Oa=void 0,ab=void 0,ja=void 0,ob=void 0,Ha=void 0,I=void 0;W=ia*da-T*Ga;sa=T*ta-ca*da;la=ca*Ga-ia*ta;Oa=pa*da-Ca*Ga;ab=Ca*ta-ka*da;ja=ka*Ga-pa*ta;ob=fa*da-w*Ga;Ha=w*ta-V*da;I=V*Ga-fa*ta;var Ka=-1,P=void 0,na=void 0,ba=void 0,ea=0;ba=na=P=0;if(0>L*W+Z*sa+Y*la){var X=void 0,ma=void 0,xb=void 0,Za=void 0,ib=void 0,
qb=void 0;X=Aa.x;ma=Aa.y;xb=Aa.z;Za=La.x;ib=La.y;qb=La.z;var lb=void 0,bb=void 0,$a=void 0;lb=Za-X;bb=ib-ma;$a=qb-xb;var qa=lb*X+bb*ma+$a*xb;qa=-qa/(lb*lb+bb*bb+$a*$a);var mb=void 0;if(0>qa)l.x=X,l.y=ma,l.z=xb,mb=1;else if(1<qa)l.x=Za,l.y=ib,l.z=qb,mb=2;else{var Db=void 0,Xa=void 0,tb=void 0;Db=X+lb*qa;Xa=ma+bb*qa;tb=xb+$a*qa;l.x=Db;l.y=Xa;l.z=tb;mb=3}ea=mb;Ka=l.x*l.x+l.y*l.y+l.z*l.z;P=l.x;na=l.y;ba=l.z}if(0>va*Oa+Va*ab+D*ja){var Ma=void 0,Eb=void 0,ub=void 0,fb=void 0,db=void 0,gb=void 0;Ma=La.x;
Eb=La.y;ub=La.z;fb=Fa.x;db=Fa.y;gb=Fa.z;var jb=void 0,Bb=void 0,kb=void 0;jb=fb-Ma;Bb=db-Eb;kb=gb-ub;var nb=jb*Ma+Bb*Eb+kb*ub;nb=-nb/(jb*jb+Bb*Bb+kb*kb);var Ya=void 0;if(0>nb)l.x=Ma,l.y=Eb,l.z=ub,Ya=1;else if(1<nb)l.x=fb,l.y=db,l.z=gb,Ya=2;else{var Nb=void 0,Lb=void 0,F=void 0;Nb=Ma+jb*nb;Lb=Eb+Bb*nb;F=ub+kb*nb;l.x=Nb;l.y=Lb;l.z=F;Ya=3}var pb=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Ka||pb<Ka)ea=Ya<<1,Ka=pb,P=l.x,na=l.y,ba=l.z}if(0>za*ob+aa*Ha+Ta*I){var cb=void 0,Fb=void 0,wb=void 0,eb=void 0,Ib=void 0,Q=void 0;
cb=Aa.x;Fb=Aa.y;wb=Aa.z;eb=Fa.x;Ib=Fa.y;Q=Fa.z;var U=void 0,u=void 0,Ab=void 0;U=eb-cb;u=Ib-Fb;Ab=Q-wb;var rb=U*cb+u*Fb+Ab*wb;rb=-rb/(U*U+u*u+Ab*Ab);var ra=void 0;if(0>rb)l.x=cb,l.y=Fb,l.z=wb,ra=1;else if(1<rb)l.x=eb,l.y=Ib,l.z=Q,ra=2;else{var Ua=void 0,xa=void 0,Pa=void 0;Ua=cb+U*rb;xa=Fb+u*rb;Pa=wb+Ab*rb;l.x=Ua;l.y=xa;l.z=Pa;ra=3}var hb=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Ka||hb<Ka)ea=ra&1|(ra&2)<<1,Ka=hb,P=l.x,na=l.y,ba=l.z}if(0<Ka)l.x=P,l.y=na,l.z=ba,B=ea;else{var yb=ta*ta+Ga*Ga+da*da;0<yb&&(yb=1/Math.sqrt(yb));
ta*=yb;Ga*=yb;da*=yb;var Jb=ta*ta+Ga*Ga+da*da;Jb=(L*ta+Z*Ga+Y*da)/Jb;P=ta*Jb;na=Ga*Jb;ba=da*Jb;l.x=P;l.y=na;l.z=ba;B=7}break;case 4:var ua=h[0],Qa=h[1],wa=h[2],Da=h[3],S=void 0,Na=void 0,Ia=void 0,Cb=void 0,vb=void 0,Kb=void 0,Gb=void 0,Vb=void 0,Rb=void 0,Wb=void 0,nc=void 0,ac=void 0,gc=void 0,cc=void 0,Tb=void 0,Ub=void 0,Qb=void 0,hc=void 0,bc=void 0,jc=void 0,Xb=void 0,ic=void 0,vc=void 0,Yb=void 0,Sc=void 0,Mb=void 0,mc=void 0;S=ua.x;Na=ua.y;Ia=ua.z;Cb=Qa.x;vb=Qa.y;Kb=Qa.z;Gb=wa.x;Vb=wa.y;Rb=
wa.z;Wb=Da.x;nc=Da.y;ac=Da.z;gc=Cb-S;cc=vb-Na;Tb=Kb-Ia;Ub=Gb-S;Qb=Vb-Na;hc=Rb-Ia;bc=Wb-S;jc=nc-Na;Xb=ac-Ia;ic=Gb-Cb;vc=Vb-vb;Yb=Rb-Kb;Sc=Wb-Cb;Mb=nc-vb;mc=ac-Kb;var fc=void 0,Zb=void 0,lc=void 0,ed=void 0,Cc=void 0,wc=void 0,sc=void 0,Kc=void 0,tc=void 0,Lc=void 0,Id=void 0,fd=void 0;fc=cc*hc-Tb*Qb;Zb=Tb*Ub-gc*hc;lc=gc*Qb-cc*Ub;ed=Qb*Xb-hc*jc;Cc=hc*bc-Ub*Xb;wc=Ub*jc-Qb*bc;sc=jc*Tb-Xb*cc;Kc=Xb*gc-bc*Tb;tc=bc*cc-jc*gc;Lc=Mb*Yb-mc*vc;Id=mc*ic-Sc*Yb;fd=Sc*vc-Mb*ic;var Xc=0<gc*Lc+cc*Id+Tb*fd?1:-1,Dc=-1,
oc=void 0,gd=void 0,kc=void 0,hd=0;kc=gd=oc=0;if(0>(S*fc+Na*Zb+Ia*lc)*Xc){var Tc=void 0,zd=void 0,Ad=void 0,id=void 0,we=void 0,Jd=void 0,he=void 0,Td=void 0,Yc=void 0,$d=void 0,He=void 0,We=void 0,oe=void 0,rd=void 0,Fd=void 0,ae=void 0,xe=void 0,ie=void 0;Tc=ua.x;zd=ua.y;Ad=ua.z;id=Qa.x;we=Qa.y;Jd=Qa.z;he=wa.x;Td=wa.y;Yc=wa.z;$d=id-Tc;He=we-zd;We=Jd-Ad;oe=he-id;rd=Td-we;Fd=Yc-Jd;ae=Tc-he;xe=zd-Td;ie=Ad-Yc;var Ec=void 0,sd=void 0,td=void 0;Ec=He*Fd-We*rd;sd=We*oe-$d*Fd;td=$d*rd-He*oe;var Bd=void 0,
Zc=void 0,Mc=void 0,ch=void 0,nf=void 0,Ff=void 0,Ie=void 0,xg=void 0,$c=void 0;Bd=He*td-We*sd;Zc=We*Ec-$d*td;Mc=$d*sd-He*Ec;ch=rd*td-Fd*sd;nf=Fd*Ec-oe*td;Ff=oe*sd-rd*Ec;Ie=xe*td-ie*sd;xg=ie*Ec-ae*td;$c=ae*sd-xe*Ec;var xc=-1,Hc=void 0,of=void 0,be=void 0,Ud=0;be=of=Hc=0;if(0>Tc*Bd+zd*Zc+Ad*Mc){var Pd=void 0,Qd=void 0,je=void 0,Fc=void 0,Uc=void 0,Vc=void 0;Pd=ua.x;Qd=ua.y;je=ua.z;Fc=Qa.x;Uc=Qa.y;Vc=Qa.z;var dg=void 0,Gf=void 0,pf=void 0;dg=Fc-Pd;Gf=Uc-Qd;pf=Vc-je;var Vd=dg*Pd+Gf*Qd+pf*je;Vd=-Vd/(dg*
dg+Gf*Gf+pf*pf);var ye=void 0;if(0>Vd)l.x=Pd,l.y=Qd,l.z=je,ye=1;else if(1<Vd)l.x=Fc,l.y=Uc,l.z=Vc,ye=2;else{var qf=void 0,Je=void 0,Hf=void 0;qf=Pd+dg*Vd;Je=Qd+Gf*Vd;Hf=je+pf*Vd;l.x=qf;l.y=Je;l.z=Hf;ye=3}Ud=ye;xc=l.x*l.x+l.y*l.y+l.z*l.z;Hc=l.x;of=l.y;be=l.z}if(0>id*ch+we*nf+Jd*Ff){var rf=void 0,sf=void 0,tf=void 0,If=void 0,Jf=void 0,Kf=void 0;rf=Qa.x;sf=Qa.y;tf=Qa.z;If=wa.x;Jf=wa.y;Kf=wa.z;var Lf=void 0,uf=void 0,vf=void 0;Lf=If-rf;uf=Jf-sf;vf=Kf-tf;var Wc=Lf*rf+uf*sf+vf*tf;Wc=-Wc/(Lf*Lf+uf*uf+vf*
vf);var nd=void 0;if(0>Wc)l.x=rf,l.y=sf,l.z=tf,nd=1;else if(1<Wc)l.x=If,l.y=Jf,l.z=Kf,nd=2;else{var vd=void 0,ze=void 0,Xe=void 0;vd=rf+Lf*Wc;ze=sf+uf*Wc;Xe=tf+vf*Wc;l.x=vd;l.y=ze;l.z=Xe;nd=3}var Mf=l.x*l.x+l.y*l.y+l.z*l.z;if(0>xc||Mf<xc)Ud=nd<<1,xc=Mf,Hc=l.x,of=l.y,be=l.z}if(0>he*Ie+Td*xg+Yc*$c){var Ke=void 0,Nc=void 0,Oc=void 0,Ic=void 0,pe=void 0,qe=void 0;Ke=ua.x;Nc=ua.y;Oc=ua.z;Ic=wa.x;pe=wa.y;qe=wa.z;var re=void 0,se=void 0,te=void 0;re=Ic-Ke;se=pe-Nc;te=qe-Oc;var Rd=re*Ke+se*Nc+te*Oc;Rd=-Rd/
(re*re+se*se+te*te);var Ae=void 0;if(0>Rd)l.x=Ke,l.y=Nc,l.z=Oc,Ae=1;else if(1<Rd)l.x=Ic,l.y=pe,l.z=qe,Ae=2;else{var wf=void 0,eg=void 0,ud=void 0;wf=Ke+re*Rd;eg=Nc+se*Rd;ud=Oc+te*Rd;l.x=wf;l.y=eg;l.z=ud;Ae=3}var ke=l.x*l.x+l.y*l.y+l.z*l.z;if(0>xc||ke<xc)Ud=Ae&1|(Ae&2)<<1,xc=ke,Hc=l.x,of=l.y,be=l.z}var wd=void 0;if(0<xc)l.x=Hc,l.y=of,l.z=be,wd=Ud;else{var od=Ec*Ec+sd*sd+td*td;0<od&&(od=1/Math.sqrt(od));Ec*=od;sd*=od;td*=od;var jd=Ec*Ec+sd*sd+td*td;jd=(Tc*Ec+zd*sd+Ad*td)/jd;Hc=Ec*jd;of=sd*jd;be=td*
jd;l.x=Hc;l.y=of;l.z=be;wd=7}hd=wd;Dc=l.x*l.x+l.y*l.y+l.z*l.z;oc=l.x;gd=l.y;kc=l.z}if(0>(S*ed+Na*Cc+Ia*wc)*Xc){var pd=void 0,Jc=void 0,Pc=void 0,kd=void 0,Ac=void 0,Bc=void 0,yc=void 0,ad=void 0,bd=void 0,Gc=void 0,Be=void 0,Nf=void 0,Ce=void 0,xf=void 0,ce=void 0,Ye=void 0,ue=void 0,Of=void 0;pd=ua.x;Jc=ua.y;Pc=ua.z;kd=wa.x;Ac=wa.y;Bc=wa.z;yc=Da.x;ad=Da.y;bd=Da.z;Gc=kd-pd;Be=Ac-Jc;Nf=Bc-Pc;Ce=yc-kd;xf=ad-Ac;ce=bd-Bc;Ye=pd-yc;ue=Jc-ad;Of=Pc-bd;var Cd=void 0,Sd=void 0,Gd=void 0;Cd=Be*ce-Nf*xf;Sd=Nf*
Ce-Gc*ce;Gd=Gc*xf-Be*Ce;var Kd=void 0,Ld=void 0,Dd=void 0,yg=void 0,oh=void 0,fg=void 0,gg=void 0,Pf=void 0,zg=void 0;Kd=Be*Gd-Nf*Sd;Ld=Nf*Cd-Gc*Gd;Dd=Gc*Sd-Be*Cd;yg=xf*Gd-ce*Sd;oh=ce*Cd-Ce*Gd;fg=Ce*Sd-xf*Cd;gg=ue*Gd-Of*Sd;Pf=Of*Cd-Ye*Gd;zg=Ye*Sd-ue*Cd;var De=-1,Le=void 0,ve=void 0,Wd=void 0,Ee=0;Wd=ve=Le=0;if(0>pd*Kd+Jc*Ld+Pc*Dd){var de=void 0,Me=void 0,Qf=void 0,Ze=void 0,hg=void 0,ph=void 0;de=ua.x;Me=ua.y;Qf=ua.z;Ze=wa.x;hg=wa.y;ph=wa.z;var qh=void 0,rh=void 0,dh=void 0;qh=Ze-de;rh=hg-Me;dh=ph-
Qf;var $e=qh*de+rh*Me+dh*Qf;$e=-$e/(qh*qh+rh*rh+dh*dh);var af=void 0;if(0>$e)l.x=de,l.y=Me,l.z=Qf,af=1;else if(1<$e)l.x=Ze,l.y=hg,l.z=ph,af=2;else{var ig=void 0,Ag=void 0,eh=void 0;ig=de+qh*$e;Ag=Me+rh*$e;eh=Qf+dh*$e;l.x=ig;l.y=Ag;l.z=eh;af=3}Ee=af;De=l.x*l.x+l.y*l.y+l.z*l.z;Le=l.x;ve=l.y;Wd=l.z}if(0>kd*yg+Ac*oh+Bc*fg){var Bg=void 0,Cg=void 0,fh=void 0,Dg=void 0,Eg=void 0,Fg=void 0;Bg=wa.x;Cg=wa.y;fh=wa.z;Dg=Da.x;Eg=Da.y;Fg=Da.z;var Gg=void 0,Hg=void 0,jg=void 0;Gg=Dg-Bg;Hg=Eg-Cg;jg=Fg-fh;var Ne=
Gg*Bg+Hg*Cg+jg*fh;Ne=-Ne/(Gg*Gg+Hg*Hg+jg*jg);var Rf=void 0;if(0>Ne)l.x=Bg,l.y=Cg,l.z=fh,Rf=1;else if(1<Ne)l.x=Dg,l.y=Eg,l.z=Fg,Rf=2;else{var Ig=void 0,Sf=void 0,gh=void 0;Ig=Bg+Gg*Ne;Sf=Cg+Hg*Ne;gh=fh+jg*Ne;l.x=Ig;l.y=Sf;l.z=gh;Rf=3}var cj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>De||cj<De)Ee=Rf<<1,De=cj,Le=l.x,ve=l.y,Wd=l.z}if(0>yc*gg+ad*Pf+bd*zg){var sh=void 0,th=void 0,ee=void 0,Xd=void 0,Yd=void 0,uh=void 0;sh=ua.x;th=ua.y;ee=ua.z;Xd=Da.x;Yd=Da.y;uh=Da.z;var vh=void 0,wh=void 0,xh=void 0;vh=Xd-sh;wh=Yd-th;
xh=uh-ee;var Tf=vh*sh+wh*th+xh*ee;Tf=-Tf/(vh*vh+wh*wh+xh*xh);var Jg=void 0;if(0>Tf)l.x=sh,l.y=th,l.z=ee,Jg=1;else if(1<Tf)l.x=Xd,l.y=Yd,l.z=uh,Jg=2;else{var Oh=void 0,hh=void 0,Ph=void 0;Oh=sh+vh*Tf;hh=th+wh*Tf;Ph=ee+xh*Tf;l.x=Oh;l.y=hh;l.z=Ph;Jg=3}var kg=l.x*l.x+l.y*l.y+l.z*l.z;if(0>De||kg<De)Ee=Jg&1|(Jg&2)<<1,De=kg,Le=l.x,ve=l.y,Wd=l.z}var Uf=void 0;if(0<De)l.x=Le,l.y=ve,l.z=Wd,Uf=Ee;else{var bf=Cd*Cd+Sd*Sd+Gd*Gd;0<bf&&(bf=1/Math.sqrt(bf));Cd*=bf;Sd*=bf;Gd*=bf;var Kg=Cd*Cd+Sd*Sd+Gd*Gd;Kg=(pd*Cd+
Jc*Sd+Pc*Gd)/Kg;Le=Cd*Kg;ve=Sd*Kg;Wd=Gd*Kg;l.x=Le;l.y=ve;l.z=Wd;Uf=7}var lg=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||lg<Dc)hd=Uf&1|(Uf&6)<<1,Dc=lg,oc=l.x,gd=l.y,kc=l.z}if(0>(S*sc+Na*Kc+Ia*tc)*Xc){var cf=void 0,yf=void 0,Lg=void 0,Mg=void 0,Ng=void 0,Og=void 0,mg=void 0,ng=void 0,og=void 0,Oe=void 0,pg=void 0,ih=void 0,Pg=void 0,Qg=void 0,zf=void 0,qg=void 0,rg=void 0,jh=void 0;cf=ua.x;yf=ua.y;Lg=ua.z;Mg=Qa.x;Ng=Qa.y;Og=Qa.z;mg=Da.x;ng=Da.y;og=Da.z;Oe=Mg-cf;pg=Ng-yf;ih=Og-Lg;Pg=mg-Mg;Qg=ng-Ng;zf=og-Og;qg=
cf-mg;rg=yf-ng;jh=Lg-og;var le=void 0,me=void 0,Zd=void 0;le=pg*zf-ih*Qg;me=ih*Pg-Oe*zf;Zd=Oe*Qg-pg*Pg;var fe=void 0,ge=void 0,Md=void 0,ji=void 0,Dj=void 0,Ej=void 0,Fj=void 0,dj=void 0,Qh=void 0;fe=pg*Zd-ih*me;ge=ih*le-Oe*Zd;Md=Oe*me-pg*le;ji=Qg*Zd-zf*me;Dj=zf*le-Pg*Zd;Ej=Pg*me-Qg*le;Fj=rg*Zd-jh*me;dj=jh*le-qg*Zd;Qh=qg*me-rg*le;var Af=-1,Vf=void 0,Rg=void 0,Fe=void 0,Wf=0;Fe=Rg=Vf=0;if(0>cf*fe+yf*ge+Lg*Md){var Pe=void 0,Qe=void 0,Xf=void 0,df=void 0,sg=void 0,yh=void 0;Pe=ua.x;Qe=ua.y;Xf=ua.z;df=
Qa.x;sg=Qa.y;yh=Qa.z;var zh=void 0,Ah=void 0,kh=void 0;zh=df-Pe;Ah=sg-Qe;kh=yh-Xf;var Bf=zh*Pe+Ah*Qe+kh*Xf;Bf=-Bf/(zh*zh+Ah*Ah+kh*kh);var ef=void 0;if(0>Bf)l.x=Pe,l.y=Qe,l.z=Xf,ef=1;else if(1<Bf)l.x=df,l.y=sg,l.z=yh,ef=2;else{var tg=void 0,Sg=void 0,Gj=void 0;tg=Pe+zh*Bf;Sg=Qe+Ah*Bf;Gj=Xf+kh*Bf;l.x=tg;l.y=Sg;l.z=Gj;ef=3}Wf=ef;Af=l.x*l.x+l.y*l.y+l.z*l.z;Vf=l.x;Rg=l.y;Fe=l.z}if(0>Mg*ji+Ng*Dj+Og*Ej){var ej=void 0,fj=void 0,gj=void 0,ki=void 0,li=void 0,mi=void 0;ej=Qa.x;fj=Qa.y;gj=Qa.z;ki=Da.x;li=Da.y;
mi=Da.z;var ni=void 0,oi=void 0,pi=void 0;ni=ki-ej;oi=li-fj;pi=mi-gj;var Tg=ni*ej+oi*fj+pi*gj;Tg=-Tg/(ni*ni+oi*oi+pi*pi);var Rh=void 0;if(0>Tg)l.x=ej,l.y=fj,l.z=gj,Rh=1;else if(1<Tg)l.x=ki,l.y=li,l.z=mi,Rh=2;else{var hj=void 0,Sh=void 0,Hj=void 0;hj=ej+ni*Tg;Sh=fj+oi*Tg;Hj=gj+pi*Tg;l.x=hj;l.y=Sh;l.z=Hj;Rh=3}var fk=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Af||fk<Af)Wf=Rh<<1,Af=fk,Vf=l.x,Rg=l.y,Fe=l.z}if(0>mg*Fj+ng*dj+og*Qh){var ij=void 0,jj=void 0,kj=void 0,qi=void 0,ri=void 0,si=void 0;ij=ua.x;jj=ua.y;kj=ua.z;
qi=Da.x;ri=Da.y;si=Da.z;var ti=void 0,ui=void 0,vi=void 0;ti=qi-ij;ui=ri-jj;vi=si-kj;var Ug=ti*ij+ui*jj+vi*kj;Ug=-Ug/(ti*ti+ui*ui+vi*vi);var Bh=void 0;if(0>Ug)l.x=ij,l.y=jj,l.z=kj,Bh=1;else if(1<Ug)l.x=qi,l.y=ri,l.z=si,Bh=2;else{var lj=void 0,Th=void 0,mj=void 0;lj=ij+ti*Ug;Th=jj+ui*Ug;mj=kj+vi*Ug;l.x=lj;l.y=Th;l.z=mj;Bh=3}var gk=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Af||gk<Af)Wf=Bh&1|(Bh&2)<<1,Af=gk,Vf=l.x,Rg=l.y,Fe=l.z}var Ij=void 0;if(0<Af)l.x=Vf,l.y=Rg,l.z=Fe,Ij=Wf;else{var wi=le*le+me*me+Zd*Zd;0<wi&&
(wi=1/Math.sqrt(wi));le*=wi;me*=wi;Zd*=wi;var nj=le*le+me*me+Zd*Zd;nj=(cf*le+yf*me+Lg*Zd)/nj;Vf=le*nj;Rg=me*nj;Fe=Zd*nj;l.x=Vf;l.y=Rg;l.z=Fe;Ij=7}var Jj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||Jj<Dc)hd=Ij&3|(Ij&4)<<1,Dc=Jj,oc=l.x,gd=l.y,kc=l.z}if(0>(Cb*Lc+vb*Id+Kb*fd)*Xc){var lh=void 0,Ch=void 0,oj=void 0,Uh=void 0,Vh=void 0,Wh=void 0,xi=void 0,yi=void 0,zi=void 0,Xh=void 0,Yh=void 0,Zh=void 0,Dh=void 0,Eh=void 0,Fh=void 0,Ai=void 0,Bi=void 0,Ci=void 0;lh=Qa.x;Ch=Qa.y;oj=Qa.z;Uh=wa.x;Vh=wa.y;Wh=wa.z;xi=
Da.x;yi=Da.y;zi=Da.z;Xh=Uh-lh;Yh=Vh-Ch;Zh=Wh-oj;Dh=xi-Uh;Eh=yi-Vh;Fh=zi-Wh;Ai=lh-xi;Bi=Ch-yi;Ci=oj-zi;var Re=void 0,Se=void 0,Te=void 0;Re=Yh*Fh-Zh*Eh;Se=Zh*Dh-Xh*Fh;Te=Xh*Eh-Yh*Dh;var ff=void 0,gf=void 0,hf=void 0,hk=void 0,ik=void 0,jk=void 0,kk=void 0,lk=void 0,mk=void 0;ff=Yh*Te-Zh*Se;gf=Zh*Re-Xh*Te;hf=Xh*Se-Yh*Re;hk=Eh*Te-Fh*Se;ik=Fh*Re-Dh*Te;jk=Dh*Se-Eh*Re;kk=Bi*Te-Ci*Se;lk=Ci*Re-Ai*Te;mk=Ai*Se-Bi*Re;var Gh=-1,$h=void 0,ai=void 0,Cf=void 0,mh=0;Cf=ai=$h=0;if(0>lh*ff+Ch*gf+oj*hf){var Vg=void 0,
Wg=void 0,bi=void 0,Di=void 0,Ei=void 0,Fi=void 0;Vg=Qa.x;Wg=Qa.y;bi=Qa.z;Di=wa.x;Ei=wa.y;Fi=wa.z;var Gi=void 0,Hi=void 0,Ii=void 0;Gi=Di-Vg;Hi=Ei-Wg;Ii=Fi-bi;var Xg=Gi*Vg+Hi*Wg+Ii*bi;Xg=-Xg/(Gi*Gi+Hi*Hi+Ii*Ii);var ci=void 0;if(0>Xg)l.x=Vg,l.y=Wg,l.z=bi,ci=1;else if(1<Xg)l.x=Di,l.y=Ei,l.z=Fi,ci=2;else{var pj=void 0,di=void 0,Kj=void 0;pj=Vg+Gi*Xg;di=Wg+Hi*Xg;Kj=bi+Ii*Xg;l.x=pj;l.y=di;l.z=Kj;ci=3}mh=ci;Gh=l.x*l.x+l.y*l.y+l.z*l.z;$h=l.x;ai=l.y;Cf=l.z}if(0>Uh*hk+Vh*ik+Wh*jk){var qj=void 0,rj=void 0,
sj=void 0,Ji=void 0,Ki=void 0,Li=void 0;qj=wa.x;rj=wa.y;sj=wa.z;Ji=Da.x;Ki=Da.y;Li=Da.z;var Mi=void 0,Ni=void 0,Oi=void 0;Mi=Ji-qj;Ni=Ki-rj;Oi=Li-sj;var Yg=Mi*qj+Ni*rj+Oi*sj;Yg=-Yg/(Mi*Mi+Ni*Ni+Oi*Oi);var ei=void 0;if(0>Yg)l.x=qj,l.y=rj,l.z=sj,ei=1;else if(1<Yg)l.x=Ji,l.y=Ki,l.z=Li,ei=2;else{var tj=void 0,fi=void 0,Lj=void 0;tj=qj+Mi*Yg;fi=rj+Ni*Yg;Lj=sj+Oi*Yg;l.x=tj;l.y=fi;l.z=Lj;ei=3}var nk=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Gh||nk<Gh)mh=ei<<1,Gh=nk,$h=l.x,ai=l.y,Cf=l.z}if(0>xi*kk+yi*lk+zi*mk){var uj=
void 0,vj=void 0,wj=void 0,Pi=void 0,Qi=void 0,Ri=void 0;uj=Qa.x;vj=Qa.y;wj=Qa.z;Pi=Da.x;Qi=Da.y;Ri=Da.z;var Si=void 0,Ti=void 0,Ui=void 0;Si=Pi-uj;Ti=Qi-vj;Ui=Ri-wj;var Zg=Si*uj+Ti*vj+Ui*wj;Zg=-Zg/(Si*Si+Ti*Ti+Ui*Ui);var Hh=void 0;if(0>Zg)l.x=uj,l.y=vj,l.z=wj,Hh=1;else if(1<Zg)l.x=Pi,l.y=Qi,l.z=Ri,Hh=2;else{var xj=void 0,gi=void 0,yj=void 0;xj=uj+Si*Zg;gi=vj+Ti*Zg;yj=wj+Ui*Zg;l.x=xj;l.y=gi;l.z=yj;Hh=3}var ok=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Gh||ok<Gh)mh=Hh&1|(Hh&2)<<1,Gh=ok,$h=l.x,ai=l.y,Cf=l.z}var Nj=
void 0;if(0<Gh)l.x=$h,l.y=ai,l.z=Cf,Nj=mh;else{var Vi=Re*Re+Se*Se+Te*Te;0<Vi&&(Vi=1/Math.sqrt(Vi));Re*=Vi;Se*=Vi;Te*=Vi;var zj=Re*Re+Se*Se+Te*Te;zj=(lh*Re+Ch*Se+oj*Te)/zj;$h=Re*zj;ai=Se*zj;Cf=Te*zj;l.x=$h;l.y=ai;l.z=Cf;Nj=7}var Oj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||Oj<Dc)hd=Nj<<1,Dc=Oj,oc=l.x,gd=l.y,kc=l.z}0<Dc?(l.x=oc,l.y=gd,l.z=kc,B=hd):(l.$(),B=15)}if(1E-8>l.x*l.x+l.y*l.y+l.z*l.z){if(!f)return this.distance=0;switch(this.h){case 1:this.Ya();break;case 2:this.Sa();break;case 3:this.Xa()}if(4==this.h){var Wi=
this.Sb(h,k,g);if(0!=Wi)return this.distance=0,Wi;this.distance=-this.depth;return 0}this.distance=0;return 1}this.Pb(B);m.x=l.x;m.y=l.y;m.z=l.z;m.x=-m.x;m.y=-m.y;m.z=-m.z;this.V(!1);this.X(!1);var Yf=this.i[this.h],Pj=this.ob[this.h];Yf.x=Pj.x;Yf.y=Pj.y;Yf.z=Pj.z;var Ge=this.sb[this.h];Yf.x-=Ge.x;Yf.y-=Ge.y;Yf.z-=Ge.z;if(1E-8>m.x*m.x+m.y*m.y+m.z*m.z)throw Error("!?");var hi=h[this.h];if(1E-8>hi.x*m.x+hi.y*m.y+hi.z*m.z-(l.x*m.x+l.y*m.y+l.z*m.z))return this.Eb(),this.distance=Math.sqrt(l.x*l.x+l.y*
l.y+l.z*l.z),null!=c&&null!=c.og&&this.Hb(c.og),0;this.h++;++v}return 2};zc.prototype.mb=function(a,b,e,d,c,f,h){this.Ja=a;this.Pa=b;this.I=e;this.M=d;var k=this.i,g=this.aa,l=this.C;var m=d.F-e.F;var n=d.G-e.G;var q=d.H-e.H;l.x=m;l.y=n;l.z=q;1E-6>l.x*l.x+l.y*l.y+l.z*l.z&&l.Ia(1,0,0);this.h=0;if(null!=this.Ja)this.V(!0);else{var p=this.ob[this.h];p.x=this.I.F;p.y=this.I.G;p.z=this.I.H}this.X(!0);var r=this.i[this.h],t=this.ob[this.h];r.x=t.x;r.y=t.y;r.z=t.z;var x=this.sb[this.h];r.x-=x.x;r.y-=x.y;
r.z-=x.z;this.h=1;var v=0,B=0,H=this.Gb,C=this.tb;H.$();C.x=f.x;C.y=f.y;C.z=f.z;C.x-=c.x;C.y-=c.y;for(C.z-=c.z;40>v;){var O=0;switch(this.h){case 1:var y=k[0];g.x=y.x;g.y=y.y;g.z=y.z;O=1;break;case 2:var A=void 0,E=void 0,M=void 0,G=void 0,R=void 0,K=void 0,oa=k[0];A=oa.x;E=oa.y;M=oa.z;var N=k[1];G=N.x;R=N.y;K=N.z;var Ra=void 0,Wa=void 0,Ja=void 0;Ra=G-A;Wa=R-E;Ja=K-M;var Sa=Ra*A+Wa*E+Ja*M;Sa=-Sa/(Ra*Ra+Wa*Wa+Ja*Ja);if(0>Sa)g.x=A,g.y=E,g.z=M,O=1;else if(1<Sa)g.x=G,g.y=R,g.z=K,O=2;else{var Aa=void 0,
La=void 0,Fa=void 0;Aa=A+Ra*Sa;La=E+Wa*Sa;Fa=M+Ja*Sa;g.x=Aa;g.y=La;g.z=Fa;O=3}break;case 3:var L=k[0],Z=k[1],Y=k[2],va=void 0,Va=void 0,D=void 0,za=void 0,aa=void 0,Ta=void 0,ca=void 0,ia=void 0,T=void 0,ka=void 0,pa=void 0,Ca=void 0,V=void 0,fa=void 0,w=void 0,ta=void 0,Ga=void 0,da=void 0;va=L.x;Va=L.y;D=L.z;za=Z.x;aa=Z.y;Ta=Z.z;ca=Y.x;ia=Y.y;T=Y.z;ka=za-va;pa=aa-Va;Ca=Ta-D;V=ca-za;fa=ia-aa;w=T-Ta;ta=va-ca;Ga=Va-ia;da=D-T;var W=void 0,sa=void 0,la=void 0;W=pa*w-Ca*fa;sa=Ca*V-ka*w;la=ka*fa-pa*V;
var Oa=void 0,ab=void 0,ja=void 0,ob=void 0,Ha=void 0,I=void 0,Ka=void 0,P=void 0,na=void 0;Oa=pa*la-Ca*sa;ab=Ca*W-ka*la;ja=ka*sa-pa*W;ob=fa*la-w*sa;Ha=w*W-V*la;I=V*sa-fa*W;Ka=Ga*la-da*sa;P=da*W-ta*la;na=ta*sa-Ga*W;var ba=-1,ea=void 0,X=void 0,ma=void 0,xb=0;ma=X=ea=0;if(0>va*Oa+Va*ab+D*ja){var Za=void 0,ib=void 0,qb=void 0,lb=void 0,bb=void 0,$a=void 0;Za=L.x;ib=L.y;qb=L.z;lb=Z.x;bb=Z.y;$a=Z.z;var qa=void 0,mb=void 0,Db=void 0;qa=lb-Za;mb=bb-ib;Db=$a-qb;var Xa=qa*Za+mb*ib+Db*qb;Xa=-Xa/(qa*qa+mb*
mb+Db*Db);var tb=void 0;if(0>Xa)g.x=Za,g.y=ib,g.z=qb,tb=1;else if(1<Xa)g.x=lb,g.y=bb,g.z=$a,tb=2;else{var Ma=void 0,Eb=void 0,ub=void 0;Ma=Za+qa*Xa;Eb=ib+mb*Xa;ub=qb+Db*Xa;g.x=Ma;g.y=Eb;g.z=ub;tb=3}xb=tb;ba=g.x*g.x+g.y*g.y+g.z*g.z;ea=g.x;X=g.y;ma=g.z}if(0>za*ob+aa*Ha+Ta*I){var fb=void 0,db=void 0,gb=void 0,jb=void 0,Bb=void 0,kb=void 0;fb=Z.x;db=Z.y;gb=Z.z;jb=Y.x;Bb=Y.y;kb=Y.z;var nb=void 0,Ya=void 0,Nb=void 0;nb=jb-fb;Ya=Bb-db;Nb=kb-gb;var Lb=nb*fb+Ya*db+Nb*gb;Lb=-Lb/(nb*nb+Ya*Ya+Nb*Nb);var F=void 0;
if(0>Lb)g.x=fb,g.y=db,g.z=gb,F=1;else if(1<Lb)g.x=jb,g.y=Bb,g.z=kb,F=2;else{var pb=void 0,cb=void 0,Fb=void 0;pb=fb+nb*Lb;cb=db+Ya*Lb;Fb=gb+Nb*Lb;g.x=pb;g.y=cb;g.z=Fb;F=3}var wb=g.x*g.x+g.y*g.y+g.z*g.z;if(0>ba||wb<ba)xb=F<<1,ba=wb,ea=g.x,X=g.y,ma=g.z}if(0>ca*Ka+ia*P+T*na){var eb=void 0,Ib=void 0,Q=void 0,U=void 0,u=void 0,Ab=void 0;eb=L.x;Ib=L.y;Q=L.z;U=Y.x;u=Y.y;Ab=Y.z;var rb=void 0,ra=void 0,Ua=void 0;rb=U-eb;ra=u-Ib;Ua=Ab-Q;var xa=rb*eb+ra*Ib+Ua*Q;xa=-xa/(rb*rb+ra*ra+Ua*Ua);var Pa=void 0;if(0>
xa)g.x=eb,g.y=Ib,g.z=Q,Pa=1;else if(1<xa)g.x=U,g.y=u,g.z=Ab,Pa=2;else{var hb=void 0,yb=void 0,Jb=void 0;hb=eb+rb*xa;yb=Ib+ra*xa;Jb=Q+Ua*xa;g.x=hb;g.y=yb;g.z=Jb;Pa=3}var ua=g.x*g.x+g.y*g.y+g.z*g.z;if(0>ba||ua<ba)xb=Pa&1|(Pa&2)<<1,ba=ua,ea=g.x,X=g.y,ma=g.z}if(0<ba)g.x=ea,g.y=X,g.z=ma,O=xb;else{var Qa=W*W+sa*sa+la*la;0<Qa&&(Qa=1/Math.sqrt(Qa));W*=Qa;sa*=Qa;la*=Qa;var wa=W*W+sa*sa+la*la;wa=(va*W+Va*sa+D*la)/wa;ea=W*wa;X=sa*wa;ma=la*wa;g.x=ea;g.y=X;g.z=ma;O=7}break;case 4:var Da=k[0],S=k[1],Na=k[2],Ia=
k[3],Cb=void 0,vb=void 0,Kb=void 0,Gb=void 0,Vb=void 0,Rb=void 0,Wb=void 0,nc=void 0,ac=void 0,gc=void 0,cc=void 0,Tb=void 0,Ub=void 0,Qb=void 0,hc=void 0,bc=void 0,jc=void 0,Xb=void 0,ic=void 0,vc=void 0,Yb=void 0,Sc=void 0,Mb=void 0,mc=void 0,fc=void 0,Zb=void 0,lc=void 0;Cb=Da.x;vb=Da.y;Kb=Da.z;Gb=S.x;Vb=S.y;Rb=S.z;Wb=Na.x;nc=Na.y;ac=Na.z;gc=Ia.x;cc=Ia.y;Tb=Ia.z;Ub=Gb-Cb;Qb=Vb-vb;hc=Rb-Kb;bc=Wb-Cb;jc=nc-vb;Xb=ac-Kb;ic=gc-Cb;vc=cc-vb;Yb=Tb-Kb;Sc=Wb-Gb;Mb=nc-Vb;mc=ac-Rb;fc=gc-Gb;Zb=cc-Vb;lc=Tb-Rb;
var ed=void 0,Cc=void 0,wc=void 0,sc=void 0,Kc=void 0,tc=void 0,Lc=void 0,Id=void 0,fd=void 0,Xc=void 0,Dc=void 0,oc=void 0;ed=Qb*Xb-hc*jc;Cc=hc*bc-Ub*Xb;wc=Ub*jc-Qb*bc;sc=jc*Yb-Xb*vc;Kc=Xb*ic-bc*Yb;tc=bc*vc-jc*ic;Lc=vc*hc-Yb*Qb;Id=Yb*Ub-ic*hc;fd=ic*Qb-vc*Ub;Xc=Zb*mc-lc*Mb;Dc=lc*Sc-fc*mc;oc=fc*Mb-Zb*Sc;var gd=0<Ub*Xc+Qb*Dc+hc*oc?1:-1,kc=-1,hd=void 0,Tc=void 0,zd=void 0,Ad=0;zd=Tc=hd=0;if(0>(Cb*ed+vb*Cc+Kb*wc)*gd){var id=void 0,we=void 0,Jd=void 0,he=void 0,Td=void 0,Yc=void 0,$d=void 0,He=void 0,
We=void 0,oe=void 0,rd=void 0,Fd=void 0,ae=void 0,xe=void 0,ie=void 0,Ec=void 0,sd=void 0,td=void 0;id=Da.x;we=Da.y;Jd=Da.z;he=S.x;Td=S.y;Yc=S.z;$d=Na.x;He=Na.y;We=Na.z;oe=he-id;rd=Td-we;Fd=Yc-Jd;ae=$d-he;xe=He-Td;ie=We-Yc;Ec=id-$d;sd=we-He;td=Jd-We;var Bd=void 0,Zc=void 0,Mc=void 0;Bd=rd*ie-Fd*xe;Zc=Fd*ae-oe*ie;Mc=oe*xe-rd*ae;var ch=void 0,nf=void 0,Ff=void 0,Ie=void 0,xg=void 0,$c=void 0,xc=void 0,Hc=void 0,of=void 0;ch=rd*Mc-Fd*Zc;nf=Fd*Bd-oe*Mc;Ff=oe*Zc-rd*Bd;Ie=xe*Mc-ie*Zc;xg=ie*Bd-ae*Mc;$c=
ae*Zc-xe*Bd;xc=sd*Mc-td*Zc;Hc=td*Bd-Ec*Mc;of=Ec*Zc-sd*Bd;var be=-1,Ud=void 0,Pd=void 0,Qd=void 0,je=0;Qd=Pd=Ud=0;if(0>id*ch+we*nf+Jd*Ff){var Fc=void 0,Uc=void 0,Vc=void 0,dg=void 0,Gf=void 0,pf=void 0;Fc=Da.x;Uc=Da.y;Vc=Da.z;dg=S.x;Gf=S.y;pf=S.z;var Vd=void 0,ye=void 0,qf=void 0;Vd=dg-Fc;ye=Gf-Uc;qf=pf-Vc;var Je=Vd*Fc+ye*Uc+qf*Vc;Je=-Je/(Vd*Vd+ye*ye+qf*qf);var Hf=void 0;if(0>Je)g.x=Fc,g.y=Uc,g.z=Vc,Hf=1;else if(1<Je)g.x=dg,g.y=Gf,g.z=pf,Hf=2;else{var rf=void 0,sf=void 0,tf=void 0;rf=Fc+Vd*Je;sf=Uc+
ye*Je;tf=Vc+qf*Je;g.x=rf;g.y=sf;g.z=tf;Hf=3}je=Hf;be=g.x*g.x+g.y*g.y+g.z*g.z;Ud=g.x;Pd=g.y;Qd=g.z}if(0>he*Ie+Td*xg+Yc*$c){var If=void 0,Jf=void 0,Kf=void 0,Lf=void 0,uf=void 0,vf=void 0;If=S.x;Jf=S.y;Kf=S.z;Lf=Na.x;uf=Na.y;vf=Na.z;var Wc=void 0,nd=void 0,vd=void 0;Wc=Lf-If;nd=uf-Jf;vd=vf-Kf;var ze=Wc*If+nd*Jf+vd*Kf;ze=-ze/(Wc*Wc+nd*nd+vd*vd);var Xe=void 0;if(0>ze)g.x=If,g.y=Jf,g.z=Kf,Xe=1;else if(1<ze)g.x=Lf,g.y=uf,g.z=vf,Xe=2;else{var Mf=void 0,Ke=void 0,Nc=void 0;Mf=If+Wc*ze;Ke=Jf+nd*ze;Nc=Kf+vd*
ze;g.x=Mf;g.y=Ke;g.z=Nc;Xe=3}var Oc=g.x*g.x+g.y*g.y+g.z*g.z;if(0>be||Oc<be)je=Xe<<1,be=Oc,Ud=g.x,Pd=g.y,Qd=g.z}if(0>$d*xc+He*Hc+We*of){var Ic=void 0,pe=void 0,qe=void 0,re=void 0,se=void 0,te=void 0;Ic=Da.x;pe=Da.y;qe=Da.z;re=Na.x;se=Na.y;te=Na.z;var Rd=void 0,Ae=void 0,wf=void 0;Rd=re-Ic;Ae=se-pe;wf=te-qe;var eg=Rd*Ic+Ae*pe+wf*qe;eg=-eg/(Rd*Rd+Ae*Ae+wf*wf);var ud=void 0;if(0>eg)g.x=Ic,g.y=pe,g.z=qe,ud=1;else if(1<eg)g.x=re,g.y=se,g.z=te,ud=2;else{var ke=void 0,wd=void 0,od=void 0;ke=Ic+Rd*eg;wd=
pe+Ae*eg;od=qe+wf*eg;g.x=ke;g.y=wd;g.z=od;ud=3}var jd=g.x*g.x+g.y*g.y+g.z*g.z;if(0>be||jd<be)je=ud&1|(ud&2)<<1,be=jd,Ud=g.x,Pd=g.y,Qd=g.z}var pd=void 0;if(0<be)g.x=Ud,g.y=Pd,g.z=Qd,pd=je;else{var Jc=Bd*Bd+Zc*Zc+Mc*Mc;0<Jc&&(Jc=1/Math.sqrt(Jc));Bd*=Jc;Zc*=Jc;Mc*=Jc;var Pc=Bd*Bd+Zc*Zc+Mc*Mc;Pc=(id*Bd+we*Zc+Jd*Mc)/Pc;Ud=Bd*Pc;Pd=Zc*Pc;Qd=Mc*Pc;g.x=Ud;g.y=Pd;g.z=Qd;pd=7}Ad=pd;kc=g.x*g.x+g.y*g.y+g.z*g.z;hd=g.x;Tc=g.y;zd=g.z}if(0>(Cb*sc+vb*Kc+Kb*tc)*gd){var kd=void 0,Ac=void 0,Bc=void 0,yc=void 0,ad=void 0,
bd=void 0,Gc=void 0,Be=void 0,Nf=void 0,Ce=void 0,xf=void 0,ce=void 0,Ye=void 0,ue=void 0,Of=void 0,Cd=void 0,Sd=void 0,Gd=void 0;kd=Da.x;Ac=Da.y;Bc=Da.z;yc=Na.x;ad=Na.y;bd=Na.z;Gc=Ia.x;Be=Ia.y;Nf=Ia.z;Ce=yc-kd;xf=ad-Ac;ce=bd-Bc;Ye=Gc-yc;ue=Be-ad;Of=Nf-bd;Cd=kd-Gc;Sd=Ac-Be;Gd=Bc-Nf;var Kd=void 0,Ld=void 0,Dd=void 0;Kd=xf*Of-ce*ue;Ld=ce*Ye-Ce*Of;Dd=Ce*ue-xf*Ye;var yg=void 0,oh=void 0,fg=void 0,gg=void 0,Pf=void 0,zg=void 0,De=void 0,Le=void 0,ve=void 0;yg=xf*Dd-ce*Ld;oh=ce*Kd-Ce*Dd;fg=Ce*Ld-xf*Kd;
gg=ue*Dd-Of*Ld;Pf=Of*Kd-Ye*Dd;zg=Ye*Ld-ue*Kd;De=Sd*Dd-Gd*Ld;Le=Gd*Kd-Cd*Dd;ve=Cd*Ld-Sd*Kd;var Wd=-1,Ee=void 0,de=void 0,Me=void 0,Qf=0;Me=de=Ee=0;if(0>kd*yg+Ac*oh+Bc*fg){var Ze=void 0,hg=void 0,ph=void 0,qh=void 0,rh=void 0,dh=void 0;Ze=Da.x;hg=Da.y;ph=Da.z;qh=Na.x;rh=Na.y;dh=Na.z;var $e=void 0,af=void 0,ig=void 0;$e=qh-Ze;af=rh-hg;ig=dh-ph;var Ag=$e*Ze+af*hg+ig*ph;Ag=-Ag/($e*$e+af*af+ig*ig);var eh=void 0;if(0>Ag)g.x=Ze,g.y=hg,g.z=ph,eh=1;else if(1<Ag)g.x=qh,g.y=rh,g.z=dh,eh=2;else{var Bg=void 0,
Cg=void 0,fh=void 0;Bg=Ze+$e*Ag;Cg=hg+af*Ag;fh=ph+ig*Ag;g.x=Bg;g.y=Cg;g.z=fh;eh=3}Qf=eh;Wd=g.x*g.x+g.y*g.y+g.z*g.z;Ee=g.x;de=g.y;Me=g.z}if(0>yc*gg+ad*Pf+bd*zg){var Dg=void 0,Eg=void 0,Fg=void 0,Gg=void 0,Hg=void 0,jg=void 0;Dg=Na.x;Eg=Na.y;Fg=Na.z;Gg=Ia.x;Hg=Ia.y;jg=Ia.z;var Ne=void 0,Rf=void 0,Ig=void 0;Ne=Gg-Dg;Rf=Hg-Eg;Ig=jg-Fg;var Sf=Ne*Dg+Rf*Eg+Ig*Fg;Sf=-Sf/(Ne*Ne+Rf*Rf+Ig*Ig);var gh=void 0;if(0>Sf)g.x=Dg,g.y=Eg,g.z=Fg,gh=1;else if(1<Sf)g.x=Gg,g.y=Hg,g.z=jg,gh=2;else{var cj=void 0,sh=void 0,
th=void 0;cj=Dg+Ne*Sf;sh=Eg+Rf*Sf;th=Fg+Ig*Sf;g.x=cj;g.y=sh;g.z=th;gh=3}var ee=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Wd||ee<Wd)Qf=gh<<1,Wd=ee,Ee=g.x,de=g.y,Me=g.z}if(0>Gc*De+Be*Le+Nf*ve){var Xd=void 0,Yd=void 0,uh=void 0,vh=void 0,wh=void 0,xh=void 0;Xd=Da.x;Yd=Da.y;uh=Da.z;vh=Ia.x;wh=Ia.y;xh=Ia.z;var Tf=void 0,Jg=void 0,Oh=void 0;Tf=vh-Xd;Jg=wh-Yd;Oh=xh-uh;var hh=Tf*Xd+Jg*Yd+Oh*uh;hh=-hh/(Tf*Tf+Jg*Jg+Oh*Oh);var Ph=void 0;if(0>hh)g.x=Xd,g.y=Yd,g.z=uh,Ph=1;else if(1<hh)g.x=vh,g.y=wh,g.z=xh,Ph=2;else{var kg=
void 0,Uf=void 0,bf=void 0;kg=Xd+Tf*hh;Uf=Yd+Jg*hh;bf=uh+Oh*hh;g.x=kg;g.y=Uf;g.z=bf;Ph=3}var Kg=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Wd||Kg<Wd)Qf=Ph&1|(Ph&2)<<1,Wd=Kg,Ee=g.x,de=g.y,Me=g.z}var lg=void 0;if(0<Wd)g.x=Ee,g.y=de,g.z=Me,lg=Qf;else{var cf=Kd*Kd+Ld*Ld+Dd*Dd;0<cf&&(cf=1/Math.sqrt(cf));Kd*=cf;Ld*=cf;Dd*=cf;var yf=Kd*Kd+Ld*Ld+Dd*Dd;yf=(kd*Kd+Ac*Ld+Bc*Dd)/yf;Ee=Kd*yf;de=Ld*yf;Me=Dd*yf;g.x=Ee;g.y=de;g.z=Me;lg=7}var Lg=g.x*g.x+g.y*g.y+g.z*g.z;if(0>kc||Lg<kc)Ad=lg&1|(lg&6)<<1,kc=Lg,hd=g.x,Tc=g.y,zd=g.z}if(0>
(Cb*Lc+vb*Id+Kb*fd)*gd){var Mg=void 0,Ng=void 0,Og=void 0,mg=void 0,ng=void 0,og=void 0,Oe=void 0,pg=void 0,ih=void 0,Pg=void 0,Qg=void 0,zf=void 0,qg=void 0,rg=void 0,jh=void 0,le=void 0,me=void 0,Zd=void 0;Mg=Da.x;Ng=Da.y;Og=Da.z;mg=S.x;ng=S.y;og=S.z;Oe=Ia.x;pg=Ia.y;ih=Ia.z;Pg=mg-Mg;Qg=ng-Ng;zf=og-Og;qg=Oe-mg;rg=pg-ng;jh=ih-og;le=Mg-Oe;me=Ng-pg;Zd=Og-ih;var fe=void 0,ge=void 0,Md=void 0;fe=Qg*jh-zf*rg;ge=zf*qg-Pg*jh;Md=Pg*rg-Qg*qg;var ji=void 0,Dj=void 0,Ej=void 0,Fj=void 0,dj=void 0,Qh=void 0,
Af=void 0,Vf=void 0,Rg=void 0;ji=Qg*Md-zf*ge;Dj=zf*fe-Pg*Md;Ej=Pg*ge-Qg*fe;Fj=rg*Md-jh*ge;dj=jh*fe-qg*Md;Qh=qg*ge-rg*fe;Af=me*Md-Zd*ge;Vf=Zd*fe-le*Md;Rg=le*ge-me*fe;var Fe=-1,Wf=void 0,Pe=void 0,Qe=void 0,Xf=0;Qe=Pe=Wf=0;if(0>Mg*ji+Ng*Dj+Og*Ej){var df=void 0,sg=void 0,yh=void 0,zh=void 0,Ah=void 0,kh=void 0;df=Da.x;sg=Da.y;yh=Da.z;zh=S.x;Ah=S.y;kh=S.z;var Bf=void 0,ef=void 0,tg=void 0;Bf=zh-df;ef=Ah-sg;tg=kh-yh;var Sg=Bf*df+ef*sg+tg*yh;Sg=-Sg/(Bf*Bf+ef*ef+tg*tg);var Gj=void 0;if(0>Sg)g.x=df,g.y=sg,
g.z=yh,Gj=1;else if(1<Sg)g.x=zh,g.y=Ah,g.z=kh,Gj=2;else{var ej=void 0,fj=void 0,gj=void 0;ej=df+Bf*Sg;fj=sg+ef*Sg;gj=yh+tg*Sg;g.x=ej;g.y=fj;g.z=gj;Gj=3}Xf=Gj;Fe=g.x*g.x+g.y*g.y+g.z*g.z;Wf=g.x;Pe=g.y;Qe=g.z}if(0>mg*Fj+ng*dj+og*Qh){var ki=void 0,li=void 0,mi=void 0,ni=void 0,oi=void 0,pi=void 0;ki=S.x;li=S.y;mi=S.z;ni=Ia.x;oi=Ia.y;pi=Ia.z;var Tg=void 0,Rh=void 0,hj=void 0;Tg=ni-ki;Rh=oi-li;hj=pi-mi;var Sh=Tg*ki+Rh*li+hj*mi;Sh=-Sh/(Tg*Tg+Rh*Rh+hj*hj);var Hj=void 0;if(0>Sh)g.x=ki,g.y=li,g.z=mi,Hj=1;else if(1<
Sh)g.x=ni,g.y=oi,g.z=pi,Hj=2;else{var fk=void 0,ij=void 0,jj=void 0;fk=ki+Tg*Sh;ij=li+Rh*Sh;jj=mi+hj*Sh;g.x=fk;g.y=ij;g.z=jj;Hj=3}var kj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Fe||kj<Fe)Xf=Hj<<1,Fe=kj,Wf=g.x,Pe=g.y,Qe=g.z}if(0>Oe*Af+pg*Vf+ih*Rg){var qi=void 0,ri=void 0,si=void 0,ti=void 0,ui=void 0,vi=void 0;qi=Da.x;ri=Da.y;si=Da.z;ti=Ia.x;ui=Ia.y;vi=Ia.z;var Ug=void 0,Bh=void 0,lj=void 0;Ug=ti-qi;Bh=ui-ri;lj=vi-si;var Th=Ug*qi+Bh*ri+lj*si;Th=-Th/(Ug*Ug+Bh*Bh+lj*lj);var mj=void 0;if(0>Th)g.x=qi,g.y=ri,g.z=
si,mj=1;else if(1<Th)g.x=ti,g.y=ui,g.z=vi,mj=2;else{var gk=void 0,Ij=void 0,wi=void 0;gk=qi+Ug*Th;Ij=ri+Bh*Th;wi=si+lj*Th;g.x=gk;g.y=Ij;g.z=wi;mj=3}var nj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Fe||nj<Fe)Xf=mj&1|(mj&2)<<1,Fe=nj,Wf=g.x,Pe=g.y,Qe=g.z}var Jj=void 0;if(0<Fe)g.x=Wf,g.y=Pe,g.z=Qe,Jj=Xf;else{var lh=fe*fe+ge*ge+Md*Md;0<lh&&(lh=1/Math.sqrt(lh));fe*=lh;ge*=lh;Md*=lh;var Ch=fe*fe+ge*ge+Md*Md;Ch=(Mg*fe+Ng*ge+Og*Md)/Ch;Wf=fe*Ch;Pe=ge*Ch;Qe=Md*Ch;g.x=Wf;g.y=Pe;g.z=Qe;Jj=7}var oj=g.x*g.x+g.y*g.y+g.z*g.z;
if(0>kc||oj<kc)Ad=Jj&3|(Jj&4)<<1,kc=oj,hd=g.x,Tc=g.y,zd=g.z}if(0>(Gb*Xc+Vb*Dc+Rb*oc)*gd){var Uh=void 0,Vh=void 0,Wh=void 0,xi=void 0,yi=void 0,zi=void 0,Xh=void 0,Yh=void 0,Zh=void 0,Dh=void 0,Eh=void 0,Fh=void 0,Ai=void 0,Bi=void 0,Ci=void 0,Re=void 0,Se=void 0,Te=void 0;Uh=S.x;Vh=S.y;Wh=S.z;xi=Na.x;yi=Na.y;zi=Na.z;Xh=Ia.x;Yh=Ia.y;Zh=Ia.z;Dh=xi-Uh;Eh=yi-Vh;Fh=zi-Wh;Ai=Xh-xi;Bi=Yh-yi;Ci=Zh-zi;Re=Uh-Xh;Se=Vh-Yh;Te=Wh-Zh;var ff=void 0,gf=void 0,hf=void 0;ff=Eh*Ci-Fh*Bi;gf=Fh*Ai-Dh*Ci;hf=Dh*Bi-Eh*Ai;
var hk=void 0,ik=void 0,jk=void 0,kk=void 0,lk=void 0,mk=void 0,Gh=void 0,$h=void 0,ai=void 0;hk=Eh*hf-Fh*gf;ik=Fh*ff-Dh*hf;jk=Dh*gf-Eh*ff;kk=Bi*hf-Ci*gf;lk=Ci*ff-Ai*hf;mk=Ai*gf-Bi*ff;Gh=Se*hf-Te*gf;$h=Te*ff-Re*hf;ai=Re*gf-Se*ff;var Cf=-1,mh=void 0,Vg=void 0,Wg=void 0,bi=0;Wg=Vg=mh=0;if(0>Uh*hk+Vh*ik+Wh*jk){var Di=void 0,Ei=void 0,Fi=void 0,Gi=void 0,Hi=void 0,Ii=void 0;Di=S.x;Ei=S.y;Fi=S.z;Gi=Na.x;Hi=Na.y;Ii=Na.z;var Xg=void 0,ci=void 0,pj=void 0;Xg=Gi-Di;ci=Hi-Ei;pj=Ii-Fi;var di=Xg*Di+ci*Ei+pj*
Fi;di=-di/(Xg*Xg+ci*ci+pj*pj);var Kj=void 0;if(0>di)g.x=Di,g.y=Ei,g.z=Fi,Kj=1;else if(1<di)g.x=Gi,g.y=Hi,g.z=Ii,Kj=2;else{var qj=void 0,rj=void 0,sj=void 0;qj=Di+Xg*di;rj=Ei+ci*di;sj=Fi+pj*di;g.x=qj;g.y=rj;g.z=sj;Kj=3}bi=Kj;Cf=g.x*g.x+g.y*g.y+g.z*g.z;mh=g.x;Vg=g.y;Wg=g.z}if(0>xi*kk+yi*lk+zi*mk){var Ji=void 0,Ki=void 0,Li=void 0,Mi=void 0,Ni=void 0,Oi=void 0;Ji=Na.x;Ki=Na.y;Li=Na.z;Mi=Ia.x;Ni=Ia.y;Oi=Ia.z;var Yg=void 0,ei=void 0,tj=void 0;Yg=Mi-Ji;ei=Ni-Ki;tj=Oi-Li;var fi=Yg*Ji+ei*Ki+tj*Li;fi=-fi/
(Yg*Yg+ei*ei+tj*tj);var Lj=void 0;if(0>fi)g.x=Ji,g.y=Ki,g.z=Li,Lj=1;else if(1<fi)g.x=Mi,g.y=Ni,g.z=Oi,Lj=2;else{var nk=void 0,uj=void 0,vj=void 0;nk=Ji+Yg*fi;uj=Ki+ei*fi;vj=Li+tj*fi;g.x=nk;g.y=uj;g.z=vj;Lj=3}var wj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Cf||wj<Cf)bi=Lj<<1,Cf=wj,mh=g.x,Vg=g.y,Wg=g.z}if(0>Xh*Gh+Yh*$h+Zh*ai){var Pi=void 0,Qi=void 0,Ri=void 0,Si=void 0,Ti=void 0,Ui=void 0;Pi=S.x;Qi=S.y;Ri=S.z;Si=Ia.x;Ti=Ia.y;Ui=Ia.z;var Zg=void 0,Hh=void 0,xj=void 0;Zg=Si-Pi;Hh=Ti-Qi;xj=Ui-Ri;var gi=Zg*Pi+Hh*Qi+
xj*Ri;gi=-gi/(Zg*Zg+Hh*Hh+xj*xj);var yj=void 0;if(0>gi)g.x=Pi,g.y=Qi,g.z=Ri,yj=1;else if(1<gi)g.x=Si,g.y=Ti,g.z=Ui,yj=2;else{var ok=void 0,Nj=void 0,Vi=void 0;ok=Pi+Zg*gi;Nj=Qi+Hh*gi;Vi=Ri+xj*gi;g.x=ok;g.y=Nj;g.z=Vi;yj=3}var zj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Cf||zj<Cf)bi=yj&1|(yj&2)<<1,Cf=zj,mh=g.x,Vg=g.y,Wg=g.z}var Oj=void 0;if(0<Cf)g.x=mh,g.y=Vg,g.z=Wg,Oj=bi;else{var Wi=ff*ff+gf*gf+hf*hf;0<Wi&&(Wi=1/Math.sqrt(Wi));ff*=Wi;gf*=Wi;hf*=Wi;var Yf=ff*ff+gf*gf+hf*hf;Yf=(Uh*ff+Vh*gf+Wh*hf)/Yf;mh=ff*Yf;Vg=
gf*Yf;Wg=hf*Yf;g.x=mh;g.y=Vg;g.z=Wg;Oj=7}var Pj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>kc||Pj<kc)Ad=Oj<<1,kc=Pj,hd=g.x,Tc=g.y,zd=g.z}0<kc?(g.x=hd,g.y=Tc,g.z=zd,O=Ad):(g.$(),O=15)}this.Pb(O);if(1E-8>g.x*g.x+g.y*g.y+g.z*g.z){if(0==B||4==this.h){h.fraction=B;break}this.Eb();h.fraction=B;var Ge=h.normal;Ge.x=l.x;Ge.y=l.y;Ge.z=l.z;var hi=Math.sqrt(Ge.x*Ge.x+Ge.y*Ge.y+Ge.z*Ge.z);0<hi&&(hi=1/hi);Ge.x*=hi;Ge.y*=hi;Ge.z*=hi;var Xi=h.position,Mk=this.closestPoint1;Xi.x=Mk.x;Xi.y=Mk.y;Xi.z=Mk.z;Xi.x+=c.x*B;Xi.y+=c.y*
B;Xi.z+=c.z*B;return!0}l.x=g.x;l.y=g.y;l.z=g.z;l.x=-l.x;l.y=-l.y;l.z=-l.z;if(null!=this.Ja)this.V(!0);else{var Nk=this.ob[this.h];Nk.x=this.I.F;Nk.y=this.I.G;Nk.z=this.I.H}this.X(!0);var Yi=this.i[this.h],Ok=this.ob[this.h];Yi.x=Ok.x;Yi.y=Ok.y;Yi.z=Ok.z;var Pk=this.sb[this.h];Yi.x-=Pk.x;Yi.y-=Pk.y;Yi.z-=Pk.z;var Qj=k[this.h];Qj.x-=H.x;Qj.y-=H.y;Qj.z-=H.z;if(1E-8>l.x*l.x+l.y*l.y+l.z*l.z)throw Error("!?");var Qk=k[this.h],jl=Qk.x*l.x+Qk.y*l.y+Qk.z*l.z;if(0>jl){if(0<=C.x*l.x+C.y*l.y+C.z*l.z)break;var pk=
jl/(C.x*l.x+C.y*l.y+C.z*l.z);B+=pk;if(1<=B)break;H.x+=C.x*pk;H.y+=C.y*pk;H.z+=C.z*pk;for(var kl=0,yl=this.h+1;kl<yl;){var Rj=k[kl++],Rk=-pk;Rj.x+=C.x*Rk;Rj.y+=C.y*Rk;Rj.z+=C.z*Rk}}for(var ll=!1,ml=0,zl=this.h;ml<zl;){var Sk=ml++,nl=k[Sk].x-k[this.h].x,ol=k[Sk].y-k[this.h].y,pl=k[Sk].z-k[this.h].z;if(1E-8>nl*nl+ol*ol+pl*pl){ll=!0;break}}ll||this.h++;++v}return!1};zc.prototype.Eb=function(){switch(this.h){case 1:var a=this.closestPoint1,b=this.ob[0];a.x=b.x;a.y=b.y;a.z=b.z;var e=this.closestPoint2,
d=this.sb[0];e.x=d.x;e.y=d.y;e.z=d.z;break;case 2:var c=this.aa;var f=c.x;var h=c.y;var k=c.z;var g=this.i[0];var l=g.x;var m=g.y;var n=g.z;var q=this.ob[0];var p=q.x;var r=q.y;var t=q.z;var x=this.sb[0];var v=x.x;var B=x.y;var H=x.z;var C=this.i[1];var O=C.x;var y=C.y;var A=C.z;var E=this.ob[1];var M=E.x;var G=E.y;var R=E.z;var K=this.sb[1];var oa=K.x;var N=K.y;var Ra=K.z;var Wa=O-l;var Ja=y-m;var Sa=A-n;var Aa=Wa*Wa+Ja*Ja+Sa*Sa;0!=Aa&&(Aa=1/Aa);var La=((f-l)*Wa+(h-m)*Ja+(k-n)*Sa)*Aa;var Fa=M-p;
var L=G-r;var Z=R-t;var Y=p+Fa*La;var va=r+L*La;var Va=t+Z*La;Fa=oa-v;L=N-B;Z=Ra-H;var D=v+Fa*La;var za=B+L*La;var aa=H+Z*La;var Ta=this.closestPoint1;Ta.x=Y;Ta.y=va;Ta.z=Va;var ca=this.closestPoint2;ca.x=D;ca.y=za;ca.z=aa;break;case 3:var ia=this.aa;var T=ia.x;var ka=ia.y;var pa=ia.z;var Ca=this.i[0];var V=Ca.x;var fa=Ca.y;var w=Ca.z;var ta=this.ob[0];var Ga=ta.x;var da=ta.y;var W=ta.z;var sa=this.sb[0];var la=sa.x;var Oa=sa.y;var ab=sa.z;var ja=this.i[1];var ob=ja.x;var Ha=ja.y;var I=ja.z;var Ka=
this.ob[1];var P=Ka.x;var na=Ka.y;var ba=Ka.z;var ea=this.sb[1];var X=ea.x;var ma=ea.y;var xb=ea.z;var Za=this.i[2];var ib=Za.x;var qb=Za.y;var lb=Za.z;var bb=this.ob[2];var $a=bb.x;var qa=bb.y;var mb=bb.z;var Db=this.sb[2];var Xa=Db.x;var tb=Db.y;var Ma=Db.z;var Eb=ob-V;var ub=Ha-fa;var fb=I-w;var db=ib-V;var gb=qb-fa;var jb=lb-w;var Bb=T-V;var kb=ka-fa;var nb=pa-w;var Ya=Eb*Eb+ub*ub+fb*fb,Nb=Eb*db+ub*gb+fb*jb,Lb=db*db+gb*gb+jb*jb,F=Eb*Bb+ub*kb+fb*nb,pb=db*Bb+gb*kb+jb*nb,cb=Ya*Lb-Nb*Nb;0!=cb&&(cb=
1/cb);var Fb=(F*Lb-pb*Nb)*cb,wb=(-F*Nb+pb*Ya)*cb;var eb=P-Ga;var Ib=na-da;var Q=ba-W;var U=Ga+eb*Fb;var u=da+Ib*Fb;var Ab=W+Q*Fb;eb=$a-Ga;Ib=qa-da;Q=mb-W;U+=eb*wb;u+=Ib*wb;Ab+=Q*wb;eb=X-la;Ib=ma-Oa;Q=xb-ab;var rb=la+eb*Fb;var ra=Oa+Ib*Fb;var Ua=ab+Q*Fb;eb=Xa-la;Ib=tb-Oa;Q=Ma-ab;rb+=eb*wb;ra+=Ib*wb;Ua+=Q*wb;var xa=this.closestPoint1;xa.x=U;xa.y=u;xa.z=Ab;var Pa=this.closestPoint2;Pa.x=rb;Pa.y=ra;Pa.z=Ua;break;default:throw Error("!?");}};zc.prototype.Wa=function(a){var b=this.C;a=a.xi;b.x=a.x;b.y=
a.y;b.z=a.z};zc.prototype.Hb=function(a){a=a.xi;var b=this.aa;a.x=b.x;a.y=b.y;a.z=b.z;a.x=-a.x;a.y=-a.y;a.z=-a.z};zc.prototype.Pb=function(a){this.h=a;this.h=(this.h&5)+(this.h>>1&5);this.h=(this.h&3)+(this.h>>2&3);switch(a){case 2:a=this.i[0];var b=this.i[1];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[1];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[1];a.x=b.x;a.y=b.y;a.z=b.z;break;case 4:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];
b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;break;case 5:a=this.i[1];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[1];b=this.ob[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;break;case 6:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;break;case 8:a=this.i[0];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[3];a.x=b.x;
a.y=b.y;a.z=b.z;break;case 9:a=this.i[1];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[1];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 10:a=this.i[0];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 11:a=this.i[2];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[2];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[2];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;
break;case 12:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[0];b=this.ob[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.i[1];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[1];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 13:a=this.i[1];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.ob[1];b=this.ob[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 14:a=this.i[0],b=this.i[3],
a.x=b.x,a.y=b.y,a.z=b.z,a=this.ob[0],b=this.ob[3],a.x=b.x,a.y=b.y,a.z=b.z,a=this.sb[0],b=this.sb[3],a.x=b.x,a.y=b.y,a.z=b.z}};zc.prototype.V=function(a){var b=this.C;var e=b.x;var d=b.y;b=b.z;var c=this.I.A*e+this.I.o*d+this.I.u*b;var f=this.I.j*e+this.I.v*d+this.I.l*b;var h=this.I.m*e+this.I.s*d+this.I.B*b;var k=this.C;k.x=c;k.y=f;k.z=h;this.Ja.ud(this.C,this.ob[this.h]);a&&(a=this.C,h=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),0<h&&(h=1/h),a.x*=h,a.y*=h,a.z*=h,a=this.ob[this.h],h=this.C,c=this.Ja.fc,a.x+=
h.x*c,a.y+=h.y*c,a.z+=h.z*c);a=this.ob[this.h];h=a.x;c=a.y;k=a.z;f=this.I.A*h+this.I.j*c+this.I.m*k;a=this.I.o*h+this.I.v*c+this.I.s*k;c=this.I.u*h+this.I.l*c+this.I.B*k;h=f+this.I.F;a+=this.I.G;c+=this.I.H;f=this.ob[this.h];f.x=h;f.y=a;f.z=c;a=this.C;a.x=e;a.y=d;a.z=b};zc.prototype.X=function(a){var b=this.C;var e=b.x;var d=b.y;b=b.z;var c=this.M.A*e+this.M.o*d+this.M.u*b;var f=this.M.j*e+this.M.v*d+this.M.l*b;var h=this.M.m*e+this.M.s*d+this.M.B*b;var k=this.C;k.x=-c;k.y=-f;k.z=-h;this.Pa.ud(this.C,
this.sb[this.h]);a&&(a=this.C,c=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),0<c&&(c=1/c),a.x*=c,a.y*=c,a.z*=c,a=this.sb[this.h],c=this.C,f=this.Pa.fc,a.x+=c.x*f,a.y+=c.y*f,a.z+=c.z*f);a=this.sb[this.h];c=a.x;f=a.y;k=a.z;h=this.M.A*c+this.M.j*f+this.M.m*k;a=this.M.o*c+this.M.v*f+this.M.s*k;f=this.M.u*c+this.M.l*f+this.M.B*k;c=h+this.M.F;a+=this.M.G;f+=this.M.H;h=this.sb[this.h];h.x=c;h.y=a;h.z=f;a=this.C;a.x=e;a.y=d;a.z=b};zc.prototype.Ya=function(){for(var a=0;3>a;){var b=this.C,e=this.qa[a++];b.x=e.x;b.y=
e.y;b.z=e.z;this.V(!1);this.X(!1);b=this.i[this.h];e=this.ob[this.h];b.x=e.x;b.y=e.y;b.z=e.z;e=this.sb[this.h];b.x-=e.x;b.y-=e.y;b.z-=e.z;this.h++;this.Sa();if(4==this.h)break;this.h--;b=this.C;b.x=-b.x;b.y=-b.y;b.z=-b.z;this.V(!1);this.X(!1);b=this.i[this.h];e=this.ob[this.h];b.x=e.x;b.y=e.y;b.z=e.z;e=this.sb[this.h];b.x-=e.x;b.y-=e.y;b.z-=e.z;this.h++;this.Sa();if(4==this.h)break;this.h--}};zc.prototype.Sa=function(){var a=this.C;var b=a.x;var e=a.y;a=a.z;var d=this.i[0];var c=d.x;var f=d.y;d=d.z;
var h=this.i[1];var k=h.x;var g=h.y;h=h.z;c-=k;f-=g;d-=h;for(g=0;3>g;){h=this.qa[g++];k=h.x;var l=h.y;var m=h.z;h=f*m-d*l;m=d*k-c*m;k=c*l-f*k;l=this.C;l.x=h;l.y=m;l.z=k;this.V(!1);this.X(!1);h=this.i[this.h];k=this.ob[this.h];h.x=k.x;h.y=k.y;h.z=k.z;k=this.sb[this.h];h.x-=k.x;h.y-=k.y;h.z-=k.z;this.h++;this.Xa();if(4==this.h)break;this.h--;h=this.C;h.x=-h.x;h.y=-h.y;h.z=-h.z;this.V(!1);this.X(!1);h=this.i[this.h];k=this.ob[this.h];h.x=k.x;h.y=k.y;h.z=k.z;k=this.sb[this.h];h.x-=k.x;h.y-=k.y;h.z-=k.z;
this.h++;this.Xa();if(4==this.h)break;this.h--}c=this.C;c.x=b;c.y=e;c.z=a};zc.prototype.Xa=function(){var a=this.C;var b=a.x;var e=a.y;a=a.z;var d=this.i[0];var c=d.x;var f=d.y;d=d.z;var h=this.i[1];var k=h.x;var g=h.y;var l=h.z;var m=this.i[2];var n=m.x;h=m.y;m=m.z;k-=c;g-=f;l-=d;c=n-c;f=h-f;d=m-d;h=this.C;h.x=g*d-l*f;h.y=l*c-k*d;h.z=k*f-g*c;this.V(!1);this.X(!1);f=this.i[this.h];d=this.ob[this.h];f.x=d.x;f.y=d.y;f.z=d.z;d=this.sb[this.h];f.x-=d.x;f.y-=d.y;f.z-=d.z;this.h++;this.Jb()||(this.h--,
f=this.C,f.x=-f.x,f.y=-f.y,f.z=-f.z,this.V(!1),this.X(!1),f=this.i[this.h],d=this.ob[this.h],f.x=d.x,f.y=d.y,f.z=d.z,d=this.sb[this.h],f.x-=d.x,f.y-=d.y,f.z-=d.z,this.h++,this.Jb()||this.h--);f=this.C;f.x=b;f.y=e;f.z=a};zc.prototype.Jb=function(){var a=this.i[2].x-this.i[0].x,b=this.i[2].y-this.i[0].y,e=this.i[2].z-this.i[0].z,d=this.i[3].x-this.i[0].x,c=this.i[3].y-this.i[0].y,f=this.i[3].z-this.i[0].z;a=(this.i[1].x-this.i[0].x)*(b*f-e*c)-(this.i[1].y-this.i[0].y)*(a*f-e*d)+(this.i[1].z-this.i[0].z)*
(a*c-b*d);return 1E-12<a?!0:-1E-12>a};zc.prototype.Sb=function(a,b,e){for(var d=this.Y;0<d.V;){var c=d.C;d.V--;var f=c.sa,h=c.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c==d.C&&(d.C=d.C.U);c==d.i&&(d.i=d.i.sa);c.U=null;c.sa=null;c.wh();c.U=d.I;d.I=c}for(;0<d.Vd;){var k=d.La[--d.Vd];k.wh();k.U=d.M;d.M=k}var g=this.Y,l=this.Y,m=l.M;null!=m?(l.M=m.U,m.U=null):m=new Aj;var n=m.Ia(a[0],b[0],e[0]),q=this.Y,p=q.M;null!=p?(q.M=p.U,p.U=null):p=new Aj;var r=p.Ia(a[1],b[1],e[1]),t=this.Y,x=t.M;null!=x?(t.M=x.U,x.U=
null):x=new Aj;var v=x.Ia(a[2],b[2],e[2]),B=this.Y,H=B.M;null!=H?(B.M=H.U,H.U=null):H=new Aj;if(!g.aa(n,r,v,H.Ia(a[3],b[3],e[3])))return ah.EPA_FAILED_TO_INIT;this.h=0;for(var C=this.i[0],O=this.ob[0],y=this.sb[0],A=0;40>A;){for(var E=this.Y.C,M=Infinity,G=null;null!=E;)E.bh<M&&(M=E.bh,G=E),E=E.U;var R=G,K=this.C,oa=R.jh;K.x=oa.x;K.y=oa.y;K.z=oa.z;var N=Math.sqrt(K.x*K.x+K.y*K.y+K.z*K.z);0<N&&(N=1/N);K.x*=N;K.y*=N;K.z*=N;this.V(!1);this.X(!1);var Ra=this.i[this.h],Wa=this.ob[this.h];Ra.x=Wa.x;Ra.y=
Wa.y;Ra.z=Wa.z;var Ja=this.sb[this.h];Ra.x-=Ja.x;Ra.y-=Ja.y;Ra.z-=Ja.z;var Sa=R.La[0],Aa=R.La[1],La=R.La[2],Fa=Sa.kd,L=this.C,Z=this.C;if(1E-6>C.x*Z.x+C.y*Z.y+C.z*Z.z-(Fa.x*L.x+Fa.y*L.y+Fa.z*L.z)||39==A){var Y=this.aa,va=this.C;Y.x=va.x;Y.y=va.y;Y.z=va.z;var Va=this.C,D=Sa.kd,za=this.C,aa=(Va.x*D.x+Va.y*D.y+Va.z*D.z)/(za.x*za.x+za.y*za.y+za.z*za.z);Y.x*=aa;Y.y*=aa;Y.z*=aa;var Ta=void 0,ca=void 0,ia=void 0,T=this.aa;Ta=T.x;ca=T.y;ia=T.z;var ka=void 0,pa=void 0,Ca=void 0,V=void 0,fa=void 0,w=void 0,
ta=void 0,Ga=void 0,da=void 0,W=void 0,sa=void 0,la=void 0,Oa=void 0,ab=void 0,ja=void 0,ob=void 0,Ha=void 0,I=void 0,Ka=void 0,P=void 0,na=void 0,ba=void 0,ea=void 0,X=void 0,ma=void 0,xb=void 0,Za=void 0,ib=Sa.kd;ka=ib.x;pa=ib.y;Ca=ib.z;var qb=Sa.ob;V=qb.x;fa=qb.y;w=qb.z;var lb=Sa.sb;ta=lb.x;Ga=lb.y;da=lb.z;var bb=Aa.kd;W=bb.x;sa=bb.y;la=bb.z;var $a=Aa.ob;Oa=$a.x;ab=$a.y;ja=$a.z;var qa=Aa.sb;ob=qa.x;Ha=qa.y;I=qa.z;var mb=La.kd;Ka=mb.x;P=mb.y;na=mb.z;var Db=La.ob;ba=Db.x;ea=Db.y;X=Db.z;var Xa=La.sb;
ma=Xa.x;xb=Xa.y;Za=Xa.z;var tb=void 0,Ma=void 0,Eb=void 0,ub=void 0,fb=void 0,db=void 0,gb=void 0,jb=void 0,Bb=void 0;tb=W-ka;Ma=sa-pa;Eb=la-Ca;ub=Ka-ka;fb=P-pa;db=na-Ca;gb=Ta-ka;jb=ca-pa;Bb=ia-Ca;var kb=tb*tb+Ma*Ma+Eb*Eb,nb=tb*ub+Ma*fb+Eb*db,Ya=ub*ub+fb*fb+db*db,Nb=tb*gb+Ma*jb+Eb*Bb,Lb=ub*gb+fb*jb+db*Bb,F=kb*Ya-nb*nb;0!=F&&(F=1/F);var pb=(Nb*Ya-Lb*nb)*F,cb=(-Nb*nb+Lb*kb)*F,Fb=void 0,wb=void 0,eb=void 0,Ib=void 0,Q=void 0,U=void 0,u=void 0,Ab=void 0,rb=void 0;Fb=Oa-V;wb=ab-fa;eb=ja-w;Ib=V+Fb*pb;Q=
fa+wb*pb;U=w+eb*pb;Fb=ba-V;wb=ea-fa;eb=X-w;Ib+=Fb*cb;Q+=wb*cb;U+=eb*cb;Fb=ob-ta;wb=Ha-Ga;eb=I-da;u=ta+Fb*pb;Ab=Ga+wb*pb;rb=da+eb*pb;Fb=ma-ta;wb=xb-Ga;eb=Za-da;u+=Fb*cb;Ab+=wb*cb;rb+=eb*cb;var ra=this.closestPoint1;ra.x=Ib;ra.y=Q;ra.z=U;var Ua=this.closestPoint2;Ua.x=u;Ua.y=Ab;Ua.z=rb;var xa=this.aa;this.depth=Math.sqrt(xa.x*xa.x+xa.y*xa.y+xa.z*xa.z);return ah.SUCCEEDED}var Pa=this.Y,hb=Pa.M;null!=hb?(Pa.M=hb.U,hb.U=null):hb=new Aj;var yb=hb.Ia(C,O,y);if(!this.Y.qa(yb,R))return ah.EPA_FAILED_TO_ADD_VERTEX;
++A}return ah.EPA_DID_NOT_CONVERGE};zc.prototype.Rb=function(a,b,e,d,c){return this.Ka(a,b,e,d,c,!0)};zc.prototype.Wb=function(a,b,e,d,c){return this.Ka(a,b,e,d,c,!1)};zc.prototype.Za=function(a,b,e,d,c,f,h){return this.mb(a,b,e,d,c,f,h)};zc.prototype.yd=function(a,b,e,d,c){var f=this.ac;f.F=e.x;f.G=e.y;f.H=e.z;var h=this.bc,k=this.Sc;h.x=d.x;h.y=d.y;h.z=d.z;h.x-=e.x;h.y-=e.y;h.z-=e.z;k.$();return this.mb(null,a,f,b,h,k,c)};zc.h=function(){return zc.instance};Kh.h=function(a,b,e){var d=a.x;var c=
a.y;a=a.z;var f=b.x;var h=b.y;b=b.z;var k=f-d;var g=h-c;var l=b-a;var m=-(k*d+g*c+l*a)/(k*k+g*g+l*l);if(0>m)return e.x=d,e.y=c,e.z=a,1;if(1<m)return e.x=f,e.y=h,e.z=b,2;e.x=d+k*m;e.y=c+g*m;e.z=a+l*m;return 3};Kh.i=function(a,b,e,d){var c=a.x;var f=a.y;var h=a.z;var k=b.x;var g=b.y;var l=b.z;var m=e.x;var n=e.y;var q=e.z;var p=k-c;var r=g-f;var t=l-h;var x=m-k;var v=n-g;var B=q-l;var H=c-m;var C=f-n;var O=h-q;var y=r*B-t*v;var A=t*x-p*B;var E=p*v-r*x;var M=-1,G,R,K=0;var oa=R=G=0;if(0>c*(r*E-t*A)+
f*(t*y-p*E)+h*(p*A-r*y)){M=a.x;G=a.y;R=a.z;oa=b.x;K=b.y;p=b.z;r=oa-M;t=K-G;var N=p-R;var Ra=-(r*M+t*G+N*R)/(r*r+t*t+N*N);0>Ra?(d.x=M,d.y=G,d.z=R,M=1):1<Ra?(d.x=oa,d.y=K,d.z=p,M=2):(d.x=M+r*Ra,d.y=G+t*Ra,d.z=R+N*Ra,M=3);K=M;M=d.x*d.x+d.y*d.y+d.z*d.z;G=d.x;R=d.y;oa=d.z}0>k*(v*E-B*A)+g*(B*y-x*E)+l*(x*A-v*y)&&(k=b.x,g=b.y,b=b.z,l=e.x,x=e.y,v=e.z,B=l-k,p=x-g,r=v-b,t=-(B*k+p*g+r*b)/(B*B+p*p+r*r),0>t?(d.x=k,d.y=g,d.z=b,b=1):1<t?(d.x=l,d.y=x,d.z=v,b=2):(d.x=k+B*t,d.y=g+p*t,d.z=b+r*t,b=3),k=d.x*d.x+d.y*d.y+
d.z*d.z,0>M||k<M)&&(K=b<<1,M=k,G=d.x,R=d.y,oa=d.z);0>m*(C*E-O*A)+n*(O*y-H*E)+q*(H*A-C*y)&&(m=a.x,n=a.y,a=a.z,q=e.x,H=e.y,e=e.z,C=q-m,O=H-n,b=e-a,k=-(C*m+O*n+b*a)/(C*C+O*O+b*b),0>k?(d.x=m,d.y=n,d.z=a,e=1):1<k?(d.x=q,d.y=H,d.z=e,e=2):(d.x=m+C*k,d.y=n+O*k,d.z=a+b*k,e=3),a=d.x*d.x+d.y*d.y+d.z*d.z,0>M||a<M)&&(K=e&1|(e&2)<<1,M=a,G=d.x,R=d.y,oa=d.z);if(0<M)return d.x=G,d.y=R,d.z=oa,K;e=y*y+A*A+E*E;0<e&&(e=1/Math.sqrt(e));y*=e;A*=e;E*=e;c=(c*y+f*A+h*E)/(y*y+A*A+E*E);d.x=y*c;d.y=A*c;d.z=E*c;return 7};Kh.C=
function(a,b,e,d,c){var f=a.x;var h=a.y;var k=a.z;var g=b.x;var l=b.y;var m=b.z;var n=e.x;var q=e.y;var p=e.z;var r=d.x;var t=d.y;var x=d.z;var v=g-f;var B=l-h;var H=m-k;var C=n-f;var O=q-h;var y=p-k;var A=r-f;var E=t-h;var M=x-k;var G=n-g;var R=q-l;var K=p-m;var oa=r-g;var N=t-l;var Ra=x-m;var Wa=B*y-H*O;var Ja=H*C-v*y;var Sa=v*O-B*C;var Aa=O*M-y*E;var La=y*A-C*M;var Fa=C*E-O*A;var L=E*H-M*B;var Z=M*v-A*H;var Y=A*B-E*v;var va=N*K-Ra*R;var Va=Ra*G-oa*K;var D=oa*R-N*G;var za=0<v*va+B*Va+H*D?1:-1,aa=
-1,Ta,ca,ia=0;var T=ca=Ta=0;if(0>(f*Wa+h*Ja+k*Sa)*za){var ka=a.x;var pa=a.y;var Ca=a.z;var V=b.x;var fa=b.y;var w=b.z;var ta=e.x;var Ga=e.y;var da=e.z;var W=V-ka;var sa=fa-pa;var la=w-Ca;var Oa=ta-V;var ab=Ga-fa;var ja=da-w;var ob=ka-ta;var Ha=pa-Ga;var I=Ca-da;var Ka=sa*ja-la*ab;var P=la*Oa-W*ja;var na=W*ab-sa*Oa;var ba=sa*na-la*P;var ea=la*Ka-W*na;var X=W*P-sa*Ka;var ma=ab*na-ja*P;var xb=ja*Ka-Oa*na;var Za=Oa*P-ab*Ka;var ib=Ha*na-I*P;var qb=I*Ka-ob*na;var lb=ob*P-Ha*Ka;var bb=-1,$a,qa,mb=0;var Db=
qa=$a=0;if(0>ka*ba+pa*ea+Ca*X){var Xa=a.x;var tb=a.y;var Ma=a.z;var Eb=b.x;var ub=b.y;var fb=b.z;var db=Eb-Xa;var gb=ub-tb;var jb=fb-Ma;var Bb=db*Xa+gb*tb+jb*Ma;Bb=-Bb/(db*db+gb*gb+jb*jb);if(0>Bb){c.x=Xa;c.y=tb;c.z=Ma;var kb=1}else if(1<Bb)c.x=Eb,c.y=ub,c.z=fb,kb=2;else{var nb=Xa+db*Bb;var Ya=tb+gb*Bb;var Nb=Ma+jb*Bb;c.x=nb;c.y=Ya;c.z=Nb;kb=3}mb=kb;bb=c.x*c.x+c.y*c.y+c.z*c.z;$a=c.x;qa=c.y;Db=c.z}if(0>V*ma+fa*xb+w*Za){var Lb=b.x;var F=b.y;var pb=b.z;var cb=e.x;var Fb=e.y;var wb=e.z;var eb=cb-Lb;var Ib=
Fb-F;var Q=wb-pb;var U=eb*Lb+Ib*F+Q*pb;U=-U/(eb*eb+Ib*Ib+Q*Q);if(0>U){c.x=Lb;c.y=F;c.z=pb;var u=1}else if(1<U)c.x=cb,c.y=Fb,c.z=wb,u=2;else{var Ab=Lb+eb*U;var rb=F+Ib*U;var ra=pb+Q*U;c.x=Ab;c.y=rb;c.z=ra;u=3}var Ua=c.x*c.x+c.y*c.y+c.z*c.z;if(0>bb||Ua<bb)mb=u<<1,bb=Ua,$a=c.x,qa=c.y,Db=c.z}if(0>ta*ib+Ga*qb+da*lb){var xa=a.x;var Pa=a.y;var hb=a.z;var yb=e.x;var Jb=e.y;var ua=e.z;var Qa=yb-xa;var wa=Jb-Pa;var Da=ua-hb;var S=Qa*xa+wa*Pa+Da*hb;S=-S/(Qa*Qa+wa*wa+Da*Da);if(0>S){c.x=xa;c.y=Pa;c.z=hb;var Na=
1}else if(1<S)c.x=yb,c.y=Jb,c.z=ua,Na=2;else{var Ia=xa+Qa*S;var Cb=Pa+wa*S;var vb=hb+Da*S;c.x=Ia;c.y=Cb;c.z=vb;Na=3}var Kb=c.x*c.x+c.y*c.y+c.z*c.z;if(0>bb||Kb<bb)mb=Na&1|(Na&2)<<1,bb=Kb,$a=c.x,qa=c.y,Db=c.z}if(0<bb){c.x=$a;c.y=qa;c.z=Db;var Gb=mb}else{var Vb=Ka*Ka+P*P+na*na;0<Vb&&(Vb=1/Math.sqrt(Vb));Ka*=Vb;P*=Vb;na*=Vb;var Rb=Ka*Ka+P*P+na*na;Rb=(ka*Ka+pa*P+Ca*na)/Rb;$a=Ka*Rb;qa=P*Rb;Db=na*Rb;c.x=$a;c.y=qa;c.z=Db;Gb=7}ia=Gb;aa=c.x*c.x+c.y*c.y+c.z*c.z;Ta=c.x;ca=c.y;T=c.z}if(0>(f*Aa+h*La+k*Fa)*za){var Wb=
a.x;var nc=a.y;var ac=a.z;var gc=e.x;var cc=e.y;var Tb=e.z;var Ub=d.x;var Qb=d.y;var hc=d.z;var bc=gc-Wb;var jc=cc-nc;var Xb=Tb-ac;var ic=Ub-gc;var vc=Qb-cc;var Yb=hc-Tb;var Sc=Wb-Ub;var Mb=nc-Qb;var mc=ac-hc;var fc=jc*Yb-Xb*vc;var Zb=Xb*ic-bc*Yb;var lc=bc*vc-jc*ic;var ed=jc*lc-Xb*Zb;var Cc=Xb*fc-bc*lc;var wc=bc*Zb-jc*fc;var sc=vc*lc-Yb*Zb;var Kc=Yb*fc-ic*lc;var tc=ic*Zb-vc*fc;var Lc=Mb*lc-mc*Zb;var Id=mc*fc-Sc*lc;var fd=Sc*Zb-Mb*fc;var Xc=-1,Dc,oc,gd=0;var kc=oc=Dc=0;if(0>Wb*ed+nc*Cc+ac*wc){var hd=
a.x;var Tc=a.y;var zd=a.z;var Ad=e.x;var id=e.y;var we=e.z;var Jd=Ad-hd;var he=id-Tc;var Td=we-zd;var Yc=Jd*hd+he*Tc+Td*zd;Yc=-Yc/(Jd*Jd+he*he+Td*Td);if(0>Yc){c.x=hd;c.y=Tc;c.z=zd;var $d=1}else if(1<Yc)c.x=Ad,c.y=id,c.z=we,$d=2;else{var He=hd+Jd*Yc;var We=Tc+he*Yc;var oe=zd+Td*Yc;c.x=He;c.y=We;c.z=oe;$d=3}gd=$d;Xc=c.x*c.x+c.y*c.y+c.z*c.z;Dc=c.x;oc=c.y;kc=c.z}if(0>gc*sc+cc*Kc+Tb*tc){var rd=e.x;var Fd=e.y;var ae=e.z;var xe=d.x;var ie=d.y;var Ec=d.z;var sd=xe-rd;var td=ie-Fd;var Bd=Ec-ae;var Zc=sd*rd+
td*Fd+Bd*ae;Zc=-Zc/(sd*sd+td*td+Bd*Bd);if(0>Zc){c.x=rd;c.y=Fd;c.z=ae;var Mc=1}else if(1<Zc)c.x=xe,c.y=ie,c.z=Ec,Mc=2;else{var ch=rd+sd*Zc;var nf=Fd+td*Zc;var Ff=ae+Bd*Zc;c.x=ch;c.y=nf;c.z=Ff;Mc=3}var Ie=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Xc||Ie<Xc)gd=Mc<<1,Xc=Ie,Dc=c.x,oc=c.y,kc=c.z}if(0>Ub*Lc+Qb*Id+hc*fd){var xg=a.x;var $c=a.y;var xc=a.z;var Hc=d.x;var of=d.y;var be=d.z;var Ud=Hc-xg;var Pd=of-$c;var Qd=be-xc;var je=Ud*xg+Pd*$c+Qd*xc;je=-je/(Ud*Ud+Pd*Pd+Qd*Qd);if(0>je){c.x=xg;c.y=$c;c.z=xc;var Fc=1}else if(1<
je)c.x=Hc,c.y=of,c.z=be,Fc=2;else{var Uc=xg+Ud*je;var Vc=$c+Pd*je;var dg=xc+Qd*je;c.x=Uc;c.y=Vc;c.z=dg;Fc=3}var Gf=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Xc||Gf<Xc)gd=Fc&1|(Fc&2)<<1,Xc=Gf,Dc=c.x,oc=c.y,kc=c.z}if(0<Xc){c.x=Dc;c.y=oc;c.z=kc;var pf=gd}else{var Vd=fc*fc+Zb*Zb+lc*lc;0<Vd&&(Vd=1/Math.sqrt(Vd));fc*=Vd;Zb*=Vd;lc*=Vd;var ye=fc*fc+Zb*Zb+lc*lc;ye=(Wb*fc+nc*Zb+ac*lc)/ye;Dc=fc*ye;oc=Zb*ye;kc=lc*ye;c.x=Dc;c.y=oc;c.z=kc;pf=7}var qf=c.x*c.x+c.y*c.y+c.z*c.z;if(0>aa||qf<aa)ia=pf&1|(pf&6)<<1,aa=qf,Ta=c.x,ca=
c.y,T=c.z}if(0>(f*L+h*Z+k*Y)*za){var Je=a.x;var Hf=a.y;var rf=a.z;var sf=b.x;var tf=b.y;var If=b.z;var Jf=d.x;var Kf=d.y;var Lf=d.z;var uf=sf-Je;var vf=tf-Hf;var Wc=If-rf;var nd=Jf-sf;var vd=Kf-tf;var ze=Lf-If;var Xe=Je-Jf;var Mf=Hf-Kf;var Ke=rf-Lf;var Nc=vf*ze-Wc*vd;var Oc=Wc*nd-uf*ze;var Ic=uf*vd-vf*nd;var pe=vf*Ic-Wc*Oc;var qe=Wc*Nc-uf*Ic;var re=uf*Oc-vf*Nc;var se=vd*Ic-ze*Oc;var te=ze*Nc-nd*Ic;var Rd=nd*Oc-vd*Nc;var Ae=Mf*Ic-Ke*Oc;var wf=Ke*Nc-Xe*Ic;var eg=Xe*Oc-Mf*Nc;var ud=-1,ke,wd,od=0;var jd=
wd=ke=0;if(0>Je*pe+Hf*qe+rf*re){var pd=a.x;var Jc=a.y;var Pc=a.z;var kd=b.x;var Ac=b.y;var Bc=b.z;var yc=kd-pd;var ad=Ac-Jc;var bd=Bc-Pc;var Gc=yc*pd+ad*Jc+bd*Pc;Gc=-Gc/(yc*yc+ad*ad+bd*bd);if(0>Gc){c.x=pd;c.y=Jc;c.z=Pc;var Be=1}else if(1<Gc)c.x=kd,c.y=Ac,c.z=Bc,Be=2;else{var Nf=pd+yc*Gc;var Ce=Jc+ad*Gc;var xf=Pc+bd*Gc;c.x=Nf;c.y=Ce;c.z=xf;Be=3}od=Be;ud=c.x*c.x+c.y*c.y+c.z*c.z;ke=c.x;wd=c.y;jd=c.z}if(0>sf*se+tf*te+If*Rd){var ce=b.x;var Ye=b.y;var ue=b.z;var Of=d.x;var Cd=d.y;var Sd=d.z;var Gd=Of-ce;
var Kd=Cd-Ye;var Ld=Sd-ue;var Dd=Gd*ce+Kd*Ye+Ld*ue;Dd=-Dd/(Gd*Gd+Kd*Kd+Ld*Ld);if(0>Dd){c.x=ce;c.y=Ye;c.z=ue;var yg=1}else if(1<Dd)c.x=Of,c.y=Cd,c.z=Sd,yg=2;else{var oh=ce+Gd*Dd;var fg=Ye+Kd*Dd;var gg=ue+Ld*Dd;c.x=oh;c.y=fg;c.z=gg;yg=3}var Pf=c.x*c.x+c.y*c.y+c.z*c.z;if(0>ud||Pf<ud)od=yg<<1,ud=Pf,ke=c.x,wd=c.y,jd=c.z}if(0>Jf*Ae+Kf*wf+Lf*eg){var zg=a.x;var De=a.y;var Le=a.z;var ve=d.x;var Wd=d.y;var Ee=d.z;var de=ve-zg;var Me=Wd-De;var Qf=Ee-Le;var Ze=de*zg+Me*De+Qf*Le;Ze=-Ze/(de*de+Me*Me+Qf*Qf);if(0>
Ze){c.x=zg;c.y=De;c.z=Le;var hg=1}else if(1<Ze)c.x=ve,c.y=Wd,c.z=Ee,hg=2;else{var ph=zg+de*Ze;var qh=De+Me*Ze;var rh=Le+Qf*Ze;c.x=ph;c.y=qh;c.z=rh;hg=3}var dh=c.x*c.x+c.y*c.y+c.z*c.z;if(0>ud||dh<ud)od=hg&1|(hg&2)<<1,ud=dh,ke=c.x,wd=c.y,jd=c.z}if(0<ud){c.x=ke;c.y=wd;c.z=jd;var $e=od}else{var af=Nc*Nc+Oc*Oc+Ic*Ic;0<af&&(af=1/Math.sqrt(af));Nc*=af;Oc*=af;Ic*=af;var ig=Nc*Nc+Oc*Oc+Ic*Ic;ig=(Je*Nc+Hf*Oc+rf*Ic)/ig;ke=Nc*ig;wd=Oc*ig;jd=Ic*ig;c.x=ke;c.y=wd;c.z=jd;$e=7}var Ag=c.x*c.x+c.y*c.y+c.z*c.z;if(0>
aa||Ag<aa)ia=$e&3|($e&4)<<1,aa=Ag,Ta=c.x,ca=c.y,T=c.z}if(0>(g*va+l*Va+m*D)*za){var eh=b.x;var Bg=b.y;var Cg=b.z;var fh=e.x;var Dg=e.y;var Eg=e.z;var Fg=d.x;var Gg=d.y;var Hg=d.z;var jg=fh-eh;var Ne=Dg-Bg;var Rf=Eg-Cg;var Ig=Fg-fh;var Sf=Gg-Dg;var gh=Hg-Eg;var cj=eh-Fg;var sh=Bg-Gg;var th=Cg-Hg;var ee=Ne*gh-Rf*Sf;var Xd=Rf*Ig-jg*gh;var Yd=jg*Sf-Ne*Ig;var uh=Ne*Yd-Rf*Xd;var vh=Rf*ee-jg*Yd;var wh=jg*Xd-Ne*ee;var xh=Sf*Yd-gh*Xd;var Tf=gh*ee-Ig*Yd;var Jg=Ig*Xd-Sf*ee;var Oh=sh*Yd-th*Xd;var hh=th*ee-cj*
Yd;var Ph=cj*Xd-sh*ee;var kg=-1,Uf,bf,Kg=0;var lg=bf=Uf=0;if(0>eh*uh+Bg*vh+Cg*wh){var cf=b.x;var yf=b.y;var Lg=b.z;var Mg=e.x;var Ng=e.y;var Og=e.z;var mg=Mg-cf;var ng=Ng-yf;var og=Og-Lg;var Oe=mg*cf+ng*yf+og*Lg;Oe=-Oe/(mg*mg+ng*ng+og*og);if(0>Oe){c.x=cf;c.y=yf;c.z=Lg;var pg=1}else if(1<Oe)c.x=Mg,c.y=Ng,c.z=Og,pg=2;else{var ih=cf+mg*Oe;var Pg=yf+ng*Oe;var Qg=Lg+og*Oe;c.x=ih;c.y=Pg;c.z=Qg;pg=3}Kg=pg;kg=c.x*c.x+c.y*c.y+c.z*c.z;Uf=c.x;bf=c.y;lg=c.z}if(0>fh*xh+Dg*Tf+Eg*Jg){var zf=e.x;var qg=e.y;var rg=
e.z;var jh=d.x;var le=d.y;var me=d.z;var Zd=jh-zf;var fe=le-qg;var ge=me-rg;var Md=Zd*zf+fe*qg+ge*rg;Md=-Md/(Zd*Zd+fe*fe+ge*ge);if(0>Md){c.x=zf;c.y=qg;c.z=rg;var ji=1}else if(1<Md)c.x=jh,c.y=le,c.z=me,ji=2;else{var Dj=zf+Zd*Md;var Ej=qg+fe*Md;var Fj=rg+ge*Md;c.x=Dj;c.y=Ej;c.z=Fj;ji=3}var dj=c.x*c.x+c.y*c.y+c.z*c.z;if(0>kg||dj<kg)Kg=ji<<1,kg=dj,Uf=c.x,bf=c.y,lg=c.z}if(0>Fg*Oh+Gg*hh+Hg*Ph){var Qh=b.x;var Af=b.y;var Vf=b.z;var Rg=d.x;var Fe=d.y;var Wf=d.z;var Pe=Rg-Qh;var Qe=Fe-Af;var Xf=Wf-Vf;var df=
Pe*Qh+Qe*Af+Xf*Vf;df=-df/(Pe*Pe+Qe*Qe+Xf*Xf);if(0>df){c.x=Qh;c.y=Af;c.z=Vf;var sg=1}else if(1<df)c.x=Rg,c.y=Fe,c.z=Wf,sg=2;else{var yh=Qh+Pe*df;var zh=Af+Qe*df;var Ah=Vf+Xf*df;c.x=yh;c.y=zh;c.z=Ah;sg=3}var kh=c.x*c.x+c.y*c.y+c.z*c.z;if(0>kg||kh<kg)Kg=sg&1|(sg&2)<<1,kg=kh,Uf=c.x,bf=c.y,lg=c.z}if(0<kg){c.x=Uf;c.y=bf;c.z=lg;var Bf=Kg}else{var ef=ee*ee+Xd*Xd+Yd*Yd;0<ef&&(ef=1/Math.sqrt(ef));ee*=ef;Xd*=ef;Yd*=ef;var tg=ee*ee+Xd*Xd+Yd*Yd;tg=(eh*ee+Bg*Xd+Cg*Yd)/tg;Uf=ee*tg;bf=Xd*tg;lg=Yd*tg;c.x=Uf;c.y=bf;
c.z=lg;Bf=7}var Sg=c.x*c.x+c.y*c.y+c.z*c.z;if(0>aa||Sg<aa)ia=Bf<<1,aa=Sg,Ta=c.x,ca=c.y,T=c.z}if(0<aa)return c.x=Ta,c.y=ca,c.z=T,ia;c.$();return 15};ha.prototype.Ia=function(a,b,e,d,c,f,h,k,g){this.e00=a;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;return this};ha.prototype.X=function(){this.e00=1;this.e10=this.e02=this.e01=0;this.e11=1;this.e21=this.e20=this.e12=0;this.e22=1;return this};ha.prototype.add=function(a){return new ha(this.e00+a.e00,this.e01+
a.e01,this.e02+a.e02,this.e10+a.e10,this.e11+a.e11,this.e12+a.e12,this.e20+a.e20,this.e21+a.e21,this.e22+a.e22)};ha.prototype.sub=function(a){return new ha(this.e00-a.e00,this.e01-a.e01,this.e02-a.e02,this.e10-a.e10,this.e11-a.e11,this.e12-a.e12,this.e20-a.e20,this.e21-a.e21,this.e22-a.e22)};ha.prototype.Za=function(a){return new ha(this.e00*a,this.e01*a,this.e02*a,this.e10*a,this.e11*a,this.e12*a,this.e20*a,this.e21*a,this.e22*a)};ha.prototype.qa=function(a){return new ha(this.e00*a.e00+this.e01*
a.e10+this.e02*a.e20,this.e00*a.e01+this.e01*a.e11+this.e02*a.e21,this.e00*a.e02+this.e01*a.e12+this.e02*a.e22,this.e10*a.e00+this.e11*a.e10+this.e12*a.e20,this.e10*a.e01+this.e11*a.e11+this.e12*a.e21,this.e10*a.e02+this.e11*a.e12+this.e12*a.e22,this.e20*a.e00+this.e21*a.e10+this.e22*a.e20,this.e20*a.e01+this.e21*a.e11+this.e22*a.e21,this.e20*a.e02+this.e21*a.e12+this.e22*a.e22)};ha.prototype.h=function(a){this.e00+=a.e00;this.e01+=a.e01;this.e02+=a.e02;this.e10+=a.e10;this.e11+=a.e11;this.e12+=a.e12;
this.e20+=a.e20;this.e21+=a.e21;this.e22+=a.e22;return this};ha.prototype.Eb=function(a){this.e00-=a.e00;this.e01-=a.e01;this.e02-=a.e02;this.e10-=a.e10;this.e11-=a.e11;this.e12-=a.e12;this.e20-=a.e20;this.e21-=a.e21;this.e22-=a.e22;return this};ha.prototype.mb=function(a){this.e00*=a;this.e01*=a;this.e02*=a;this.e10*=a;this.e11*=a;this.e12*=a;this.e20*=a;this.e21*=a;this.e22*=a;return this};ha.prototype.Ja=function(a){var b=this.e00*a.e01+this.e01*a.e11+this.e02*a.e21,e=this.e00*a.e02+this.e01*a.e12+
this.e02*a.e22,d=this.e10*a.e00+this.e11*a.e10+this.e12*a.e20,c=this.e10*a.e01+this.e11*a.e11+this.e12*a.e21,f=this.e10*a.e02+this.e11*a.e12+this.e12*a.e22,h=this.e20*a.e00+this.e21*a.e10+this.e22*a.e20,k=this.e20*a.e01+this.e21*a.e11+this.e22*a.e21,g=this.e20*a.e02+this.e21*a.e12+this.e22*a.e22;this.e00=this.e00*a.e00+this.e01*a.e10+this.e02*a.e20;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;return this};ha.prototype.Sa=function(a,b,e){return new ha(this.e00*
a,this.e01*a,this.e02*a,this.e10*b,this.e11*b,this.e12*b,this.e20*e,this.e21*e,this.e22*e)};ha.prototype.I=function(a,b,e){return new ha(this.e00*a,this.e01*b,this.e02*e,this.e10*a,this.e11*b,this.e12*e,this.e20*a,this.e21*b,this.e22*e)};ha.prototype.Ka=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new ha(a*this.e00+k*this.e10+g*this.e20,a*this.e01+k*this.e11+g*this.e21,a*this.e02+
k*this.e12+g*this.e22,l*this.e00+m*this.e10+n*this.e20,l*this.e01+m*this.e11+n*this.e21,l*this.e02+m*this.e12+n*this.e22,q*this.e00+b*this.e10+d*this.e20,q*this.e01+b*this.e11+d*this.e21,q*this.e02+b*this.e12+d*this.e22)};ha.prototype.i=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new ha(this.e00*a+this.e01*l+this.e02*q,this.e00*k+this.e01*m+this.e02*b,this.e00*g+this.e01*n+
this.e02*d,this.e10*a+this.e11*l+this.e12*q,this.e10*k+this.e11*m+this.e12*b,this.e10*g+this.e11*n+this.e12*d,this.e20*a+this.e21*l+this.e22*q,this.e20*k+this.e21*m+this.e22*b,this.e20*g+this.e21*n+this.e22*d)};ha.prototype.Xa=function(a,b,e){this.e00*=a;this.e01*=a;this.e02*=a;this.e10*=b;this.e11*=b;this.e12*=b;this.e20*=e;this.e21*=e;this.e22*=e;return this};ha.prototype.M=function(a,b,e){this.e00*=a;this.e01*=b;this.e02*=e;this.e10*=a;this.e11*=b;this.e12*=e;this.e20*=a;this.e21*=b;this.e22*=
e;return this};ha.prototype.Pa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;c=d*d*h+f;d=l*this.e00+m*this.e10+n*this.e20;e=l*this.e01+m*this.e11+n*this.e21;l=l*this.e02+m*this.e12+n*this.e22;m=q*this.e00+b*this.e10+c*this.e20;n=q*this.e01+b*this.e11+c*this.e21;q=q*this.e02+b*this.e12+c*this.e22;this.e00=a*this.e00+k*this.e10+g*this.e20;this.e01=a*this.e01+k*this.e11+g*this.e21;this.e02=a*this.e02+
k*this.e12+g*this.e22;this.e10=d;this.e11=e;this.e12=l;this.e20=m;this.e21=n;this.e22=q;return this};ha.prototype.C=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;h=d*d*h+f;d=this.e00*k+this.e01*m+this.e02*b;e=this.e00*g+this.e01*n+this.e02*h;c=this.e10*k+this.e11*m+this.e12*b;f=this.e10*g+this.e11*n+this.e12*h;k=this.e20*k+this.e21*m+this.e22*b;g=this.e20*g+this.e21*n+this.e22*h;this.e00=this.e00*
a+this.e01*l+this.e02*q;this.e01=d;this.e02=e;this.e10=this.e10*a+this.e11*l+this.e12*q;this.e11=c;this.e12=f;this.e20=this.e20*a+this.e21*l+this.e22*q;this.e21=k;this.e22=g;return this};ha.prototype.Rb=function(){return new ha(this.e00,this.e10,this.e20,this.e01,this.e11,this.e21,this.e02,this.e12,this.e22)};ha.prototype.Sb=function(){var a=this.e01,b=this.e02,e=this.e12;this.e00=this.e00;this.e01=this.e10;this.e02=this.e20;this.e10=a;this.e11=this.e11;this.e12=this.e21;this.e20=b;this.e21=e;this.e22=
this.e22;return this};ha.prototype.V=function(){return this.e00*(this.e11*this.e22-this.e12*this.e21)-this.e01*(this.e10*this.e22-this.e12*this.e20)+this.e02*(this.e10*this.e21-this.e11*this.e20)};ha.prototype.Pb=function(){return this.e00+this.e11+this.e22};ha.prototype.Y=function(){var a=this.e11*this.e22-this.e12*this.e21,b=this.e10*this.e22-this.e12*this.e20,e=this.e10*this.e21-this.e11*this.e20,d=this.e00*a-this.e01*b+this.e02*e;0!=d&&(d=1/d);return new ha(a*d,-(this.e01*this.e22-this.e02*this.e21)*
d,(this.e01*this.e12-this.e02*this.e11)*d,-b*d,(this.e00*this.e22-this.e02*this.e20)*d,-(this.e00*this.e12-this.e02*this.e10)*d,e*d,-(this.e00*this.e21-this.e01*this.e20)*d,(this.e00*this.e11-this.e01*this.e10)*d)};ha.prototype.aa=function(){var a=this.e11*this.e22-this.e12*this.e21,b=this.e10*this.e22-this.e12*this.e20,e=this.e10*this.e21-this.e11*this.e20,d=this.e00*a-this.e01*b+this.e02*e;0!=d&&(d=1/d);var c=(this.e01*this.e12-this.e02*this.e11)*d,f=(this.e00*this.e22-this.e02*this.e20)*d,h=-(this.e00*
this.e12-this.e02*this.e10)*d,k=-(this.e00*this.e21-this.e01*this.e20)*d,g=(this.e00*this.e11-this.e01*this.e10)*d;this.e00=a*d;this.e01=-(this.e01*this.e22-this.e02*this.e21)*d;this.e02=c;this.e10=-b*d;this.e11=f;this.e12=h;this.e20=e*d;this.e21=k;this.e22=g;return this};ha.prototype.Jb=function(a){null==a&&(a=!1);return a?[this.e00,this.e10,this.e20,this.e01,this.e11,this.e21,this.e02,this.e12,this.e22]:[this.e00,this.e01,this.e02,this.e10,this.e11,this.e12,this.e20,this.e21,this.e22]};ha.prototype.Dd=
function(a){this.e00=a.e00;this.e01=a.e01;this.e02=a.e02;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e20=a.e20;this.e21=a.e21;this.e22=a.e22;return this};ha.prototype.clone=function(){return new ha(this.e00,this.e01,this.e02,this.e10,this.e11,this.e12,this.e20,this.e21,this.e22)};ha.prototype.Ya=function(a){var b=a.x,e=a.y,d=a.z,c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.e00=1-g-d;this.e01=l-c;this.e02=b+h;this.e10=l+c;this.e11=1-a-d;this.e12=e-f;this.e20=
b-h;this.e21=e+f;this.e22=1-a-g;return this};ha.prototype.Ed=function(){var a=new Hb,b=this.e00,e=this.e11,d=this.e22,c=b+e+d;0<c?(b=Math.sqrt(c+1),a.w=.5*b,b=.5/b,a.x=(this.e21-this.e12)*b,a.y=(this.e02-this.e20)*b,a.z=(this.e10-this.e01)*b):b>e?b>d?(b=Math.sqrt(b-e-d+1),a.x=.5*b,b=.5/b,a.y=(this.e01+this.e10)*b,a.z=(this.e02+this.e20)*b,a.w=(this.e21-this.e12)*b):(b=Math.sqrt(d-b-e+1),a.z=.5*b,b=.5/b,a.x=(this.e02+this.e20)*b,a.y=(this.e12+this.e21)*b,a.w=(this.e10-this.e01)*b):e>d?(b=Math.sqrt(e-
d-b+1),a.y=.5*b,b=.5/b,a.x=(this.e01+this.e10)*b,a.z=(this.e12+this.e21)*b,a.w=(this.e02-this.e20)*b):(b=Math.sqrt(d-b-e+1),a.z=.5*b,b=.5/b,a.x=(this.e02+this.e20)*b,a.y=(this.e12+this.e21)*b,a.w=(this.e10-this.e01)*b);return a};ha.prototype.Wa=function(a){var b=Math.sin(a.x),e=Math.sin(a.y),d=Math.sin(a.z),c=Math.cos(a.x),f=Math.cos(a.y);a=Math.cos(a.z);this.e00=f*a;this.e01=-f*d;this.e02=e;this.e10=c*d+a*b*e;this.e11=c*a-b*e*d;this.e12=-f*b;this.e20=b*d-c*a*e;this.e21=a*b+c*e*d;this.e22=c*f;return this};
ha.prototype.Sc=function(){var a=this.e02;return-1>=a?(a=Math.atan2(this.e21,this.e11),new z(.5*a,-1.570796326794895,.5*-a)):1<=a?(a=Math.atan2(this.e21,this.e11),new z(.5*a,1.570796326794895,.5*a)):new z(Math.atan2(-this.e12,this.e22),Math.asin(a),Math.atan2(-this.e01,this.e00))};ha.prototype.ac=function(a){return 0==a?new z(this.e00,this.e01,this.e02):1==a?new z(this.e10,this.e11,this.e12):2==a?new z(this.e20,this.e21,this.e22):null};ha.prototype.Gb=function(a){return 0==a?new z(this.e00,this.e10,
this.e20):1==a?new z(this.e01,this.e11,this.e21):2==a?new z(this.e02,this.e12,this.e22):null};ha.prototype.bc=function(a,b){0==a?b.Ia(this.e00,this.e01,this.e02):1==a?b.Ia(this.e10,this.e11,this.e12):2==a?b.Ia(this.e20,this.e21,this.e22):b.$()};ha.prototype.Hb=function(a,b){0==a?b.Ia(this.e00,this.e10,this.e20):1==a?b.Ia(this.e01,this.e11,this.e21):2==a?b.Ia(this.e02,this.e12,this.e22):b.$()};ha.prototype.tb=function(a,b,e){this.e00=a.x;this.e01=a.y;this.e02=a.z;this.e10=b.x;this.e11=b.y;this.e12=
b.z;this.e20=e.x;this.e21=e.y;this.e22=e.z;return this};ha.prototype.Wb=function(a,b,e){this.e00=a.x;this.e01=b.x;this.e02=e.x;this.e10=a.y;this.e11=b.y;this.e12=e.y;this.e20=a.z;this.e21=b.z;this.e22=e.z;return this};ha.prototype.toString=function(){return"Mat3["+(0<this.e00?(1E7*this.e00+.5|0)/1E7:(1E7*this.e00-.5|0)/1E7)+", "+(0<this.e01?(1E7*this.e01+.5|0)/1E7:(1E7*this.e01-.5|0)/1E7)+", "+(0<this.e02?(1E7*this.e02+.5|0)/1E7:(1E7*this.e02-.5|0)/1E7)+",\n     "+(0<this.e10?(1E7*this.e10+.5|0)/
1E7:(1E7*this.e10-.5|0)/1E7)+", "+(0<this.e11?(1E7*this.e11+.5|0)/1E7:(1E7*this.e11-.5|0)/1E7)+", "+(0<this.e12?(1E7*this.e12+.5|0)/1E7:(1E7*this.e12-.5|0)/1E7)+",\n     "+(0<this.e20?(1E7*this.e20+.5|0)/1E7:(1E7*this.e20-.5|0)/1E7)+", "+(0<this.e21?(1E7*this.e21+.5|0)/1E7:(1E7*this.e21-.5|0)/1E7)+", "+(0<this.e22?(1E7*this.e22+.5|0)/1E7:(1E7*this.e22-.5|0)/1E7)+"]"};Ea.prototype.Ia=function(a,b,e,d,c,f,h,k,g,l,m,n,q,p,r,t){this.e00=a;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=
h;this.e13=k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=t;return this};Ea.prototype.Y=function(){this.e00=1;this.e10=this.e03=this.e02=this.e01=0;this.e11=1;this.e21=this.e20=this.e13=this.e12=0;this.e22=1;this.e32=this.e31=this.e30=this.e23=0;this.e33=1;return this};Ea.prototype.add=function(a){return new Ea(this.e00+a.e00,this.e01+a.e01,this.e02+a.e02,this.e03+a.e03,this.e10+a.e10,this.e11+a.e11,this.e12+a.e12,this.e13+a.e13,this.e20+a.e20,this.e21+a.e21,
this.e22+a.e22,this.e23+a.e23,this.e30+a.e30,this.e31+a.e31,this.e32+a.e32,this.e33+a.e33)};Ea.prototype.sub=function(a){return new Ea(this.e00-a.e00,this.e01-a.e01,this.e02-a.e02,this.e03-a.e03,this.e10-a.e10,this.e11-a.e11,this.e12-a.e12,this.e13-a.e13,this.e20-a.e20,this.e21-a.e21,this.e22-a.e22,this.e23-a.e23,this.e30-a.e30,this.e31-a.e31,this.e32-a.e32,this.e33-a.e33)};Ea.prototype.Eb=function(a){return new Ea(this.e00*a,this.e01*a,this.e02*a,this.e03*a,this.e10*a,this.e11*a,this.e12*a,this.e13*
a,this.e20*a,this.e21*a,this.e22*a,this.e23*a,this.e30*a,this.e31*a,this.e32*a,this.e33*a)};Ea.prototype.Ja=function(a){return new Ea(this.e00*a.e00+this.e01*a.e10+this.e02*a.e20+this.e03*a.e30,this.e00*a.e01+this.e01*a.e11+this.e02*a.e21+this.e03*a.e31,this.e00*a.e02+this.e01*a.e12+this.e02*a.e22+this.e03*a.e32,this.e00*a.e03+this.e01*a.e13+this.e02*a.e23+this.e03*a.e33,this.e10*a.e00+this.e11*a.e10+this.e12*a.e20+this.e13*a.e30,this.e10*a.e01+this.e11*a.e11+this.e12*a.e21+this.e13*a.e31,this.e10*
a.e02+this.e11*a.e12+this.e12*a.e22+this.e13*a.e32,this.e10*a.e03+this.e11*a.e13+this.e12*a.e23+this.e13*a.e33,this.e20*a.e00+this.e21*a.e10+this.e22*a.e20+this.e23*a.e30,this.e20*a.e01+this.e21*a.e11+this.e22*a.e21+this.e23*a.e31,this.e20*a.e02+this.e21*a.e12+this.e22*a.e22+this.e23*a.e32,this.e20*a.e03+this.e21*a.e13+this.e22*a.e23+this.e23*a.e33,this.e30*a.e00+this.e31*a.e10+this.e32*a.e20+this.e33*a.e30,this.e30*a.e01+this.e31*a.e11+this.e32*a.e21+this.e33*a.e31,this.e30*a.e02+this.e31*a.e12+
this.e32*a.e22+this.e33*a.e32,this.e30*a.e03+this.e31*a.e13+this.e32*a.e23+this.e33*a.e33)};Ea.prototype.h=function(a){this.e00+=a.e00;this.e01+=a.e01;this.e02+=a.e02;this.e03+=a.e03;this.e10+=a.e10;this.e11+=a.e11;this.e12+=a.e12;this.e13+=a.e13;this.e20+=a.e20;this.e21+=a.e21;this.e22+=a.e22;this.e23+=a.e23;this.e30+=a.e30;this.e31+=a.e31;this.e32+=a.e32;this.e33+=a.e33;return this};Ea.prototype.Pb=function(a){this.e00-=a.e00;this.e01-=a.e01;this.e02-=a.e02;this.e03-=a.e03;this.e10-=a.e10;this.e11-=
a.e11;this.e12-=a.e12;this.e13-=a.e13;this.e20-=a.e20;this.e21-=a.e21;this.e22-=a.e22;this.e23-=a.e23;this.e30-=a.e30;this.e31-=a.e31;this.e32-=a.e32;this.e33-=a.e33;return this};Ea.prototype.Jb=function(a){this.e00*=a;this.e01*=a;this.e02*=a;this.e03*=a;this.e10*=a;this.e11*=a;this.e12*=a;this.e13*=a;this.e20*=a;this.e21*=a;this.e22*=a;this.e23*=a;this.e30*=a;this.e31*=a;this.e32*=a;this.e33*=a;return this};Ea.prototype.Ka=function(a){var b=this.e00*a.e01+this.e01*a.e11+this.e02*a.e21+this.e03*a.e31,
e=this.e00*a.e02+this.e01*a.e12+this.e02*a.e22+this.e03*a.e32,d=this.e00*a.e03+this.e01*a.e13+this.e02*a.e23+this.e03*a.e33,c=this.e10*a.e00+this.e11*a.e10+this.e12*a.e20+this.e13*a.e30,f=this.e10*a.e01+this.e11*a.e11+this.e12*a.e21+this.e13*a.e31,h=this.e10*a.e02+this.e11*a.e12+this.e12*a.e22+this.e13*a.e32,k=this.e10*a.e03+this.e11*a.e13+this.e12*a.e23+this.e13*a.e33,g=this.e20*a.e00+this.e21*a.e10+this.e22*a.e20+this.e23*a.e30,l=this.e20*a.e01+this.e21*a.e11+this.e22*a.e21+this.e23*a.e31,m=this.e20*
a.e02+this.e21*a.e12+this.e22*a.e22+this.e23*a.e32,n=this.e20*a.e03+this.e21*a.e13+this.e22*a.e23+this.e23*a.e33,q=this.e30*a.e00+this.e31*a.e10+this.e32*a.e20+this.e33*a.e30,p=this.e30*a.e01+this.e31*a.e11+this.e32*a.e21+this.e33*a.e31,r=this.e30*a.e02+this.e31*a.e12+this.e32*a.e22+this.e33*a.e32,t=this.e30*a.e03+this.e31*a.e13+this.e32*a.e23+this.e33*a.e33;this.e00=this.e00*a.e00+this.e01*a.e10+this.e02*a.e20+this.e03*a.e30;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=h;this.e13=
k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=t;return this};Ea.prototype.Za=function(a,b,e){return new Ea(this.e00*a,this.e01*a,this.e02*a,this.e03*a,this.e10*b,this.e11*b,this.e12*b,this.e13*b,this.e20*e,this.e21*e,this.e22*e,this.e23*e,this.e30,this.e31,this.e32,this.e33)};Ea.prototype.I=function(a,b,e){return new Ea(this.e00*a,this.e01*b,this.e02*e,this.e03,this.e10*a,this.e11*b,this.e12*e,this.e13,this.e20*a,this.e21*b,this.e22*e,this.e23,this.e30*a,
this.e31*b,this.e32*e,this.e33)};Ea.prototype.Sa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new Ea(a*this.e00+k*this.e10+g*this.e20,a*this.e01+k*this.e11+g*this.e21,a*this.e02+k*this.e12+g*this.e22,a*this.e03+k*this.e13+g*this.e23,l*this.e00+m*this.e10+n*this.e20,l*this.e01+m*this.e11+n*this.e21,l*this.e02+m*this.e12+n*this.e22,l*this.e03+m*this.e13+n*this.e23,q*this.e00+b*
this.e10+d*this.e20,q*this.e01+b*this.e11+d*this.e21,q*this.e02+b*this.e12+d*this.e22,q*this.e03+b*this.e13+d*this.e23,this.e30,this.e31,this.e32,this.e33)};Ea.prototype.i=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new Ea(this.e00*a+this.e01*l+this.e02*q,this.e00*k+this.e01*m+this.e02*b,this.e00*g+this.e01*n+this.e02*d,this.e03,this.e10*a+this.e11*l+this.e12*q,this.e10*k+this.e11*
m+this.e12*b,this.e10*g+this.e11*n+this.e12*d,this.e13,this.e20*a+this.e21*l+this.e22*q,this.e20*k+this.e21*m+this.e22*b,this.e20*g+this.e21*n+this.e22*d,this.e23,this.e30*a+this.e31*l+this.e32*q,this.e30*k+this.e31*m+this.e32*b,this.e30*g+this.e31*n+this.e32*d,this.e33)};Ea.prototype.bc=function(a,b,e){return new Ea(this.e00+a*this.e30,this.e01+a*this.e31,this.e02+a*this.e32,this.e03+a*this.e33,this.e10+b*this.e30,this.e11+b*this.e31,this.e12+b*this.e32,this.e13+b*this.e33,this.e20+e*this.e30,this.e21+
e*this.e31,this.e22+e*this.e32,this.e23+e*this.e33,this.e30,this.e31,this.e32,this.e33)};Ea.prototype.Ya=function(a,b,e){return new Ea(this.e00,this.e01,this.e02,this.e00*a+this.e01*b+this.e02*e+this.e03,this.e10,this.e11,this.e12,this.e10*a+this.e11*b+this.e12*e+this.e13,this.e20,this.e21,this.e22,this.e20*a+this.e21*b+this.e22*e+this.e23,this.e30,this.e31,this.e32,this.e30*a+this.e31*b+this.e32*e+this.e33)};Ea.prototype.mb=function(a,b,e){this.e00*=a;this.e01*=a;this.e02*=a;this.e03*=a;this.e10*=
b;this.e11*=b;this.e12*=b;this.e13*=b;this.e20*=e;this.e21*=e;this.e22*=e;this.e23*=e;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ea.prototype.M=function(a,b,e){this.e00*=a;this.e01*=b;this.e02*=e;this.e03=this.e03;this.e10*=a;this.e11*=b;this.e12*=e;this.e13=this.e13;this.e20*=a;this.e21*=b;this.e22*=e;this.e23=this.e23;this.e30*=a;this.e31*=b;this.e32*=e;this.e33=this.e33;return this};Ea.prototype.Xa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-
f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;f=d*d*h+f;d=l*this.e00+m*this.e10+n*this.e20;e=l*this.e01+m*this.e11+n*this.e21;c=l*this.e02+m*this.e12+n*this.e22;l=l*this.e03+m*this.e13+n*this.e23;m=q*this.e00+b*this.e10+f*this.e20;n=q*this.e01+b*this.e11+f*this.e21;h=q*this.e02+b*this.e12+f*this.e22;q=q*this.e03+b*this.e13+f*this.e23;this.e00=a*this.e00+k*this.e10+g*this.e20;this.e01=a*this.e01+k*this.e11+g*this.e21;this.e02=a*this.e02+k*this.e12+
g*this.e22;this.e03=a*this.e03+k*this.e13+g*this.e23;this.e10=d;this.e11=e;this.e12=c;this.e13=l;this.e20=m;this.e21=n;this.e22=h;this.e23=q;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ea.prototype.C=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;var p=d*d*h+f;d=this.e00*k+this.e01*m+this.e02*b;e=this.e00*g+this.e01*n+this.e02*p;c=this.e10*k+this.e11*m+
this.e12*b;f=this.e10*g+this.e11*n+this.e12*p;h=this.e20*k+this.e21*m+this.e22*b;var r=this.e20*g+this.e21*n+this.e22*p;k=this.e30*k+this.e31*m+this.e32*b;g=this.e30*g+this.e31*n+this.e32*p;this.e00=this.e00*a+this.e01*l+this.e02*q;this.e01=d;this.e02=e;this.e03=this.e03;this.e10=this.e10*a+this.e11*l+this.e12*q;this.e11=c;this.e12=f;this.e13=this.e13;this.e20=this.e20*a+this.e21*l+this.e22*q;this.e21=h;this.e22=r;this.e23=this.e23;this.e30=this.e30*a+this.e31*l+this.e32*q;this.e31=k;this.e32=g;this.e33=
this.e33;return this};Ea.prototype.Sc=function(a,b,e){this.e00+=a*this.e30;this.e01+=a*this.e31;this.e02+=a*this.e32;this.e03+=a*this.e33;this.e10+=b*this.e30;this.e11+=b*this.e31;this.e12+=b*this.e32;this.e13+=b*this.e33;this.e20+=e*this.e30;this.e21+=e*this.e31;this.e22+=e*this.e32;this.e23+=e*this.e33;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ea.prototype.tb=function(a,b,e){var d=this.e00*a+this.e01*b+this.e02*e+this.e03,c=this.e10*a+this.e11*b+this.e12*
e+this.e13,f=this.e20*a+this.e21*b+this.e22*e+this.e23;a=this.e30*a+this.e31*b+this.e32*e+this.e33;this.e00=this.e00;this.e01=this.e01;this.e02=this.e02;this.e03=d;this.e10=this.e10;this.e11=this.e11;this.e12=this.e12;this.e13=c;this.e20=this.e20;this.e21=this.e21;this.e22=this.e22;this.e23=f;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=a;return this};Ea.prototype.Wb=function(){return new Ea(this.e00,this.e10,this.e20,this.e30,this.e01,this.e11,this.e21,this.e31,this.e02,this.e12,
this.e22,this.e32,this.e03,this.e13,this.e23,this.e33)};Ea.prototype.Wa=function(){var a=this.e01,b=this.e02,e=this.e12,d=this.e03,c=this.e13,f=this.e23;this.e00=this.e00;this.e01=this.e10;this.e02=this.e20;this.e03=this.e30;this.e10=a;this.e11=this.e11;this.e12=this.e21;this.e13=this.e31;this.e20=b;this.e21=e;this.e22=this.e22;this.e23=this.e32;this.e30=d;this.e31=c;this.e32=f;this.e33=this.e33;return this};Ea.prototype.V=function(){var a=this.e20*this.e31-this.e21*this.e30,b=this.e20*this.e32-this.e22*
this.e30,e=this.e20*this.e33-this.e23*this.e30,d=this.e21*this.e32-this.e22*this.e31,c=this.e21*this.e33-this.e23*this.e31,f=this.e22*this.e33-this.e23*this.e32;return this.e00*(this.e11*f-this.e12*c+this.e13*d)-this.e01*(this.e10*f-this.e12*e+this.e13*b)+this.e02*(this.e10*c-this.e11*e+this.e13*a)-this.e03*(this.e10*d-this.e11*b+this.e12*a)};Ea.prototype.Sb=function(){return this.e00+this.e11+this.e22+this.e33};Ea.prototype.aa=function(){var a=this.e00*this.e11-this.e01*this.e10,b=this.e00*this.e12-
this.e02*this.e10,e=this.e00*this.e13-this.e03*this.e10,d=this.e01*this.e12-this.e02*this.e11,c=this.e01*this.e13-this.e03*this.e11,f=this.e02*this.e13-this.e03*this.e12,h=this.e20*this.e31-this.e21*this.e30,k=this.e20*this.e32-this.e22*this.e30,g=this.e20*this.e33-this.e23*this.e30,l=this.e21*this.e32-this.e22*this.e31,m=this.e21*this.e33-this.e23*this.e31,n=this.e22*this.e33-this.e23*this.e32,q=this.e11*n-this.e12*m+this.e13*l,p=this.e10*n-this.e12*g+this.e13*k,r=this.e10*m-this.e11*g+this.e13*
h,t=this.e10*l-this.e11*k+this.e12*h,x=this.e00*q-this.e01*p+this.e02*r-this.e03*t;0!=x&&(x=1/x);return new Ea(q*x,-(this.e01*n-this.e02*m+this.e03*l)*x,(this.e31*f-this.e32*c+this.e33*d)*x,-(this.e21*f-this.e22*c+this.e23*d)*x,-p*x,(this.e00*n-this.e02*g+this.e03*k)*x,-(this.e30*f-this.e32*e+this.e33*b)*x,(this.e20*f-this.e22*e+this.e23*b)*x,r*x,-(this.e00*m-this.e01*g+this.e03*h)*x,(this.e30*c-this.e31*e+this.e33*a)*x,-(this.e20*c-this.e21*e+this.e23*a)*x,-t*x,(this.e00*l-this.e01*k+this.e02*h)*
x,-(this.e30*d-this.e31*b+this.e32*a)*x,(this.e20*d-this.e21*b+this.e22*a)*x)};Ea.prototype.qa=function(){var a=this.e00*this.e11-this.e01*this.e10,b=this.e00*this.e12-this.e02*this.e10,e=this.e00*this.e13-this.e03*this.e10,d=this.e01*this.e12-this.e02*this.e11,c=this.e01*this.e13-this.e03*this.e11,f=this.e02*this.e13-this.e03*this.e12,h=this.e20*this.e31-this.e21*this.e30,k=this.e20*this.e32-this.e22*this.e30,g=this.e20*this.e33-this.e23*this.e30,l=this.e21*this.e32-this.e22*this.e31,m=this.e21*
this.e33-this.e23*this.e31,n=this.e22*this.e33-this.e23*this.e32,q=this.e11*n-this.e12*m+this.e13*l,p=this.e10*n-this.e12*g+this.e13*k,r=this.e10*m-this.e11*g+this.e13*h,t=this.e10*l-this.e11*k+this.e12*h,x=this.e00*q-this.e01*p+this.e02*r-this.e03*t;0!=x&&(x=1/x);var v=(this.e00*n-this.e02*g+this.e03*k)*x;g=-(this.e00*m-this.e01*g+this.e03*h)*x;var B=-(this.e20*c-this.e21*e+this.e23*a)*x;h=(this.e00*l-this.e01*k+this.e02*h)*x;k=-(this.e30*d-this.e31*b+this.e32*a)*x;var H=(this.e20*d-this.e21*b+this.e22*
a)*x;this.e00=q*x;this.e01=-(this.e01*n-this.e02*m+this.e03*l)*x;this.e02=(this.e31*f-this.e32*c+this.e33*d)*x;this.e03=-(this.e21*f-this.e22*c+this.e23*d)*x;this.e10=-p*x;this.e11=v;this.e12=-(this.e30*f-this.e32*e+this.e33*b)*x;this.e13=(this.e20*f-this.e22*e+this.e23*b)*x;this.e20=r*x;this.e21=g;this.e22=(this.e30*c-this.e31*e+this.e33*a)*x;this.e23=B;this.e30=-t*x;this.e31=h;this.e32=k;this.e33=H;return this};Ea.prototype.Hb=function(a,b,e,d,c,f,h,k,g){d=a-d;c=b-c;f=e-f;var l=1/Math.sqrt(d*d+
c*c+f*f);d*=l;c*=l;f*=l;var m=k*f-g*c;g=g*d-h*f;h=h*c-k*d;l=1/Math.sqrt(m*m+g*g+h*h);m*=l;g*=l;h*=l;k=c*h-f*g;l=f*m-d*h;var n=d*g-c*m;this.e00=m;this.e01=g;this.e02=h;this.e03=-(m*a+g*b+h*e);this.e10=k;this.e11=l;this.e12=n;this.e13=-(k*a+l*b+n*e);this.e20=d;this.e21=c;this.e22=f;this.e23=-(d*a+c*b+f*e);this.e32=this.e31=this.e30=0;this.e33=1;return this};Ea.prototype.Pa=function(a,b,e,d){a=1/Math.tan(.5*a);d/=e-d;this.e00=a/b;this.e10=this.e03=this.e02=this.e01=0;this.e11=a;this.e21=this.e20=this.e13=
this.e12=0;this.e22=d;this.e23=e*d;this.e31=this.e30=0;this.e32=-1;this.e33=0;return this};Ea.prototype.ac=function(a,b,e,d){d=1/(e-d);this.e00=2/a;this.e10=this.e03=this.e02=this.e01=0;this.e11=2/b;this.e21=this.e20=this.e13=this.e12=0;this.e22=d;this.e23=e*d;this.e32=this.e31=this.e30=0;this.e33=1;return this};Ea.prototype.Rb=function(a){null==a&&(a=!1);return a?[this.e00,this.e10,this.e20,this.e30,this.e01,this.e11,this.e21,this.e31,this.e02,this.e12,this.e22,this.e32,this.e03,this.e13,this.e23,
this.e33]:[this.e00,this.e01,this.e02,this.e03,this.e10,this.e11,this.e12,this.e13,this.e20,this.e21,this.e22,this.e23,this.e30,this.e31,this.e32,this.e33]};Ea.prototype.Dd=function(a){this.e00=a.e00;this.e01=a.e01;this.e02=a.e02;this.e03=a.e03;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e13=a.e13;this.e20=a.e20;this.e21=a.e21;this.e22=a.e22;this.e23=a.e23;this.e30=a.e30;this.e31=a.e31;this.e32=a.e32;this.e33=a.e33;return this};Ea.prototype.X=function(a){this.e00=a.e00;this.e01=a.e01;this.e02=
a.e02;this.e03=0;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e13=0;this.e20=a.e20;this.e21=a.e21;this.e22=a.e22;this.e32=this.e31=this.e30=this.e23=0;this.e33=1;return this};Ea.prototype.Gb=function(a){this.e00=a.A;this.e01=a.j;this.e02=a.m;this.e10=a.o;this.e11=a.v;this.e12=a.s;this.e20=a.u;this.e21=a.l;this.e22=a.B;this.e03=a.F;this.e13=a.G;this.e23=a.H;this.e32=this.e31=this.e30=0;this.e33=1;return this};Ea.prototype.clone=function(){return new Ea(this.e00,this.e01,this.e02,this.e03,this.e10,
this.e11,this.e12,this.e13,this.e20,this.e21,this.e22,this.e23,this.e30,this.e31,this.e32,this.e33)};Ea.prototype.toString=function(){return"Mat4["+(0<this.e00?(1E7*this.e00+.5|0)/1E7:(1E7*this.e00-.5|0)/1E7)+", "+(0<this.e01?(1E7*this.e01+.5|0)/1E7:(1E7*this.e01-.5|0)/1E7)+", "+(0<this.e02?(1E7*this.e02+.5|0)/1E7:(1E7*this.e02-.5|0)/1E7)+", "+(0<this.e03?(1E7*this.e03+.5|0)/1E7:(1E7*this.e03-.5|0)/1E7)+",\n    "+(0<this.e10?(1E7*this.e10+.5|0)/1E7:(1E7*this.e10-.5|0)/1E7)+", "+(0<this.e11?(1E7*this.e11+
.5|0)/1E7:(1E7*this.e11-.5|0)/1E7)+", "+(0<this.e12?(1E7*this.e12+.5|0)/1E7:(1E7*this.e12-.5|0)/1E7)+", "+(0<this.e13?(1E7*this.e13+.5|0)/1E7:(1E7*this.e13-.5|0)/1E7)+",\n    "+(0<this.e20?(1E7*this.e20+.5|0)/1E7:(1E7*this.e20-.5|0)/1E7)+", "+(0<this.e21?(1E7*this.e21+.5|0)/1E7:(1E7*this.e21-.5|0)/1E7)+", "+(0<this.e22?(1E7*this.e22+.5|0)/1E7:(1E7*this.e22-.5|0)/1E7)+", "+(0<this.e23?(1E7*this.e23+.5|0)/1E7:(1E7*this.e23-.5|0)/1E7)+",\n    "+(0<this.e30?(1E7*this.e30+.5|0)/1E7:(1E7*this.e30-.5|0)/
1E7)+", "+(0<this.e31?(1E7*this.e31+.5|0)/1E7:(1E7*this.e31-.5|0)/1E7)+", "+(0<this.e32?(1E7*this.e32+.5|0)/1E7:(1E7*this.e32-.5|0)/1E7)+", "+(0<this.e33?(1E7*this.e33+.5|0)/1E7:(1E7*this.e33-.5|0)/1E7)+"]"};Sb.abs=function(a){return 0<a?a:-a};Sb.sin=function(a){return Math.sin(a)};Sb.cos=function(a){return Math.cos(a)};Sb.tan=function(a){return Math.tan(a)};Sb.asin=function(a){return Math.asin(a)};Sb.acos=function(a){return Math.acos(a)};Sb.atan=function(a){return Math.atan(a)};Sb.X=function(a){return-1>=
a?-1.570796326794895:1<=a?1.570796326794895:Math.asin(a)};Sb.V=function(a){return-1>=a?3.14159265358979:1<=a?0:Math.acos(a)};Sb.atan2=function(a,b){return Math.atan2(a,b)};Sb.sqrt=function(a){return Math.sqrt(a)};Sb.h=function(a,b,e){return a<b?b:a>e?e:a};Sb.i=function(){return Math.random()};Sb.C=function(a,b){return a+Math.random()*(b-a)};Sb.M=function(a,b){return new z(a+Math.random()*(b-a),a+Math.random()*(b-a),a+Math.random()*(b-a))};Sb.I=function(){return new z(-1+2*Math.random(),-1+2*Math.random(),
-1+2*Math.random())};ld.prototype.mb=function(){return 0==this.h?new z:this.i[--this.h]};ld.prototype.Sa=function(){return 0==this.I?new ha:this.C[--this.I]};ld.prototype.Xa=function(){return 0==this.Y?new Ea:this.X[--this.Y]};ld.prototype.Za=function(){return 0==this.V?new Hb:this.M[--this.V]};ld.prototype.aa=function(a,b,e,d){if(null!=a){a.$();if(this.h==this.i.length){for(var c=Array(this.h<<1),f=0,h=this.h;f<h;){var k=f++;c[k]=this.i[k];this.i[k]=null}this.i=c}this.i[this.h++]=a}if(null!=b){b.e00=
1;b.e01=0;b.e02=0;b.e10=0;b.e11=1;b.e12=0;b.e20=0;b.e21=0;b.e22=1;if(this.I==this.C.length){a=Array(this.I<<1);c=0;for(f=this.I;c<f;)h=c++,a[h]=this.C[h],this.C[h]=null;this.C=a}this.C[this.I++]=b}if(null!=e){e.e00=1;e.e01=0;e.e02=0;e.e03=0;e.e10=0;e.e11=1;e.e12=0;e.e13=0;e.e20=0;e.e21=0;e.e22=1;e.e23=0;e.e30=0;e.e31=0;e.e32=0;e.e33=1;if(this.Y==this.X.length){b=Array(this.Y<<1);a=0;for(c=this.Y;a<c;)f=a++,b[f]=this.X[f],this.X[f]=null;this.X=b}this.X[this.Y++]=e}if(null!=d){d.x=0;d.y=0;d.z=0;d.w=
1;if(this.V==this.M.length){e=Array(this.V<<1);b=0;for(a=this.V;b<a;)c=b++,e[c]=this.M[c],this.M[c]=null;this.M=e}this.M[this.V++]=d}};ld.prototype.Pa=function(a){a.$();if(this.h==this.i.length){for(var b=Array(this.h<<1),e=0,d=this.h;e<d;){var c=e++;b[c]=this.i[c];this.i[c]=null}this.i=b}this.i[this.h++]=a};ld.prototype.qa=function(a){a.e00=1;a.e01=0;a.e02=0;a.e10=0;a.e11=1;a.e12=0;a.e20=0;a.e21=0;a.e22=1;if(this.I==this.C.length){for(var b=Array(this.I<<1),e=0,d=this.I;e<d;){var c=e++;b[c]=this.C[c];
this.C[c]=null}this.C=b}this.C[this.I++]=a};ld.prototype.Ja=function(a){a.e00=1;a.e01=0;a.e02=0;a.e03=0;a.e10=0;a.e11=1;a.e12=0;a.e13=0;a.e20=0;a.e21=0;a.e22=1;a.e23=0;a.e30=0;a.e31=0;a.e32=0;a.e33=1;if(this.Y==this.X.length){for(var b=Array(this.Y<<1),e=0,d=this.Y;e<d;){var c=e++;b[c]=this.X[c];this.X[c]=null}this.X=b}this.X[this.Y++]=a};ld.prototype.Ka=function(a){a.x=0;a.y=0;a.z=0;a.w=1;if(this.V==this.M.length){for(var b=Array(this.V<<1),e=0,d=this.V;e<d;){var c=e++;b[c]=this.M[c];this.M[c]=null}this.M=
b}this.M[this.V++]=a};Hb.prototype.I=function(){this.z=this.y=this.x=0;this.w=1;return this};Hb.prototype.Ia=function(a,b,e,d){this.x=a;this.y=b;this.z=e;this.w=d;return this};Hb.prototype.add=function(a){return new Hb(this.x+a.x,this.y+a.y,this.z+a.z,this.w+a.w)};Hb.prototype.sub=function(a){return new Hb(this.x-a.x,this.y-a.y,this.z-a.z,this.w-a.w)};Hb.prototype.Y=function(a){return new Hb(this.x*a,this.y*a,this.z*a,this.w*a)};Hb.prototype.h=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=
a.w;return this};Hb.prototype.qa=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this};Hb.prototype.aa=function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};Hb.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)};Hb.prototype.M=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w};Hb.prototype.i=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};Hb.prototype.X=function(){var a=Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w);0<a&&(a=1/a);return new Hb(this.x*a,this.y*a,this.z*a,this.w*a)};Hb.prototype.V=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0<a&&(a=1/a);this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};Hb.prototype.Ja=function(a,b){var e=a.x,d=a.y;a=a.z;var c=b.x,f=b.y;b=b.z;this.w=Math.sqrt(.5*(1+(e*c+d*f+a*b)));if(0==this.w){c=e*e;f=d*d;b=a*a;if(c<f)if(c<b){var h=1/Math.sqrt(f+b);this.x=0;this.y=a*h;this.z=-d*h}else h=
1/Math.sqrt(c+f),this.z=0,this.x=d*h,this.y=-e*h;else f<b?(h=1/Math.sqrt(b+c),this.y=0,this.z=e*h,this.x=-a*h):(h=1/Math.sqrt(c+f),this.z=0,this.x=d*h,this.y=-e*h);return this}h=.5/this.w;this.x=(d*b-a*f)*h;this.y=(a*c-e*b)*h;this.z=(e*f-d*c)*h;return this};Hb.prototype.Ka=function(a,b){var e=this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w;if(0>e){e=-e;var d=-a.x;var c=-a.y;var f=-a.z;a=-a.w}else d=a.x,c=a.y,f=a.z,a=a.w;if(.999999<e)return d=new Hb(this.x+(d-this.x)*b,this.y+(c-this.y)*b,this.z+(f-this.z)*
b,this.w+(a-this.w)*b),c=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z+d.w*d.w),0<c&&(c=1/c),d.x*=c,d.y*=c,d.z*=c,d.w*=c,d;b*=Math.acos(e);d-=this.x*e;c-=this.y*e;f-=this.z*e;a-=this.w*e;e=1/Math.sqrt(d*d+c*c+f*f+a*a);var h=Math.sin(b);b=Math.cos(b);return new Hb(this.x*b+d*e*h,this.y*b+c*e*h,this.z*b+f*e*h,this.w*b+a*e*h)};Hb.prototype.Dd=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this};Hb.prototype.clone=function(){return new Hb(this.x,this.y,this.z,this.w)};Hb.prototype.C=function(a){var b=
a.e00,e=a.e11,d=a.e22,c=b+e+d;0<c?(b=Math.sqrt(c+1),this.w=.5*b,b=.5/b,this.x=(a.e21-a.e12)*b,this.y=(a.e02-a.e20)*b,this.z=(a.e10-a.e01)*b):b>e?b>d?(b=Math.sqrt(b-e-d+1),this.x=.5*b,b=.5/b,this.y=(a.e01+a.e10)*b,this.z=(a.e02+a.e20)*b,this.w=(a.e21-a.e12)*b):(b=Math.sqrt(d-b-e+1),this.z=.5*b,b=.5/b,this.x=(a.e02+a.e20)*b,this.y=(a.e12+a.e21)*b,this.w=(a.e10-a.e01)*b):e>d?(b=Math.sqrt(e-d-b+1),this.y=.5*b,b=.5/b,this.x=(a.e01+a.e10)*b,this.z=(a.e12+a.e21)*b,this.w=(a.e02-a.e20)*b):(b=Math.sqrt(d-
b-e+1),this.z=.5*b,b=.5/b,this.x=(a.e02+a.e20)*b,this.y=(a.e12+a.e21)*b,this.w=(a.e10-a.e01)*b);return this};Hb.prototype.Pa=function(){var a=new ha,b=this.x,e=this.y,d=this.z,c=this.w,f=2*b,h=2*e,k=2*d,g=b*f,l=e*h;d*=k;var m=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;a.e00=1-l-d;a.e01=m-c;a.e02=b+h;a.e10=m+c;a.e11=1-g-d;a.e12=e-f;a.e20=b-h;a.e21=e+f;a.e22=1-g-l;return a};Hb.prototype.toString=function(){return"Quat["+(0<this.x?(1E7*this.x+.5|0)/1E7:(1E7*this.x-.5|0)/1E7)+" i,\n    "+(0<this.y?(1E7*this.y+.5|0)/
1E7:(1E7*this.y-.5|0)/1E7)+" j,\n    "+(0<this.z?(1E7*this.z+.5|0)/1E7:(1E7*this.z-.5|0)/1E7)+" k,\n    "+(0<this.w?(1E7*this.w+.5|0)/1E7:(1E7*this.w-.5|0)/1E7)+"]"};Hd.prototype.Oi=function(){if(null!=this.Yf){var a=this.xd,b=this.X;this.Yf.Hi(b,this.ic.Tb,this.jc.Tb,this.ic.g,this.jc.g,this.Eg);(this.xd=0<b.numPoints)?(this.Ta.h(b.normal),this.ee.pf=b.h()>Ba.contactUseAlternativePositionCorrectionAlgorithmDepthThreshold?Ba.alternativeContactPositionCorrectionAlgorithm:Ba.defaultContactPositionCorrectionAlgorithm,
b.incremental?this.h.X(b,this.J.g,this.K.g):this.h.aa(b,this.J.g,this.K.g)):this.Ta.de();if(this.xd&&!a){b=this.ic.ld;var e=this.jc.ld;b==e&&(e=null);null!=b&&b.beginContact(this);null!=e&&e.beginContact(this)}!this.xd&&a&&(a=this.ic.ld,b=this.jc.ld,a==b&&(b=null),null!=a&&a.endContact(this),null!=b&&b.endContact(this));this.xd&&(a=this.ic.ld,b=this.jc.ld,a==b&&(b=null),null!=a&&a.preSolve(this),null!=b&&b.preSolve(this))}};Hd.prototype.Wh=function(){var a=this.ic.ld,b=this.jc.ld;a==b&&(b=null);null!=
a&&a.postSolve(this);null!=b&&b.postSolve(this)};Hd.prototype.M=function(){return this.ic};Hd.prototype.V=function(){return this.jc};Hd.prototype.vh=function(){return this.xd};Hd.prototype.i=function(){return this.Ta};Hd.prototype.Y=function(){return this.ee};Hd.prototype.I=function(){return this.sa};Hd.prototype.C=function(){return this.U};Ef.prototype.h=function(){return this.zd};Ef.prototype.C=function(){return this.Fc};Ef.prototype.I=function(){return this.sa};Ef.prototype.i=function(){return this.U};
ug.prototype.I=function(){for(var a=this.nc.Cd;null!=a;){var b=a.U;if(a.Nf.uc<a.Of.uc){var e=a.Nf.userData;a=a.Of.userData}else e=a.Of.userData,a=a.Nf.userData;if(this.h(e,a)){var d=e.hc,c=a.hc;d=d.Pd<c.Pd?d.Yb:c.Yb;c=e.uc;for(var f=a.uc,h=!1;null!=d;){var k=d.zd;if(k.ic.uc==c&&k.jc.uc==f){h=k.fh=!0;break}d=d.U}h||(d=this.$e,null!=d?(this.$e=d.U,d.U=null):d=new Hd,null==this.md?this.md=d:(this.Nd.U=d,d.sa=this.Nd),this.Nd=d,d.fh=!0,c=this.C.h[e.Tb.$b][a.Tb.$b],d.ic=e,d.jc=a,d.J=e.hc,d.K=a.hc,d.xd=
!1,null==d.J.Yb?d.J.Yb=d.Bb:(d.J.oc.U=d.Bb,d.Bb.sa=d.J.oc),d.J.oc=d.Bb,null==d.K.Yb?d.K.Yb=d.Cb:(d.K.oc.U=d.Cb,d.Cb.sa=d.K.oc),d.K.oc=d.Cb,d.J.Pd++,d.K.Pd++,d.Bb.Fc=d.K,d.Cb.Fc=d.J,d.Bb.zd=d,d.Cb.zd=d,d.Yf=c,d=d.ee,d.ic=e,d.jc=a,d.J=d.ic.hc,d.K=d.jc.hc,d.Jg=d.J.g,d.Kg=d.K.g,this.pg++)}a=b}};ug.prototype.M=function(){for(var a=this.nc.eh,b=this.md;null!=b;){var e=b.U;if(b.fh)b.fh=!1,b.lh=!1;else if(a){var d=b.ic,c=b.jc,f=d.hc,h=c.hc;if(!f.Ob&&1!=f.$b||!h.Ob&&1!=h.$b){f=d.D;h=c.D;var k=d.Fb,g=c.Fb;
k.R<g.N&&k.N>g.R&&k.S<g.O&&k.O>g.S&&k.T<g.P&&k.P>g.T&&this.h(d,c)?b.lh=!(f.wa<h.ta&&f.ta>h.wa&&f.xa<h.ua&&f.ua>h.xa&&f.ya<h.va&&f.va>h.ya):(d=b.sa,c=b.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b==this.md&&(this.md=this.md.U),b==this.Nd&&(this.Nd=this.Nd.sa),b.U=null,b.sa=null,b.xd&&(d=b.ic.ld,c=b.jc.ld,d==c&&(c=null),null!=d&&d.endContact(b),null!=c&&c.endContact(b)),d=b.Bb.sa,c=b.Bb.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b.Bb==b.J.Yb&&(b.J.Yb=b.J.Yb.U),b.Bb==b.J.oc&&(b.J.oc=b.J.oc.sa),b.Bb.U=null,b.Bb.sa=
null,d=b.Cb.sa,c=b.Cb.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b.Cb==b.K.Yb&&(b.K.Yb=b.K.Yb.U),b.Cb==b.K.oc&&(b.K.oc=b.K.oc.sa),b.Cb.U=null,b.Cb.sa=null,b.J.Pd--,b.K.Pd--,b.Bb.Fc=null,b.Cb.Fc=null,b.Bb.zd=null,b.Cb.zd=null,b.ic=null,b.jc=null,b.J=null,b.K=null,b.xd=!1,b.Eg.de(),b.Ta.de(),b.Yf=null,d=b.ee,d.ic=null,d.jc=null,d.J=null,d.K=null,d.Jg=null,d.Kg=null,b.U=this.$e,this.$e=b,this.pg--)}else b.lh=!0}else d=b.sa,c=b.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b==this.md&&(this.md=this.md.U),b==this.Nd&&
(this.Nd=this.Nd.sa),b.U=null,b.sa=null,b.xd&&(d=b.ic.ld,c=b.jc.ld,d==c&&(c=null),null!=d&&d.endContact(b),null!=c&&c.endContact(b)),d=b.Bb.sa,c=b.Bb.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b.Bb==b.J.Yb&&(b.J.Yb=b.J.Yb.U),b.Bb==b.J.oc&&(b.J.oc=b.J.oc.sa),b.Bb.U=null,b.Bb.sa=null,d=b.Cb.sa,c=b.Cb.U,null!=d&&(d.U=c),null!=c&&(c.sa=d),b.Cb==b.K.Yb&&(b.K.Yb=b.K.Yb.U),b.Cb==b.K.oc&&(b.K.oc=b.K.oc.sa),b.Cb.U=null,b.Cb.sa=null,b.J.Pd--,b.K.Pd--,b.Bb.Fc=null,b.Cb.Fc=null,b.Bb.zd=null,b.Cb.zd=null,b.ic=null,
b.jc=null,b.J=null,b.K=null,b.xd=!1,b.Eg.de(),b.Ta.de(),b.Yf=null,d=b.ee,d.ic=null,d.jc=null,d.J=null,d.K=null,d.Jg=null,d.Kg=null,b.U=this.$e,this.$e=b,this.pg--;b=e}};ug.prototype.h=function(a,b){var e=a.hc,d=b.hc;if(e==d||0!=e.$b&&0!=d.$b||0==(a.$g&b.ah)||0==(b.$g&a.ah))return!1;e.Mf<d.Mf?(a=e.Od,e=d):a=d.Od;for(;null!=a;){if(a.Fc==e&&!a.Th.Ph)return!1;a=a.U}return!0};ug.prototype.i=function(){this.nc.qg();this.I();this.M()};ug.prototype.Wh=function(){for(var a=this.md;null!=a;){var b=a.U;a.xd&&
a.Wh();a=b}};ug.prototype.X=function(){return this.pg};ug.prototype.V=function(){return this.md};Mj.prototype.de=function(){for(;0<this.h;)this.C[--this.h]=null;for(;0<this.i;)this.I[--this.i]=null;for(;0<this.V;)this.Y[--this.V]=null;for(;0<this.M;)this.X[--this.M]=null};Mj.prototype.aa=function(a){if(this.h==this.C.length){for(var b=Array(this.h<<1),e=0,d=this.h;e<d;){var c=e++;b[c]=this.C[c];this.C[c]=null}this.C=b}a.Ke=!0;this.C[this.h++]=a};Mj.prototype.qa=function(a,b){if(this.i==this.I.length){for(var e=
Array(this.i<<1),d=0,c=this.i;d<c;){var f=d++;e[f]=this.I[f];this.I[f]=null}this.I=e}a.Ke=!0;this.I[this.i++]=a;if(b==Jh.SPLIT_IMPULSE){if(this.V==this.Y.length){e=Array(this.V<<1);d=0;for(c=this.V;d<c;)f=d++,e[f]=this.Y[f],this.Y[f]=null;this.Y=e}this.Y[this.V++]=a}if(b==Jh.NGS){if(this.M==this.X.length){b=Array(this.M<<1);e=0;for(d=this.M;e<d;)c=e++,b[c]=this.X[c],this.X[c]=null;this.X=b}this.X[this.M++]=a}};Mj.prototype.Xa=function(a,b){a=a.dt;var e=b.za,d=b.g;e.F=d.F;e.G=d.G;e.H=d.H;e.A=d.A;e.j=
d.j;e.m=d.m;e.o=d.o;e.v=d.v;e.s=d.s;e.u=d.u;e.l=d.l;e.B=d.B;b.If=0;b.Jf=0;b.Kf=0;b.Ef=0;b.Ff=0;b.Gf=0;b.Qh&&b.ub*b.ub+b.vb*b.vb+b.wb*b.wb<b.nh*b.nh&&b.xb*b.xb+b.yb*b.yb+b.zb*b.zb<b.mh*b.mh?(b.Kb+=a,b.Kb>=b.Fi&&(b.Ob=!0,b.Kb=0)):b.Kb=0;if(!b.Ob){if(0==b.$b){e=a*b.gh;d=e*e;e=1/(1+e+d*(.5+.16666666666666666*e+.041666666666666664*d));d=a*b.Xg;var c=d*d;d=1/(1+d+c*(.5+.16666666666666666*d+.041666666666666664*c));c=this.Ja*b.Hf;var f=this.Ka*b.Hf;var h=this.Pa*b.Hf;c+=b.Zf*b.Ab;f+=b.$f*b.Ab;h+=b.ag*b.Ab;
var k=b.ba*b.De+b.ca*b.Ee+b.da*b.Fe;var g=b.ea*b.De+b.fa*b.Ee+b.ga*b.Fe;var l=b.ha*b.De+b.ia*b.Ee+b.ja*b.Fe;b.ub+=c*a;b.vb+=f*a;b.wb+=h*a;b.ub*=e;b.vb*=e;b.wb*=e;b.xb+=k*a;b.yb+=g*a;b.zb+=l*a;b.xb*=d;b.yb*=d;b.zb*=d}b.Di(a);for(a=b.vc;null!=a;){e=a.U;c=b.za;d=b.g;f=a.za;h=a.ra;l=c.A*h.A+c.j*h.o+c.m*h.u;k=c.A*h.j+c.j*h.v+c.m*h.l;g=c.A*h.m+c.j*h.s+c.m*h.B;var m=c.o*h.A+c.v*h.o+c.s*h.u;var n=c.o*h.j+c.v*h.v+c.s*h.l;var q=c.o*h.m+c.v*h.s+c.s*h.B;var p=c.u*h.A+c.l*h.o+c.B*h.u;var r=c.u*h.j+c.l*h.v+c.B*
h.l;var t=c.u*h.m+c.l*h.s+c.B*h.B;f.A=l;f.j=k;f.m=g;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;l=c.A*h.F+c.j*h.G+c.m*h.H;k=c.o*h.F+c.v*h.G+c.s*h.H;h=c.u*h.F+c.l*h.G+c.B*h.H;f.F=l;f.G=k;f.H=h;f.F+=c.F;f.G+=c.G;f.H+=c.H;c=a.g;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;l=d.A*f.j+d.j*f.v+d.m*f.l;k=d.A*f.m+d.j*f.s+d.m*f.B;g=d.o*f.A+d.v*f.o+d.s*f.u;m=d.o*f.j+d.v*f.v+d.s*f.l;n=d.o*f.m+d.v*f.s+d.s*f.B;q=d.u*f.A+d.l*f.o+d.B*f.u;p=d.u*f.j+d.l*f.v+d.B*f.l;r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=l;c.m=k;c.o=g;c.v=m;c.s=n;c.u=q;c.l=
p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;l=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=l;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;a.Tb.Xb(a.D,a.za);d=a.D.wa;c=a.D.xa;f=a.D.ya;h=a.D.ta;l=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=c<a.D.xa?c:a.D.xa;a.D.ya=f<a.D.ya?f:a.D.ya;a.D.ta=h>a.D.ta?h:a.D.ta;a.D.ua=l>a.D.ua?l:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(d=a.g.F-a.za.F,c=a.g.G-a.za.G,f=a.g.H-a.za.H,h=a.qc,h.x=d,h.y=c,h.z=f,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=e}}};Mj.prototype.Sa=
function(a,b,e){for(var d=a.dt,c=!0,f=0,h=this.h;f<h;){var k=this.C[f++],g=k.za,l=k.g;g.F=l.F;g.G=l.G;g.H=l.H;g.A=l.A;g.j=l.j;g.m=l.m;g.o=l.o;g.v=l.v;g.s=l.s;g.u=l.u;g.l=l.l;g.B=l.B;k.If=0;k.Jf=0;k.Kf=0;k.Ef=0;k.Ff=0;k.Gf=0;k.Ob=!1;k.Qh&&k.ub*k.ub+k.vb*k.vb+k.wb*k.wb<k.nh*k.nh&&k.xb*k.xb+k.yb*k.yb+k.zb*k.zb<k.mh*k.mh?k.Kb+=d:k.Kb=0;k.Kb<k.Fi&&(c=!1);if(0==k.$b){g=d*k.gh;l=g*g;g=1/(1+g+l*(.5+.16666666666666666*g+.041666666666666664*l));l=d*k.Xg;var m=l*l;l=1/(1+l+m*(.5+.16666666666666666*l+.041666666666666664*
m));m=this.Ja*k.Hf;var n=this.Ka*k.Hf;var q=this.Pa*k.Hf;m+=k.Zf*k.Ab;n+=k.$f*k.Ab;q+=k.ag*k.Ab;var p=k.ba*k.De+k.ca*k.Ee+k.da*k.Fe;var r=k.ea*k.De+k.fa*k.Ee+k.ga*k.Fe;var t=k.ha*k.De+k.ia*k.Ee+k.ja*k.Fe;k.ub+=m*d;k.vb+=n*d;k.wb+=q*d;k.ub*=g;k.vb*=g;k.wb*=g;k.xb+=p*d;k.yb+=r*d;k.zb+=t*d;k.xb*=l;k.yb*=l;k.zb*=l}}if(c)for(a=0,e=this.h;a<e;)d=this.C[a++],d.Ob=!0,d.Kb=0;else{c=0;for(f=this.i;c<f;)this.I[c++].Rf(a);c=0;for(f=this.i;c<f;)this.I[c++].Wf(a);for(c=0;c<b;)for(++c,f=0,h=this.i;f<h;)this.I[f++].Vf();
b=0;for(c=this.i;b<c;)this.I[b++].rg(a);b=0;for(c=this.h;b<c;)this.C[b++].Di(d);d=0;for(b=this.V;d<b;)this.Y[d++].Bf(a);for(d=0;d<e;)for(++d,b=0,c=this.V;b<c;)this.Y[b++].Uf();d=0;for(b=this.h;d<b;)this.C[d++].Ni();d=0;for(b=this.M;d<b;)this.X[d++].Bf(a);for(d=0;d<e;)for(++d,b=0,c=this.M;b<c;)this.X[b++].Tf(a);a=0;for(e=this.i;a<e;)this.I[a++].postSolve();a=0;for(e=this.h;a<e;)for(d=this.C[a++],b=d.vc;null!=b;){c=b.U;h=d.za;f=d.g;k=b.za;g=b.ra;l=h.A*g.A+h.j*g.o+h.m*g.u;m=h.A*g.j+h.j*g.v+h.m*g.l;n=
h.A*g.m+h.j*g.s+h.m*g.B;q=h.o*g.A+h.v*g.o+h.s*g.u;p=h.o*g.j+h.v*g.v+h.s*g.l;t=h.o*g.m+h.v*g.s+h.s*g.B;r=h.u*g.A+h.l*g.o+h.B*g.u;var x=h.u*g.j+h.l*g.v+h.B*g.l;var v=h.u*g.m+h.l*g.s+h.B*g.B;k.A=l;k.j=m;k.m=n;k.o=q;k.v=p;k.s=t;k.u=r;k.l=x;k.B=v;l=h.A*g.F+h.j*g.G+h.m*g.H;m=h.o*g.F+h.v*g.G+h.s*g.H;g=h.u*g.F+h.l*g.G+h.B*g.H;k.F=l;k.G=m;k.H=g;k.F+=h.F;k.G+=h.G;k.H+=h.H;h=b.g;k=b.ra;g=f.A*k.A+f.j*k.o+f.m*k.u;l=f.A*k.j+f.j*k.v+f.m*k.l;m=f.A*k.m+f.j*k.s+f.m*k.B;n=f.o*k.A+f.v*k.o+f.s*k.u;q=f.o*k.j+f.v*k.v+f.s*
k.l;p=f.o*k.m+f.v*k.s+f.s*k.B;t=f.u*k.A+f.l*k.o+f.B*k.u;r=f.u*k.j+f.l*k.v+f.B*k.l;x=f.u*k.m+f.l*k.s+f.B*k.B;h.A=g;h.j=l;h.m=m;h.o=n;h.v=q;h.s=p;h.u=t;h.l=r;h.B=x;g=f.A*k.F+f.j*k.G+f.m*k.H;l=f.o*k.F+f.v*k.G+f.s*k.H;k=f.u*k.F+f.l*k.G+f.B*k.H;h.F=g;h.G=l;h.H=k;h.F+=f.F;h.G+=f.G;h.H+=f.H;b.Tb.Xb(b.D,b.za);f=b.D.wa;h=b.D.xa;k=b.D.ya;g=b.D.ta;l=b.D.ua;m=b.D.va;b.Tb.Xb(b.D,b.g);b.D.wa=f<b.D.wa?f:b.D.wa;b.D.xa=h<b.D.xa?h:b.D.xa;b.D.ya=k<b.D.ya?k:b.D.ya;b.D.ta=g>b.D.ta?g:b.D.ta;b.D.ua=l>b.D.ua?l:b.D.ua;b.D.va=
m>b.D.va?m:b.D.va;null!=b.Fb&&(f=b.g.F-b.za.F,h=b.g.G-b.za.G,k=b.g.H-b.za.H,g=b.qc,g.x=f,g.y=h,g.z=k,b.hc.pc.nc.fd(b.Fb,b.D,b.qc));b=c}}};sb.prototype.Wa=function(){var a=Nh.h()/1E3;this.Xf.i();ii.broadPhaseCollisionTime=1E3*(Nh.h()/1E3-a);a=Nh.h()/1E3;for(var b=this.Xf.md;null!=b;){var e=b.U;b.lh||b.Oi();b=e}ii.narrowPhaseCollisionTime=1E3*(Nh.h()/1E3-a)};sb.prototype.je=function(){var a=Nh.h()/1E3;if(Ba.disableSleeping)for(var b=this.I;null!=b;)b.Ob=!1,b.Kb=0,b=b.U;if(this.X.length<this.Sa){for(b=
this.X.length<<1;b<this.Sa;)b<<=1;this.X=Array(b)}this.Xa=0;b=this.M;var e=this.Jb;b.Ja=e.x;b.Ka=e.y;b.Pa=e.z;b=this.I;for(this.C=0;null!=b;){for(e=b.U;!b.Ke&&!b.Ob&&1!=b.$b;){if(0==b.Pd&&0==b.Mf){this.M.Xa(this.aa,b);this.Xa++;break}this.rf(b);this.M.Sa(this.aa,this.Sb,this.Rb);this.M.de();this.Xa++;break}b=e}this.Xf.Wh();for(b=this.I;null!=b;)b.Ke=!1,b=b.U;for(b=this.I;null!=b;)b.Zf=0,b.$f=0,b.ag=0,b.De=0,b.Ee=0,b.Fe=0,b=b.U;for(;0<this.C;)this.i[--this.C].Ke=!1,this.i[this.C]=null;ii.dynamicsTime=
1E3*(Nh.h()/1E3-a)};sb.prototype.rf=function(a){var b=1;this.M.aa(a);for(this.X[0]=a;0<b;)if(a=this.X[--b],this.X[b]=null,1!=a.$b){for(var e=a.Yb;null!=e;){var d=e.U,c=e.zd.ee,f=e.zd.ee.oh;if(c.vh()&&!f.Ke){if(this.i.length==this.C){for(var h=Array(this.C<<1),k=0,g=this.C;k<g;){var l=k++;h[l]=this.i[l];this.i[l]=null}this.i=h}this.i[this.C++]=f;this.M.qa(f,c.pf);e=e.Fc;e.Ke||(this.M.aa(e),this.X[b++]=e)}e=d}for(d=a.Od;null!=d;){a=d.U;e=d.Th;c=e.oh;if(!c.Ke){if(this.i.length==this.C){f=Array(this.C<<
1);h=0;for(k=this.C;h<k;)g=h++,f[g]=this.i[g],this.i[g]=null;this.i=f}this.i[this.C++]=c;this.M.qa(c,e.pf);d=d.Fc;d.Ke||(this.M.aa(d),this.X[b++]=d)}d=a}}};sb.prototype.ac=function(a,b){a.drawBvh&&this.Eb(a,b.Zb,0,a.style.bvhNodeColor)};sb.prototype.Eb=function(a,b,e,d){if(null!=b){if(e>=a.drawBvhMinLevel&&e<=a.drawBvhMaxLevel){var c=this.h,f=0==c.h?new z:c.i[--c.h];c=this.h;c=0==c.h?new z:c.i[--c.h];f.x=b.R;f.y=b.S;f.z=b.T;c.x=b.N;c.y=b.O;c.z=b.P;a.aabb(f,c,d);var h=this.h;if(null!=f){f.$();if(h.h==
h.i.length){for(var k=Array(h.h<<1),g=0,l=h.h;g<l;){var m=g++;k[m]=h.i[m];h.i[m]=null}h.i=k}h.i[h.h++]=f}f=this.h;if(null!=c){c.$();if(f.h==f.i.length){h=Array(f.h<<1);k=0;for(g=f.h;k<g;)l=k++,h[l]=f.i[l],f.i[l]=null;f.i=h}f.i[f.h++]=c}}this.Eb(a,b.L[0],e+1,d);this.Eb(a,b.L[1],e+1,d)}};sb.prototype.Ed=function(a){for(var b=a.style,e=this.I;null!=e;){var d=e.U;if(a.drawBases){var c=a.style;a.basis(e.g,c.basisLength,c.basisColorX,c.basisColorY,c.basisColorZ)}var f=null,h=0==e.$b;h||(f=2==e.$b?b.kinematicShapeColor:
b.staticShapeColor);for(var k=e.vc;null!=k;){var g=k.U;h&&(f=0==(k.uc&1)?e.Ob?b.sleepingShapeColor1:e.Kb>Ba.sleepingTimeThreshold?b.sleepyShapeColor1:b.shapeColor1:e.Ob?b.sleepingShapeColor2:e.Kb>Ba.sleepingTimeThreshold?b.sleepyShapeColor2:b.shapeColor2);if(a.drawShapes){var l=k.Tb,m=k.g;switch(l.$b){case 0:a.sphere(m,l.nb,f);break;case 1:var n=l,q=this.h,p=0==q.h?new z:q.i[--q.h],r=p;r.x=n.Sd;r.y=n.Td;r.z=n.Ud;a.box(m,p,f);var t=this.h;if(null!=p){p.$();if(t.h==t.i.length){for(var x=Array(t.h<<
1),v=0,B=t.h;v<B;){var H=v++;x[H]=t.i[H];t.i[H]=null}t.i=x}t.i[t.h++]=p}break;case 2:var C=l;a.cylinder(m,C.nb,C.Qb,f);break;case 3:var O=l;a.cone(m,O.nb,O.Qb,f);break;case 4:var y=l;a.capsule(m,y.nb,y.Qb,f);break;case 5:var A=l,E=A.Vd,M=this.h,G=0==M.h?new z:M.i[--M.h],R=this.h,K=0==R.h?new z:R.i[--R.h],oa=this.h,N=0==oa.h?new z:oa.i[--oa.h],Ra=this.h,Wa=0==Ra.h?new z:Ra.i[--Ra.h],Ja=this.h,Sa=0==Ja.h?new z:Ja.i[--Ja.h],Aa=this.h,La=0==Aa.h?new z:Aa.i[--Aa.h],Fa=this.h,L=0==Fa.I?new ha:Fa.C[--Fa.I],
Z=this.h,Y=0==Z.h?new z:Z.i[--Z.h],va=L;va.e00=m.A;va.e01=m.j;va.e02=m.m;va.e10=m.o;va.e11=m.v;va.e12=m.s;va.e20=m.u;va.e21=m.l;va.e22=m.B;var Va=Y;Va.x=m.F;Va.y=m.G;Va.z=m.H;for(var D=0;D<E;){var za=D++,aa=A.qf[za],Ta=A.La[za];aa.x=Ta.x;aa.y=Ta.y;aa.z=Ta.z;var ca=aa.x*L.e10+aa.y*L.e11+aa.z*L.e12,ia=aa.x*L.e20+aa.y*L.e21+aa.z*L.e22;aa.x=aa.x*L.e00+aa.y*L.e01+aa.z*L.e02;aa.y=ca;aa.z=ia;aa.x+=Y.x;aa.y+=Y.y;aa.z+=Y.z}if(30<E)for(var T=0;T<E;){var ka=T++,pa=A.qf[ka];G.x=pa.x;G.y=pa.y;G.z=pa.z;var Ca=
A.qf[(ka+1)%E];K.x=Ca.x;K.y=Ca.y;K.z=Ca.z;a.line(G,K,f)}else if(this.qa.wireframe||10<E)for(var V=0;V<E;){var fa=V++,w=A.qf[fa];G.x=w.x;G.y=w.y;G.z=w.z;for(var ta=0;ta<fa;){var Ga=A.qf[ta++];K.x=Ga.x;K.y=Ga.y;K.z=Ga.z;a.line(G,K,f)}}else for(var da=0;da<E;){var W=da++,sa=A.qf[W];G.x=sa.x;G.y=sa.y;G.z=sa.z;for(var la=0;la<W;){var Oa=la++,ab=A.qf[Oa];K.x=ab.x;K.y=ab.y;K.z=ab.z;for(var ja=0;ja<Oa;){var ob=A.qf[ja++];N.x=ob.x;N.y=ob.y;N.z=ob.z;Wa.x=K.x;Wa.y=K.y;Wa.z=K.z;var Ha=Wa;Ha.x-=G.x;Ha.y-=G.y;
Ha.z-=G.z;Sa.x=N.x;Sa.y=N.y;Sa.z=N.z;var I=Sa;I.x-=G.x;I.y-=G.y;I.z-=G.z;La.x=Wa.x;La.y=Wa.y;La.z=Wa.z;var Ka=La,P=Ka.z*Sa.x-Ka.x*Sa.z,na=Ka.x*Sa.y-Ka.y*Sa.x;Ka.x=Ka.y*Sa.z-Ka.z*Sa.y;Ka.y=P;Ka.z=na;var ba=Math.sqrt(Ka.x*Ka.x+Ka.y*Ka.y+Ka.z*Ka.z);0<ba&&(ba=1/ba);Ka.x*=ba;Ka.y*=ba;Ka.z*=ba;a.triangle(G,K,N,La,La,La,f);La.x=-La.x;La.y=-La.y;La.z=-La.z;a.triangle(G,N,K,La,La,La,f)}}}var ea=this.h;if(null!=G){G.$();if(ea.h==ea.i.length){for(var X=Array(ea.h<<1),ma=0,xb=ea.h;ma<xb;){var Za=ma++;X[Za]=ea.i[Za];
ea.i[Za]=null}ea.i=X}ea.i[ea.h++]=G}var ib=this.h;if(null!=K){K.$();if(ib.h==ib.i.length){for(var qb=Array(ib.h<<1),lb=0,bb=ib.h;lb<bb;){var $a=lb++;qb[$a]=ib.i[$a];ib.i[$a]=null}ib.i=qb}ib.i[ib.h++]=K}var qa=this.h;if(null!=N){N.$();if(qa.h==qa.i.length){for(var mb=Array(qa.h<<1),Db=0,Xa=qa.h;Db<Xa;){var tb=Db++;mb[tb]=qa.i[tb];qa.i[tb]=null}qa.i=mb}qa.i[qa.h++]=N}var Ma=this.h;if(null!=Wa){Wa.$();if(Ma.h==Ma.i.length){for(var Eb=Array(Ma.h<<1),ub=0,fb=Ma.h;ub<fb;){var db=ub++;Eb[db]=Ma.i[db];Ma.i[db]=
null}Ma.i=Eb}Ma.i[Ma.h++]=Wa}var gb=this.h;if(null!=Sa){Sa.$();if(gb.h==gb.i.length){for(var jb=Array(gb.h<<1),Bb=0,kb=gb.h;Bb<kb;){var nb=Bb++;jb[nb]=gb.i[nb];gb.i[nb]=null}gb.i=jb}gb.i[gb.h++]=Sa}var Ya=this.h;if(null!=La){La.$();if(Ya.h==Ya.i.length){for(var Nb=Array(Ya.h<<1),Lb=0,F=Ya.h;Lb<F;){var pb=Lb++;Nb[pb]=Ya.i[pb];Ya.i[pb]=null}Ya.i=Nb}Ya.i[Ya.h++]=La}var cb=this.h;if(null!=L){L.e00=1;L.e01=0;L.e02=0;L.e10=0;L.e11=1;L.e12=0;L.e20=0;L.e21=0;L.e22=1;if(cb.I==cb.C.length){for(var Fb=Array(cb.I<<
1),wb=0,eb=cb.I;wb<eb;){var Ib=wb++;Fb[Ib]=cb.C[Ib];cb.C[Ib]=null}cb.C=Fb}cb.C[cb.I++]=L}var Q=this.h;if(null!=Y){Y.$();if(Q.h==Q.i.length){for(var U=Array(Q.h<<1),u=0,Ab=Q.h;u<Ab;){var rb=u++;U[rb]=Q.i[rb];Q.i[rb]=null}Q.i=U}Q.i[Q.h++]=Y}}}if(a.drawAabbs){var ra=k.D,Ua=b.aabbColor,xa=this.h,Pa=0==xa.h?new z:xa.i[--xa.h],hb=this.h,yb=0==hb.h?new z:hb.i[--hb.h],Jb=Pa;Jb.x=ra.wa;Jb.y=ra.xa;Jb.z=ra.ya;var ua=yb;ua.x=ra.ta;ua.y=ra.ua;ua.z=ra.va;a.aabb(Pa,yb,Ua);var Qa=this.h;if(null!=Pa){Pa.$();if(Qa.h==
Qa.i.length){for(var wa=Array(Qa.h<<1),Da=0,S=Qa.h;Da<S;){var Na=Da++;wa[Na]=Qa.i[Na];Qa.i[Na]=null}Qa.i=wa}Qa.i[Qa.h++]=Pa}var Ia=this.h;if(null!=yb){yb.$();if(Ia.h==Ia.i.length){for(var Cb=Array(Ia.h<<1),vb=0,Kb=Ia.h;vb<Kb;){var Gb=vb++;Cb[Gb]=Ia.i[Gb];Ia.i[Gb]=null}Ia.i=Cb}Ia.i[Ia.h++]=yb}}k=g}e=d}};sb.prototype.bc=function(a){var b=a.style;if(a.drawPairs||a.drawContacts)for(var e=this.Xf.md;null!=e;){var d=e.U;if(a.drawPairs){var c=b.pairColor,f=this.h,h=0==f.h?new z:f.i[--f.h],k=this.h,g=0==
k.h?new z:k.i[--k.h],l=h;l.x=e.ic.g.F;l.y=e.ic.g.G;l.z=e.ic.g.H;var m=g;m.x=e.jc.g.F;m.y=e.jc.g.G;m.z=e.jc.g.H;a.line(h,g,c);var n=this.h;if(null!=h){h.$();if(n.h==n.i.length){for(var q=Array(n.h<<1),p=0,r=n.h;p<r;){var t=p++;q[t]=n.i[t];n.i[t]=null}n.i=q}n.i[n.h++]=h}var x=this.h;if(null!=g){g.$();if(x.h==x.i.length){for(var v=Array(x.h<<1),B=0,H=x.h;B<H;){var C=B++;v[C]=x.i[C];x.i[C]=null}x.i=v}x.i[x.h++]=g}}if(a.drawContacts)for(var O=e.ee,y=e.ee.Ta.rc,A=0,E=e.ee.Ta.Bd;A<E;){var M=y[A++],G=a.style,
R=this.h,K=0==R.h?new z:R.i[--R.h],oa=this.h,N=0==oa.h?new z:oa.i[--oa.h],Ra=this.h,Wa=0==Ra.h?new z:Ra.i[--Ra.h],Ja=this.h,Sa=0==Ja.h?new z:Ja.i[--Ja.h],Aa=this.h,La=0==Aa.h?new z:Aa.i[--Aa.h],Fa=K;Fa.x=M.od;Fa.y=M.pd;Fa.z=M.qd;var L=N;L.x=M.rd;L.y=M.sd;L.z=M.td;var Z=Wa;Z.x=O.Ta.kf;Z.y=O.Ta.lf;Z.z=O.Ta.mf;var Y=Sa;Y.x=O.Ta.Gg;Y.y=O.Ta.Hg;Y.z=O.Ta.Ig;var va=La;va.x=O.Ta.Bg;va.y=O.Ta.Cg;va.z=O.Ta.Dg;if(M.ve)a.point(K,G.disabledContactColor),a.point(N,G.disabledContactColor),a.line(K,N,G.disabledContactColor);
else if(M.Xd){var Va=void 0;switch(M.uc&3){case 0:Va=G.contactColor;break;case 1:Va=G.contactColor2;break;case 2:Va=G.contactColor3;break;default:Va=G.contactColor4}a.point(K,Va);a.point(N,Va);a.line(K,N,G.contactColor)}else a.point(K,G.newContactColor),a.point(N,G.newContactColor),a.line(K,N,G.newContactColor);N.x=K.x;N.y=K.y;N.z=K.z;var D=N,za=G.contactNormalLength;D.x+=Wa.x*za;D.y+=Wa.y*za;D.z+=Wa.z*za;a.line(K,N,G.contactNormalColor);if(a.drawContactBases){N.x=K.x;N.y=K.y;N.z=K.z;var aa=N,Ta=
G.contactTangentLength;aa.x+=Sa.x*Ta;aa.y+=Sa.y*Ta;aa.z+=Sa.z*Ta;a.line(K,N,G.contactTangentColor);N.x=K.x;N.y=K.y;N.z=K.z;var ca=N,ia=G.contactBinormalLength;ca.x+=La.x*ia;ca.y+=La.y*ia;ca.z+=La.z*ia;a.line(K,N,G.contactBinormalColor)}var T=this.h;if(null!=K){K.$();if(T.h==T.i.length){for(var ka=Array(T.h<<1),pa=0,Ca=T.h;pa<Ca;){var V=pa++;ka[V]=T.i[V];T.i[V]=null}T.i=ka}T.i[T.h++]=K}var fa=this.h;if(null!=N){N.$();if(fa.h==fa.i.length){for(var w=Array(fa.h<<1),ta=0,Ga=fa.h;ta<Ga;){var da=ta++;w[da]=
fa.i[da];fa.i[da]=null}fa.i=w}fa.i[fa.h++]=N}var W=this.h;if(null!=Wa){Wa.$();if(W.h==W.i.length){for(var sa=Array(W.h<<1),la=0,Oa=W.h;la<Oa;){var ab=la++;sa[ab]=W.i[ab];W.i[ab]=null}W.i=sa}W.i[W.h++]=Wa}var ja=this.h;if(null!=Sa){Sa.$();if(ja.h==ja.i.length){for(var ob=Array(ja.h<<1),Ha=0,I=ja.h;Ha<I;){var Ka=Ha++;ob[Ka]=ja.i[Ka];ja.i[Ka]=null}ja.i=ob}ja.i[ja.h++]=Sa}var P=this.h;if(null!=La){La.$();if(P.h==P.i.length){for(var na=Array(P.h<<1),ba=0,ea=P.h;ba<ea;){var X=ba++;na[X]=P.i[X];P.i[X]=null}P.i=
na}P.i[P.h++]=La}}e=d}if(a.drawJoints)for(var ma=this.Y;null!=ma;){var xb=ma.U,Za=this.h,ib=0==Za.h?new z:Za.i[--Za.h],qb=this.h,lb=0==qb.h?new z:qb.i[--qb.h],bb=ib;bb.x=ma.J.g.F;bb.y=ma.J.g.G;bb.z=ma.J.g.H;var $a=lb;$a.x=ma.K.g.F;$a.y=ma.K.g.G;$a.z=ma.K.g.H;var qa=this.h,mb=0==qa.h?new z:qa.i[--qa.h],Db=this.h,Xa=0==Db.h?new z:Db.i[--Db.h],tb=this.h,Ma=0==tb.h?new z:tb.i[--tb.h],Eb=this.h,ub=0==Eb.h?new z:Eb.i[--Eb.h],fb=this.h,db=0==fb.h?new z:fb.i[--fb.h],gb=this.h,jb=0==gb.h?new z:gb.i[--gb.h],
Bb=this.h,kb=0==Bb.h?new z:Bb.i[--Bb.h],nb=this.h,Ya=0==nb.h?new z:nb.i[--nb.h],Nb=mb;Nb.x=ma.ke;Nb.y=ma.le;Nb.z=ma.me;var Lb=Xa;Lb.x=ma.ne;Lb.y=ma.oe;Lb.z=ma.pe;var F=Ma;F.x=ma.pb;F.y=ma.qb;F.z=ma.rb;var pb=ub;pb.x=ma.Ac;pb.y=ma.Bc;pb.z=ma.Cc;var cb=db;cb.x=ma.Id;cb.y=ma.Jd;cb.z=ma.Kd;var Fb=jb;Fb.x=ma.cc;Fb.y=ma.dc;Fb.z=ma.ec;var wb=kb;wb.x=ma.Fd;wb.y=ma.Gd;wb.z=ma.Hd;var eb=Ya;eb.x=ma.se;eb.y=ma.te;eb.z=ma.ue;a.line(ib,mb,a.style.jointLineColor);a.line(lb,Xa,a.style.jointLineColor);if(a.drawJointLimits)switch(ma.$b){case 1:var Ib=
ma.cg;this.V(a,mb,ub,db,kb,a.style.jointRotationalConstraintRadius,Ib.lowerLimit,Ib.upperLimit,a.style.jointLineColor);break;case 2:var Q=ma,U=a.style.jointLineColor,u=Q.Xh,Ab=Q.$h;this.V(a,Xa,ub,db,kb,a.style.jointRotationalConstraintRadius,u.lowerLimit,u.upperLimit,U);this.Wb(a,mb,Ma,Ab.lowerLimit,Ab.upperLimit,U);break;case 3:var rb=ma.cg;this.Wb(a,mb,Ma,rb.lowerLimit,rb.upperLimit,a.style.jointLineColor);break;case 4:var ra=ma,Ua=a.style.jointRotationalConstraintRadius,xa=a.style.jointLineColor,
Pa=ra.Uh,hb=ra.Vh;this.V(a,mb,ub,db,ub,Ua,ra.qe-Pa.upperLimit,ra.qe-Pa.lowerLimit,xa);this.V(a,Xa,jb,kb,jb,Ua,hb.lowerLimit-ra.re,hb.upperLimit-ra.re,xa);break;case 5:var yb=ma,Jb=a.style.jointRotationalConstraintRadius,ua=a.style.jointLineColor,Qa=yb.ai;this.V(a,Xa,kb,Ya,kb,Jb,Qa.lowerLimit-yb.Mg,Qa.upperLimit-yb.Mg,ua);this.Sc(a,mb,Ma,ub,db,yb.hh,yb.ih,Jb,ua);var wa=this.h,Da=0==wa.h?new z:wa.i[--wa.h];Da.x=Xa.x;Da.y=Xa.y;Da.z=Xa.z;var S=Da;S.x+=jb.x*Jb;S.y+=jb.y*Jb;S.z+=jb.z*Jb;a.line(Xa,S,ua);
var Na=this.h;if(null!=S){S.$();if(Na.h==Na.i.length){for(var Ia=Array(Na.h<<1),Cb=0,vb=Na.h;Cb<vb;){var Kb=Cb++;Ia[Kb]=Na.i[Kb];Na.i[Kb]=null}Na.i=Ia}Na.i[Na.h++]=S}break;case 6:var Gb=ma,Vb=a.style.jointRotationalConstraintRadius,Rb=a.style.jointLineColor,Wb=Gb.Ne[0],nc=Gb.Ne[1],ac=Gb.Ne[2];this.ce(a,mb,Ma,ub,db,Gb.Oe[0],Gb.Oe[1],Gb.Oe[2],Rb);var gc=this.h,cc=0==gc.h?new z:gc.i[--gc.h],Tb=cc;Tb.x=Gb.Mc;Tb.y=Gb.Nc;Tb.z=Gb.Oc;var Ub=this.h,Qb=0==Ub.h?new z:Ub.i[--Ub.h];Qb.x=Ma.x;Qb.y=Ma.y;Qb.z=Ma.z;
var hc=Qb,bc=this.h,jc=0==bc.h?new z:bc.i[--bc.h];jc.x=Ma.x;jc.y=Ma.y;jc.z=Ma.z;var Xb=jc,ic=Xb.z*cc.x-Xb.x*cc.z,vc=Xb.x*cc.y-Xb.y*cc.x;Xb.x=Xb.y*cc.z-Xb.z*cc.y;Xb.y=ic;Xb.z=vc;this.V(a,Xa,ub,db,ub,Vb,Gb.qe-Wb.upperLimit,Gb.qe-Wb.lowerLimit,Rb);this.V(a,Xa,hc,Xb,hc,Vb,nc.lowerLimit-Gb.Df,nc.upperLimit-Gb.Df,Rb);this.V(a,Xa,jb,kb,jb,Vb,ac.lowerLimit-Gb.re,ac.upperLimit-Gb.re,Rb)}a.line(mb,Xa,a.style.jointErrorColor);var Yb=this.h;if(null!=ib){ib.$();if(Yb.h==Yb.i.length){for(var Sc=Array(Yb.h<<1),
Mb=0,mc=Yb.h;Mb<mc;){var fc=Mb++;Sc[fc]=Yb.i[fc];Yb.i[fc]=null}Yb.i=Sc}Yb.i[Yb.h++]=ib}var Zb=this.h;if(null!=lb){lb.$();if(Zb.h==Zb.i.length){for(var lc=Array(Zb.h<<1),ed=0,Cc=Zb.h;ed<Cc;){var wc=ed++;lc[wc]=Zb.i[wc];Zb.i[wc]=null}Zb.i=lc}Zb.i[Zb.h++]=lb}var sc=this.h;if(null!=mb){mb.$();if(sc.h==sc.i.length){for(var Kc=Array(sc.h<<1),tc=0,Lc=sc.h;tc<Lc;){var Id=tc++;Kc[Id]=sc.i[Id];sc.i[Id]=null}sc.i=Kc}sc.i[sc.h++]=mb}var fd=this.h;if(null!=Xa){Xa.$();if(fd.h==fd.i.length){for(var Xc=Array(fd.h<<
1),Dc=0,oc=fd.h;Dc<oc;){var gd=Dc++;Xc[gd]=fd.i[gd];fd.i[gd]=null}fd.i=Xc}fd.i[fd.h++]=Xa}var kc=this.h;if(null!=Ma){Ma.$();if(kc.h==kc.i.length){for(var hd=Array(kc.h<<1),Tc=0,zd=kc.h;Tc<zd;){var Ad=Tc++;hd[Ad]=kc.i[Ad];kc.i[Ad]=null}kc.i=hd}kc.i[kc.h++]=Ma}var id=this.h;if(null!=ub){ub.$();if(id.h==id.i.length){for(var we=Array(id.h<<1),Jd=0,he=id.h;Jd<he;){var Td=Jd++;we[Td]=id.i[Td];id.i[Td]=null}id.i=we}id.i[id.h++]=ub}var Yc=this.h;if(null!=db){db.$();if(Yc.h==Yc.i.length){for(var $d=Array(Yc.h<<
1),He=0,We=Yc.h;He<We;){var oe=He++;$d[oe]=Yc.i[oe];Yc.i[oe]=null}Yc.i=$d}Yc.i[Yc.h++]=db}var rd=this.h;if(null!=jb){jb.$();if(rd.h==rd.i.length){for(var Fd=Array(rd.h<<1),ae=0,xe=rd.h;ae<xe;){var ie=ae++;Fd[ie]=rd.i[ie];rd.i[ie]=null}rd.i=Fd}rd.i[rd.h++]=jb}var Ec=this.h;if(null!=kb){kb.$();if(Ec.h==Ec.i.length){for(var sd=Array(Ec.h<<1),td=0,Bd=Ec.h;td<Bd;){var Zc=td++;sd[Zc]=Ec.i[Zc];Ec.i[Zc]=null}Ec.i=sd}Ec.i[Ec.h++]=kb}var Mc=this.h;if(null!=Ya){Ya.$();if(Mc.h==Mc.i.length){for(var ch=Array(Mc.h<<
1),nf=0,Ff=Mc.h;nf<Ff;){var Ie=nf++;ch[Ie]=Mc.i[Ie];Mc.i[Ie]=null}Mc.i=ch}Mc.i[Mc.h++]=Ya}ma=xb}};sb.prototype.V=function(a,b,e,d,c,f,h,k,g){if(h!=k){var l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=b.x;l.y=b.y;l.z=b.z;l.x+=c.x*f;l.y+=c.y*f;l.z+=c.z*f;a.line(b,l,g);c=this.h;if(null!=l){l.$();if(c.h==c.i.length){for(var m=Array(c.h<<1),n=0,q=c.h;n<q;){var p=n++;m[p]=c.i[p];c.i[p]=null}c.i=m}c.i[c.h++]=l}h>k?a.ellipse(b,e,d,f,f,g):a.arc(b,e,d,f,f,h,k,!0,g)}};sb.prototype.Wb=function(a,b,e,d,c,f){if(d<c){var h=
this.h;h=0==h.h?new z:h.i[--h.h];h.x=b.x;h.y=b.y;h.z=b.z;h.x+=e.x*d;h.y+=e.y*d;h.z+=e.z*d;d=this.h;d=0==d.h?new z:d.i[--d.h];d.x=b.x;d.y=b.y;d.z=b.z;d.x+=e.x*c;d.y+=e.y*c;d.z+=e.z*c;a.line(h,d,f);a=this.h;if(null!=h){h.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(c=a.h;e<c;)f=e++,b[f]=a.i[f],a.i[f]=null;a.i=b}a.i[a.h++]=h}h=this.h;if(null!=d){d.$();if(h.h==h.i.length){a=Array(h.h<<1);b=0;for(e=h.h;b<e;)c=b++,a[c]=h.i[c],h.i[c]=null;h.i=a}h.i[h.h++]=d}}};sb.prototype.ce=function(a,b,e,d,c,f,h,k,
g){var l=f.lowerLimit,m=f.upperLimit;f=h.lowerLimit;var n=h.upperLimit;h=k.lowerLimit;var q=k.upperLimit;k=this.h;0==k.h?new z:--k.h;k=this.h;0==k.h?new z:--k.h;k=this.h;var p=0==k.h?new z:k.i[--k.h];p.x=b.x;p.y=b.y;p.z=b.z;p.x+=e.x*l;p.y+=e.y*l;p.z+=e.z*l;p.x+=d.x*f;p.y+=d.y*f;p.z+=d.z*f;p.x+=c.x*h;p.y+=c.y*h;p.z+=c.z*h;k=this.h;var r=0==k.h?new z:k.i[--k.h];r.x=b.x;r.y=b.y;r.z=b.z;r.x+=e.x*l;r.y+=e.y*l;r.z+=e.z*l;r.x+=d.x*f;r.y+=d.y*f;r.z+=d.z*f;r.x+=c.x*q;r.y+=c.y*q;r.z+=c.z*q;k=this.h;var t=0==
k.h?new z:k.i[--k.h];t.x=b.x;t.y=b.y;t.z=b.z;t.x+=e.x*l;t.y+=e.y*l;t.z+=e.z*l;t.x+=d.x*n;t.y+=d.y*n;t.z+=d.z*n;t.x+=c.x*h;t.y+=c.y*h;t.z+=c.z*h;k=this.h;var x=0==k.h?new z:k.i[--k.h];x.x=b.x;x.y=b.y;x.z=b.z;x.x+=e.x*l;x.y+=e.y*l;x.z+=e.z*l;x.x+=d.x*n;x.y+=d.y*n;x.z+=d.z*n;x.x+=c.x*q;x.y+=c.y*q;x.z+=c.z*q;l=this.h;k=0==l.h?new z:l.i[--l.h];k.x=b.x;k.y=b.y;k.z=b.z;k.x+=e.x*m;k.y+=e.y*m;k.z+=e.z*m;k.x+=d.x*f;k.y+=d.y*f;k.z+=d.z*f;k.x+=c.x*h;k.y+=c.y*h;k.z+=c.z*h;l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=
b.x;l.y=b.y;l.z=b.z;l.x+=e.x*m;l.y+=e.y*m;l.z+=e.z*m;l.x+=d.x*f;l.y+=d.y*f;l.z+=d.z*f;l.x+=c.x*q;l.y+=c.y*q;l.z+=c.z*q;f=this.h;f=0==f.h?new z:f.i[--f.h];f.x=b.x;f.y=b.y;f.z=b.z;f.x+=e.x*m;f.y+=e.y*m;f.z+=e.z*m;f.x+=d.x*n;f.y+=d.y*n;f.z+=d.z*n;f.x+=c.x*h;f.y+=c.y*h;f.z+=c.z*h;h=this.h;h=0==h.h?new z:h.i[--h.h];h.x=b.x;h.y=b.y;h.z=b.z;h.x+=e.x*m;h.y+=e.y*m;h.z+=e.z*m;h.x+=d.x*n;h.y+=d.y*n;h.z+=d.z*n;h.x+=c.x*q;h.y+=c.y*q;h.z+=c.z*q;a.line(p,k,g);a.line(t,f,g);a.line(r,l,g);a.line(x,h,g);a.line(p,t,
g);a.line(k,f,g);a.line(r,x,g);a.line(l,h,g);a.line(p,r,g);a.line(k,l,g);a.line(t,x,g);a.line(f,h,g);a=this.h;if(null!=p){p.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=p}a=this.h;if(null!=r){r.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=r}r=this.h;if(null!=t){t.$();if(r.h==r.i.length){a=Array(r.h<<1);b=0;for(e=r.h;b<e;)d=b++,a[d]=r.i[d],r.i[d]=null;r.i=a}r.i[r.h++]=t}t=this.h;
if(null!=x){x.$();if(t.h==t.i.length){r=Array(t.h<<1);a=0;for(b=t.h;a<b;)e=a++,r[e]=t.i[e],t.i[e]=null;t.i=r}t.i[t.h++]=x}x=this.h;if(null!=k){k.$();if(x.h==x.i.length){t=Array(x.h<<1);r=0;for(a=x.h;r<a;)b=r++,t[b]=x.i[b],x.i[b]=null;x.i=t}x.i[x.h++]=k}k=this.h;if(null!=l){l.$();if(k.h==k.i.length){x=Array(k.h<<1);t=0;for(r=k.h;t<r;)a=t++,x[a]=k.i[a],k.i[a]=null;k.i=x}k.i[k.h++]=l}l=this.h;if(null!=f){f.$();if(l.h==l.i.length){k=Array(l.h<<1);x=0;for(t=l.h;x<t;)r=x++,k[r]=l.i[r],l.i[r]=null;l.i=k}l.i[l.h++]=
f}f=this.h;if(null!=h){h.$();if(f.h==f.i.length){l=Array(f.h<<1);k=0;for(x=f.h;k<x;)t=k++,l[t]=f.i[t],f.i[t]=null;f.i=l}f.i[f.h++]=h}};sb.prototype.Sc=function(a,b,e,d,c,f,h,k,g){var l=0,m=this.h,n=0==m.h?new z:m.i[--m.h];m=this.h;var q=0==m.V?new Hb:m.M[--m.V];m=this.h;var p=0==m.I?new ha:m.C[--m.I];m=this.h;m=0==m.h?new z:m.i[--m.h];for(var r=0;17>r;){var t=r++,x=Math.cos(l)*f,v=Math.sin(l)*h,B=Math.sqrt(x*x+v*v),H=Math.sin(.5*B),C=Math.cos(.5*B),O=n.$();O.x+=d.x*x;O.y+=d.y*x;O.z+=d.z*x;O.x+=c.x*
v;O.y+=c.y*v;O.z+=c.z*v;x=1/B*H;n.x*=x;n.y*=x;n.z*=x;q.x=n.x;q.y=n.y;q.z=n.z;q.w=C;var y=q.x,A=q.y;H=q.z;v=q.w;var E=2*y,M=2*A;B=2*H;C=y*E;x=A*M;H*=B;O=y*M;A*=B;y*=B;E*=v;M*=v;v*=B;p.e00=1-x-H;p.e01=O-v;p.e02=y+M;p.e10=O+v;p.e11=1-C-H;p.e12=A-E;p.e20=y-M;p.e21=A+E;p.e22=1-C-x;C=this.h;C=0==C.h?new z:C.i[--C.h];C.x+=e.x*k;C.y+=e.y*k;C.z+=e.z*k;x=C.x*p.e10+C.y*p.e11+C.z*p.e12;v=C.x*p.e20+C.y*p.e21+C.z*p.e22;C.x=C.x*p.e00+C.y*p.e01+C.z*p.e02;C.y=x;C.z=v;C.x+=b.x;C.y+=b.y;C.z+=b.z;1<=t&&a.line(m,C,g);
t=this.h;if(null!=m){m.$();if(t.h==t.i.length){x=Array(t.h<<1);v=0;for(B=t.h;v<B;)H=v++,x[H]=t.i[H],t.i[H]=null;t.i=x}t.i[t.h++]=m}m=C;l+=.39269908169872375}a=this.h;if(null!=n){n.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=n}n=this.h;if(null!=q){q.x=0;q.y=0;q.z=0;q.w=1;if(n.V==n.M.length){a=Array(n.V<<1);b=0;for(e=n.V;b<e;)d=b++,a[d]=n.M[d],n.M[d]=null;n.M=a}n.M[n.V++]=q}q=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=
0;p.e20=0;p.e21=0;p.e22=1;if(q.I==q.C.length){n=Array(q.I<<1);a=0;for(b=q.I;a<b;)e=a++,n[e]=q.C[e],q.C[e]=null;q.C=n}q.C[q.I++]=p}p=this.h;if(null!=m){m.$();if(p.h==p.i.length){q=Array(p.h<<1);n=0;for(a=p.h;n<a;)b=n++,q[b]=p.i[b],p.i[b]=null;p.i=q}p.i[p.h++]=m}};sb.prototype.Hb=function(a){0<this.aa.dt&&(this.aa.dtRatio=a/this.aa.dt);this.aa.dt=a;this.aa.invDt=1/a;a=Nh.h()/1E3;this.Wa();this.je();ii.totalTime=1E3*(Nh.h()/1E3-a)};sb.prototype.Ie=function(a){if(null!=a.pc)throw Error("A rigid body cannot belong to multiple worlds.");
null==this.I?this.I=a:(this.Ka.U=a,a.sa=this.Ka);this.Ka=a;a.pc=this;for(a=a.vc;null!=a;){var b=a.U;a.Fb=this.nc.eg(a,a.D);a.uc=this.Ei++;this.nf++;a=b}this.Sa++};sb.prototype.hd=function(a){if(a.pc!=this)throw Error("The rigid body doesn't belong to the world.");var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.I&&(this.I=this.I.U);a==this.Ka&&(this.Ka=this.Ka.sa);a.U=null;a.sa=null;a.pc=null;for(a=a.vc;null!=a;){b=a.U;this.nc.fg(a.Fb);a.Fb=null;a.uc=-1;for(var d=a.hc.Yb;null!=d;){e=d.U;
var c=d.zd;if(c.ic==a||c.jc==a){d=d.Fc;d.Ob=!1;d.Kb=0;d=this.Xf;var f=c.sa,h=c.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c==d.md&&(d.md=d.md.U);c==d.Nd&&(d.Nd=d.Nd.sa);c.U=null;c.sa=null;c.xd&&(f=c.ic.ld,h=c.jc.ld,f==h&&(h=null),null!=f&&f.endContact(c),null!=h&&h.endContact(c));f=c.Bb.sa;h=c.Bb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Bb==c.J.Yb&&(c.J.Yb=c.J.Yb.U);c.Bb==c.J.oc&&(c.J.oc=c.J.oc.sa);c.Bb.U=null;c.Bb.sa=null;f=c.Cb.sa;h=c.Cb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Cb==c.K.Yb&&(c.K.Yb=c.K.Yb.U);
c.Cb==c.K.oc&&(c.K.oc=c.K.oc.sa);c.Cb.U=null;c.Cb.sa=null;c.J.Pd--;c.K.Pd--;c.Bb.Fc=null;c.Cb.Fc=null;c.Bb.zd=null;c.Cb.zd=null;c.ic=null;c.jc=null;c.J=null;c.K=null;c.xd=!1;c.Eg.de();c.Ta.de();c.Yf=null;f=c.ee;f.ic=null;f.jc=null;f.J=null;f.K=null;f.Jg=null;f.Kg=null;c.U=d.$e;d.$e=c;d.pg--}d=e}this.nf--;a=b}this.Sa--};sb.prototype.He=function(a){if(null!=a.pc)throw Error("A joint cannot belong to multiple worlds.");null==this.Y?this.Y=a:(this.Ja.U=a,a.sa=this.Ja);this.Ja=a;a.pc=this;a.Bb.Fc=a.K;
a.Cb.Fc=a.J;null==a.J.Od?a.J.Od=a.Bb:(a.J.fe.U=a.Bb,a.Bb.sa=a.J.fe);a.J.fe=a.Bb;null==a.K.Od?a.K.Od=a.Cb:(a.K.fe.U=a.Cb,a.Cb.sa=a.K.fe);a.K.fe=a.Cb;a.J.Mf++;a.K.Mf++;var b=a.J;b.Ob=!1;b.Kb=0;b=a.K;b.Ob=!1;b.Kb=0;a.Gc();this.Pb++};sb.prototype.yi=function(a){if(a.pc!=this)throw Error("The joint doesn't belong to the world.");var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.Y&&(this.Y=this.Y.U);a==this.Ja&&(this.Ja=this.Ja.sa);a.U=null;a.sa=null;a.pc=null;b=a.Bb.sa;e=a.Bb.U;null!=b&&(b.U=
e);null!=e&&(e.sa=b);a.Bb==a.J.Od&&(a.J.Od=a.J.Od.U);a.Bb==a.J.fe&&(a.J.fe=a.J.fe.sa);a.Bb.U=null;a.Bb.sa=null;b=a.Cb.sa;e=a.Cb.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a.Cb==a.K.Od&&(a.K.Od=a.K.Od.U);a.Cb==a.K.fe&&(a.K.fe=a.K.fe.sa);a.Cb.U=null;a.Cb.sa=null;a.Bb.Fc=null;a.Cb.Fc=null;a.J.Mf--;a.K.Mf--;b=a.J;b.Ob=!1;b.Kb=0;a=a.K;a.Ob=!1;a.Kb=0;this.Pb--};sb.prototype.mg=function(a){this.qa=a};sb.prototype.vf=function(){return this.qa};sb.prototype.sf=function(){null!=this.qa&&(2==this.nc.$b&&this.ac(this.qa,
this.nc.h),this.Ed(this.qa),this.bc(this.qa))};sb.prototype.yd=function(a,b,e){var d=this.Za.h;d.x=a.x;d.y=a.y;d.z=a.z;d=this.Za.end;d.x=b.x;d.y=b.y;d.z=b.z;this.Za.i=e;this.nc.yd(a,b,this.Za)};sb.prototype.tb=function(a,b,e,d){this.Pa.M=a;var c=this.Pa.h;c.F=b.F;c.G=b.G;c.H=b.H;c.A=b.A;c.j=b.j;c.m=b.m;c.o=b.o;c.v=b.v;c.s=b.s;c.u=b.u;c.l=b.l;c.B=b.B;c=this.Pa.I;c.x=e.x;c.y=e.y;c.z=e.z;this.Pa.i=d;this.nc.aa(a,b,e,this.Pa)};sb.prototype.Ya=function(a,b){this.mb.D.Dd(a);this.mb.h=b;this.nc.Y(a,this.mb)};
sb.prototype.gd=function(){return this.I};sb.prototype.yf=function(){return this.Y};sb.prototype.tf=function(){return this.nc};sb.prototype.uf=function(){return this.Xf};sb.prototype.Af=function(){return this.Sa};sb.prototype.tc=function(){return this.Pb};sb.prototype.Gb=function(){return this.nf};sb.prototype.zf=function(){return this.Xa};sb.prototype.yc=function(){return this.Sb};sb.prototype.Vg=function(a){this.Sb=a};sb.prototype.vd=function(){return this.Rb};sb.prototype.wd=function(a){this.Rb=
a};sb.prototype.wf=function(){return this.Jb};sb.prototype.jd=function(a){var b=this.Jb;b.x=a.x;b.y=a.y;b.z=a.z};rl(Hk,Cj);Hk.prototype.process=function(a){a=a.userData;a.Tb.yd(this.h,this.end,a.g,this.C)&&this.i.process(a,this.C)};rl(Gk,Cj);Gk.prototype.process=function(a){a=a.userData;var b=a.Tb.$b;0>b||5<b||zc.instance.Za(this.M,a.Tb,this.h,a.g,this.I,this.$,this.C)&&this.i.process(a,this.C)};rl(Fk,Cj);Fk.prototype.process=function(a){a=a.userData;var b=a.D;b.wa<this.D.ta&&b.ta>this.D.wa&&b.xa<
this.D.ua&&b.ua>this.D.xa&&b.ya<this.D.va&&b.va>this.D.ya&&this.h.process(a)};bl.prototype.process=function(){};ak.prototype.beginContact=function(){};ak.prototype.preSolve=function(){};ak.prototype.postSolve=function(){};ak.prototype.endContact=function(){};Ek.prototype.process=function(){};rl(aj,Ek);aj.prototype.clear=function(){this.shape=null;this.fraction=1;this.position.$();this.normal.$();this.hit=!1};aj.prototype.process=function(a,b){if(b.fraction<this.fraction){this.shape=a;this.hit=!0;
this.fraction=b.fraction;a=this.position;var e=b.position;a.x=e.x;a.y=e.y;a.z=e.z;a=this.normal;b=b.normal;a.x=b.x;a.y=b.y;a.z=b.z}};Zf.prototype.aabb=function(a,b,e){var d=this.h,c=(0==d.h?new z:d.i[--d.h]).Ia(a.x,a.y,a.z);d=this.h;var f=(0==d.h?new z:d.i[--d.h]).Ia(a.x,a.y,b.z);d=this.h;var h=(0==d.h?new z:d.i[--d.h]).Ia(a.x,b.y,a.z);d=this.h;var k=(0==d.h?new z:d.i[--d.h]).Ia(a.x,b.y,b.z);d=this.h;var g=(0==d.h?new z:d.i[--d.h]).Ia(b.x,a.y,a.z);d=this.h;d=(0==d.h?new z:d.i[--d.h]).Ia(b.x,a.y,b.z);
var l=this.h;a=(0==l.h?new z:l.i[--l.h]).Ia(b.x,b.y,a.z);l=this.h;b=(0==l.h?new z:l.i[--l.h]).Ia(b.x,b.y,b.z);this.line(c,f,e);this.line(h,k,e);this.line(g,d,e);this.line(a,b,e);this.line(c,h,e);this.line(f,k,e);this.line(g,a,e);this.line(d,b,e);this.line(c,g,e);this.line(f,d,e);this.line(h,a,e);this.line(k,b,e);e=this.h;if(null!=c){c.$();if(e.h==e.i.length){l=Array(e.h<<1);for(var m=0,n=e.h;m<n;){var q=m++;l[q]=e.i[q];e.i[q]=null}e.i=l}e.i[e.h++]=c}c=this.h;if(null!=f){f.$();if(c.h==c.i.length){e=
Array(c.h<<1);l=0;for(m=c.h;l<m;)n=l++,e[n]=c.i[n],c.i[n]=null;c.i=e}c.i[c.h++]=f}f=this.h;if(null!=h){h.$();if(f.h==f.i.length){c=Array(f.h<<1);e=0;for(l=f.h;e<l;)m=e++,c[m]=f.i[m],f.i[m]=null;f.i=c}f.i[f.h++]=h}h=this.h;if(null!=k){k.$();if(h.h==h.i.length){f=Array(h.h<<1);c=0;for(e=h.h;c<e;)l=c++,f[l]=h.i[l],h.i[l]=null;h.i=f}h.i[h.h++]=k}k=this.h;if(null!=g){g.$();if(k.h==k.i.length){h=Array(k.h<<1);f=0;for(c=k.h;f<c;)e=f++,h[e]=k.i[e],k.i[e]=null;k.i=h}k.i[k.h++]=g}g=this.h;if(null!=d){d.$();
if(g.h==g.i.length){k=Array(g.h<<1);h=0;for(f=g.h;h<f;)c=h++,k[c]=g.i[c],g.i[c]=null;g.i=k}g.i[g.h++]=d}d=this.h;if(null!=a){a.$();if(d.h==d.i.length){g=Array(d.h<<1);k=0;for(h=d.h;k<h;)f=k++,g[f]=d.i[f],d.i[f]=null;d.i=g}d.i[d.h++]=a}a=this.h;if(null!=b){b.$();if(a.h==a.i.length){d=Array(a.h<<1);g=0;for(k=a.h;g<k;)h=g++,d[h]=a.i[h],a.i[h]=null;a.i=d}a.i[a.h++]=b}};Zf.prototype.basis=function(a,b,e,d,c){var f=this.h,h=0==f.h?new z:f.i[--f.h];f=this.h;var k=0==f.I?new ha:f.C[--f.I];f=this.h;var g=
0==f.h?new z:f.i[--f.h];f=this.h;var l=0==f.h?new z:f.i[--f.h];f=this.h;f=0==f.h?new z:f.i[--f.h];h.x=a.F;h.y=a.G;h.z=a.H;k.e00=a.A;k.e01=a.j;k.e02=a.m;k.e10=a.o;k.e11=a.v;k.e12=a.s;k.e20=a.u;k.e21=a.l;k.e22=a.B;g.Ia(k.e00,k.e10,k.e20);l.Ia(k.e01,k.e11,k.e21);f.Ia(k.e02,k.e12,k.e22);g.x*=b;g.y*=b;g.z*=b;g.x+=h.x;g.y+=h.y;g.z+=h.z;l.x*=b;l.y*=b;l.z*=b;l.x+=h.x;l.y+=h.y;l.z+=h.z;f.x*=b;f.y*=b;f.z*=b;f.x+=h.x;f.y+=h.y;f.z+=h.z;this.line(h,g,e);this.line(h,l,d);this.line(h,f,c);a=this.h;if(null!=h){h.$();
if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=h}h=this.h;if(null!=k){k.e00=1;k.e01=0;k.e02=0;k.e10=0;k.e11=1;k.e12=0;k.e20=0;k.e21=0;k.e22=1;if(h.I==h.C.length){a=Array(h.I<<1);b=0;for(e=h.I;b<e;)d=b++,a[d]=h.C[d],h.C[d]=null;h.C=a}h.C[h.I++]=k}k=this.h;if(null!=g){g.$();if(k.h==k.i.length){h=Array(k.h<<1);a=0;for(b=k.h;a<b;)e=a++,h[e]=k.i[e],k.i[e]=null;k.i=h}k.i[k.h++]=g}g=this.h;if(null!=l){l.$();if(g.h==g.i.length){k=Array(g.h<<1);h=0;for(a=
g.h;h<a;)b=h++,k[b]=g.i[b],g.i[b]=null;g.i=k}g.i[g.h++]=l}l=this.h;if(null!=f){f.$();if(l.h==l.i.length){g=Array(l.h<<1);k=0;for(h=l.h;k<h;)a=k++,g[a]=l.i[a],l.i[a]=null;l.i=g}l.i[l.h++]=f}};Zf.prototype.ellipse=function(a,b,e,d,c,f){this.arc(a,b,e,d,c,0,6.28318530717958,!1,f)};Zf.prototype.arc=function(a,b,e,d,c,f,h,k,g){var l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=b.x;l.y=b.y;l.z=b.z;l.x*=d;l.y*=d;l.z*=d;b=this.h;b=0==b.h?new z:b.i[--b.h];b.x=e.x;b.y=e.y;b.z=e.z;b.x*=c;b.y*=c;b.z*=c;e=h-f;0>e&&(e=
-e);d=e/.5235987755982984+.5|0;0==d&&(d=1);e=f;h=(h-f)/d;c=this.h;c=0==c.h?new z:c.i[--c.h];c.x=a.x;c.y=a.y;c.z=a.z;var m=Math.cos(f);c.x+=l.x*m;c.y+=l.y*m;c.z+=l.z*m;f=Math.sin(f);c.x+=b.x*f;c.y+=b.y*f;c.z+=b.z*f;f=c;k&&this.line(a,c,g);for(c=0;c<d;){++c;e+=h;m=this.h;m=0==m.h?new z:m.i[--m.h];m.x=a.x;m.y=a.y;m.z=a.z;var n=Math.cos(e);m.x+=l.x*n;m.y+=l.y*n;m.z+=l.z*n;n=Math.sin(e);m.x+=b.x*n;m.y+=b.y*n;m.z+=b.z*n;this.line(f,m,g);n=this.h;if(null!=f){f.$();if(n.h==n.i.length){for(var q=Array(n.h<<
1),p=0,r=n.h;p<r;){var t=p++;q[t]=n.i[t];n.i[t]=null}n.i=q}n.i[n.h++]=f}f=m}k&&this.line(a,f,g);a=this.h;if(null!=f){f.$();if(a.h==a.i.length){k=Array(a.h<<1);g=0;for(e=a.h;g<e;)h=g++,k[h]=a.i[h],a.i[h]=null;a.i=k}a.i[a.h++]=f}a=this.h;if(null!=l){l.$();if(a.h==a.i.length){k=Array(a.h<<1);g=0;for(e=a.h;g<e;)f=g++,k[f]=a.i[f],a.i[f]=null;a.i=k}a.i[a.h++]=l}l=this.h;if(null!=b){b.$();if(l.h==l.i.length){a=Array(l.h<<1);k=0;for(g=l.h;k<g;)e=k++,a[e]=l.i[e],l.i[e]=null;l.i=a}l.i[l.h++]=b}};Zf.prototype.cone=
function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,l=0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ha:q.C[--q.I];n.x=a.F;n.y=a.G;n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);var r=this.h,t=0==r.h?new z:r.i[--r.h];t.x=n.x;t.y=n.y;t.z=n.z;t.x+=k.x*e;t.y+=k.y*e;t.z+=k.z*e;var x=this.h,v=0==x.h?
new z:x.i[--x.h];v.x=n.x;v.y=n.y;v.z=n.z;var B=-e;v.x+=k.x*B;v.y+=k.y*B;v.z+=k.z*B;if(this.wireframe){var H=this.h,C=0==H.h?new z:H.i[--H.h];C.x=v.x;C.y=v.y;C.z=v.z;var O=-b;C.x+=f.x*O;C.y+=f.y*O;C.z+=f.z*O;C.x+=0*l.x;C.y+=0*l.y;C.z+=0*l.z;var y=this.h,A=0==y.h?new z:y.i[--y.h];A.x=v.x;A.y=v.y;A.z=v.z;A.x+=f.x*b;A.y+=f.y*b;A.z+=f.z*b;A.x+=0*l.x;A.y+=0*l.y;A.z+=0*l.z;var E=this.h,M=0==E.h?new z:E.i[--E.h];M.x=v.x;M.y=v.y;M.z=v.z;M.x+=0*f.x;M.y+=0*f.y;M.z+=0*f.z;var G=-b;M.x+=l.x*G;M.y+=l.y*G;M.z+=
l.z*G;var R=this.h,K=0==R.h?new z:R.i[--R.h];K.x=v.x;K.y=v.y;K.z=v.z;K.x+=0*f.x;K.y+=0*f.y;K.z+=0*f.z;K.x+=l.x*b;K.y+=l.y*b;K.z+=l.z*b;this.ellipse(v,f,l,b,b,d);this.line(t,C,d);this.line(t,A,d);this.line(t,M,d);this.line(t,K,d);var oa=this.h;if(null!=C){C.$();if(oa.h==oa.i.length){for(var N=Array(oa.h<<1),Ra=0,Wa=oa.h;Ra<Wa;){var Ja=Ra++;N[Ja]=oa.i[Ja];oa.i[Ja]=null}oa.i=N}oa.i[oa.h++]=C}var Sa=this.h;if(null!=A){A.$();if(Sa.h==Sa.i.length){for(var Aa=Array(Sa.h<<1),La=0,Fa=Sa.h;La<Fa;){var L=La++;
Aa[L]=Sa.i[L];Sa.i[L]=null}Sa.i=Aa}Sa.i[Sa.h++]=A}var Z=this.h;if(null!=M){M.$();if(Z.h==Z.i.length){for(var Y=Array(Z.h<<1),va=0,Va=Z.h;va<Va;){var D=va++;Y[D]=Z.i[D];Z.i[D]=null}Z.i=Y}Z.i[Z.h++]=M}var za=this.h;if(null!=K){K.$();if(za.h==za.i.length){for(var aa=Array(za.h<<1),Ta=0,ca=za.h;Ta<ca;){var ia=Ta++;aa[ia]=za.i[ia];za.i[ia]=null}za.i=aa}za.i[za.h++]=K}}else{for(var T=1/Math.sqrt(b*b+4*e*e),ka=2*e*T,pa=b*T,Ca=0;8>Ca;){var V=Ca++,fa=this.I[V],w=this.V[V];fa.x=w.x;fa.y=w.y;fa.z=w.z;fa.x*=
ka;fa.y*=ka;fa.z*=ka;fa.y+=pa;var ta=this.I[V],Ga=ta.x*p.e10+ta.y*p.e11+ta.z*p.e12,da=ta.x*p.e20+ta.y*p.e21+ta.z*p.e22;ta.x=ta.x*p.e00+ta.y*p.e01+ta.z*p.e02;ta.y=Ga;ta.z=da;var W=this.C[V],sa=this.aa[V];W.x=sa.x;W.y=sa.y;W.z=sa.z;W.x*=ka;W.y*=ka;W.z*=ka;W.y+=pa;var la=this.C[V],Oa=la.x*p.e10+la.y*p.e11+la.z*p.e12,ab=la.x*p.e20+la.y*p.e21+la.z*p.e22;la.x=la.x*p.e00+la.y*p.e01+la.z*p.e02;la.y=Oa;la.z=ab;var ja=this.i[V],ob=this.V[V];ja.x=ob.x;ja.y=ob.y;ja.z=ob.z;var Ha=ja.x*p.e10+ja.y*p.e11+ja.z*p.e12,
I=ja.x*p.e20+ja.y*p.e21+ja.z*p.e22;ja.x=ja.x*p.e00+ja.y*p.e01+ja.z*p.e02;ja.y=Ha;ja.z=I;ja.x*=b;ja.y*=b;ja.z*=b;ja.x+=n.x;ja.y+=n.y;ja.z+=n.z;var Ka=this.i[V],P=-e;Ka.x+=k.x*P;Ka.y+=k.y*P;Ka.z+=k.z*P}for(var na=0;8>na;){var ba=na++,ea=this.i[ba],X=this.i[(ba+1)%8];this.triangle(t,ea,X,this.C[ba],this.I[ba],this.I[(ba+1)%8],d);ea=this.i[(ba+1)%8];X=this.i[ba];var ma=this.h,xb=0==ma.h?new z:ma.i[--ma.h];xb.x=k.x;xb.y=k.y;xb.z=k.z;var Za=xb;Za.x=-Za.x;Za.y=-Za.y;Za.z=-Za.z;this.triangle(v,ea,X,Za,Za,
Za,d);var ib=this.h;if(null!=Za){Za.$();if(ib.h==ib.i.length){for(var qb=Array(ib.h<<1),lb=0,bb=ib.h;lb<bb;){var $a=lb++;qb[$a]=ib.i[$a];ib.i[$a]=null}ib.i=qb}ib.i[ib.h++]=Za}}}var qa=this.h;if(null!=t){t.$();if(qa.h==qa.i.length){for(var mb=Array(qa.h<<1),Db=0,Xa=qa.h;Db<Xa;){var tb=Db++;mb[tb]=qa.i[tb];qa.i[tb]=null}qa.i=mb}qa.i[qa.h++]=t}var Ma=this.h;if(null!=v){v.$();if(Ma.h==Ma.i.length){for(var Eb=Array(Ma.h<<1),ub=0,fb=Ma.h;ub<fb;){var db=ub++;Eb[db]=Ma.i[db];Ma.i[db]=null}Ma.i=Eb}Ma.i[Ma.h++]=
v}var gb=this.h;if(null!=n){n.$();if(gb.h==gb.i.length){for(var jb=Array(gb.h<<1),Bb=0,kb=gb.h;Bb<kb;){var nb=Bb++;jb[nb]=gb.i[nb];gb.i[nb]=null}gb.i=jb}gb.i[gb.h++]=n}var Ya=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(Ya.I==Ya.C.length){for(var Nb=Array(Ya.I<<1),Lb=0,F=Ya.I;Lb<F;){var pb=Lb++;Nb[pb]=Ya.C[pb];Ya.C[pb]=null}Ya.C=Nb}Ya.C[Ya.I++]=p}var cb=this.h;if(null!=f){f.$();if(cb.h==cb.i.length){for(var Fb=Array(cb.h<<1),wb=0,eb=cb.h;wb<eb;){var Ib=
wb++;Fb[Ib]=cb.i[Ib];cb.i[Ib]=null}cb.i=Fb}cb.i[cb.h++]=f}var Q=this.h;if(null!=k){k.$();if(Q.h==Q.i.length){for(var U=Array(Q.h<<1),u=0,Ab=Q.h;u<Ab;){var rb=u++;U[rb]=Q.i[rb];Q.i[rb]=null}Q.i=U}Q.i[Q.h++]=k}var ra=this.h;if(null!=l){l.$();if(ra.h==ra.i.length){for(var Ua=Array(ra.h<<1),xa=0,Pa=ra.h;xa<Pa;){var hb=xa++;Ua[hb]=ra.i[hb];ra.i[hb]=null}ra.i=Ua}ra.i[ra.h++]=l}};Zf.prototype.cylinder=function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,l=
0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ha:q.C[--q.I];n.x=a.F;n.y=a.G;n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);var r=this.h,t=0==r.h?new z:r.i[--r.h];t.x=n.x;t.y=n.y;t.z=n.z;t.x+=k.x*e;t.y+=k.y*e;t.z+=k.z*e;var x=this.h,v=0==x.h?new z:x.i[--x.h];v.x=n.x;v.y=n.y;v.z=n.z;var B=-e;v.x+=k.x*B;v.y+=k.y*B;v.z+=k.z*B;if(this.wireframe){var H=
this.h,C=0==H.h?new z:H.i[--H.h];C.x=t.x;C.y=t.y;C.z=t.z;var O=-b;C.x+=f.x*O;C.y+=f.y*O;C.z+=f.z*O;C.x+=0*l.x;C.y+=0*l.y;C.z+=0*l.z;var y=this.h,A=0==y.h?new z:y.i[--y.h];A.x=t.x;A.y=t.y;A.z=t.z;A.x+=f.x*b;A.y+=f.y*b;A.z+=f.z*b;A.x+=0*l.x;A.y+=0*l.y;A.z+=0*l.z;var E=this.h,M=0==E.h?new z:E.i[--E.h];M.x=t.x;M.y=t.y;M.z=t.z;M.x+=0*f.x;M.y+=0*f.y;M.z+=0*f.z;var G=-b;M.x+=l.x*G;M.y+=l.y*G;M.z+=l.z*G;var R=this.h,K=0==R.h?new z:R.i[--R.h];K.x=t.x;K.y=t.y;K.z=t.z;K.x+=0*f.x;K.y+=0*f.y;K.z+=0*f.z;K.x+=l.x*
b;K.y+=l.y*b;K.z+=l.z*b;var oa=this.h,N=0==oa.h?new z:oa.i[--oa.h];N.x=v.x;N.y=v.y;N.z=v.z;var Ra=-b;N.x+=f.x*Ra;N.y+=f.y*Ra;N.z+=f.z*Ra;N.x+=0*l.x;N.y+=0*l.y;N.z+=0*l.z;var Wa=this.h,Ja=0==Wa.h?new z:Wa.i[--Wa.h];Ja.x=v.x;Ja.y=v.y;Ja.z=v.z;Ja.x+=f.x*b;Ja.y+=f.y*b;Ja.z+=f.z*b;Ja.x+=0*l.x;Ja.y+=0*l.y;Ja.z+=0*l.z;var Sa=this.h,Aa=0==Sa.h?new z:Sa.i[--Sa.h];Aa.x=v.x;Aa.y=v.y;Aa.z=v.z;Aa.x+=0*f.x;Aa.y+=0*f.y;Aa.z+=0*f.z;var La=-b;Aa.x+=l.x*La;Aa.y+=l.y*La;Aa.z+=l.z*La;var Fa=this.h,L=0==Fa.h?new z:Fa.i[--Fa.h];
L.x=v.x;L.y=v.y;L.z=v.z;L.x+=0*f.x;L.y+=0*f.y;L.z+=0*f.z;L.x+=l.x*b;L.y+=l.y*b;L.z+=l.z*b;this.ellipse(t,f,l,b,b,d);this.ellipse(v,f,l,b,b,d);this.line(C,N,d);this.line(A,Ja,d);this.line(M,Aa,d);this.line(K,L,d);var Z=this.h;if(null!=C){C.$();if(Z.h==Z.i.length){for(var Y=Array(Z.h<<1),va=0,Va=Z.h;va<Va;){var D=va++;Y[D]=Z.i[D];Z.i[D]=null}Z.i=Y}Z.i[Z.h++]=C}var za=this.h;if(null!=A){A.$();if(za.h==za.i.length){for(var aa=Array(za.h<<1),Ta=0,ca=za.h;Ta<ca;){var ia=Ta++;aa[ia]=za.i[ia];za.i[ia]=null}za.i=
aa}za.i[za.h++]=A}var T=this.h;if(null!=M){M.$();if(T.h==T.i.length){for(var ka=Array(T.h<<1),pa=0,Ca=T.h;pa<Ca;){var V=pa++;ka[V]=T.i[V];T.i[V]=null}T.i=ka}T.i[T.h++]=M}var fa=this.h;if(null!=K){K.$();if(fa.h==fa.i.length){for(var w=Array(fa.h<<1),ta=0,Ga=fa.h;ta<Ga;){var da=ta++;w[da]=fa.i[da];fa.i[da]=null}fa.i=w}fa.i[fa.h++]=K}var W=this.h;if(null!=N){N.$();if(W.h==W.i.length){for(var sa=Array(W.h<<1),la=0,Oa=W.h;la<Oa;){var ab=la++;sa[ab]=W.i[ab];W.i[ab]=null}W.i=sa}W.i[W.h++]=N}var ja=this.h;
if(null!=Ja){Ja.$();if(ja.h==ja.i.length){for(var ob=Array(ja.h<<1),Ha=0,I=ja.h;Ha<I;){var Ka=Ha++;ob[Ka]=ja.i[Ka];ja.i[Ka]=null}ja.i=ob}ja.i[ja.h++]=Ja}var P=this.h;if(null!=Aa){Aa.$();if(P.h==P.i.length){for(var na=Array(P.h<<1),ba=0,ea=P.h;ba<ea;){var X=ba++;na[X]=P.i[X];P.i[X]=null}P.i=na}P.i[P.h++]=Aa}var ma=this.h;if(null!=L){L.$();if(ma.h==ma.i.length){for(var xb=Array(ma.h<<1),Za=0,ib=ma.h;Za<ib;){var qb=Za++;xb[qb]=ma.i[qb];ma.i[qb]=null}ma.i=xb}ma.i[ma.h++]=L}}else{for(var lb=0;8>lb;){var bb=
lb++,$a=this.I[bb],qa=this.V[bb];$a.x=qa.x;$a.y=qa.y;$a.z=qa.z;var mb=$a.x*p.e10+$a.y*p.e11+$a.z*p.e12,Db=$a.x*p.e20+$a.y*p.e21+$a.z*p.e22;$a.x=$a.x*p.e00+$a.y*p.e01+$a.z*p.e02;$a.y=mb;$a.z=Db;var Xa=this.C[bb],tb=this.I[bb];Xa.x=tb.x;Xa.y=tb.y;Xa.z=tb.z;Xa.x*=b;Xa.y*=b;Xa.z*=b;Xa.x+=n.x;Xa.y+=n.y;Xa.z+=n.z;var Ma=this.i[bb],Eb=this.C[bb];Ma.x=Eb.x;Ma.y=Eb.y;Ma.z=Eb.z;var ub=this.C[bb];ub.x+=k.x*e;ub.y+=k.y*e;ub.z+=k.z*e;var fb=this.i[bb],db=-e;fb.x+=k.x*db;fb.y+=k.y*db;fb.z+=k.z*db}for(var gb=0;8>
gb;){var jb=gb++,Bb=t,kb=this.C[jb],nb=this.C[(jb+1)%8],Ya=k;this.triangle(t,kb,nb,Ya,Ya,Ya,d);Bb=v;kb=this.i[(jb+1)%8];nb=this.i[jb];var Nb=this.h,Lb=0==Nb.h?new z:Nb.i[--Nb.h];Lb.x=k.x;Lb.y=k.y;Lb.z=k.z;var F=Lb;F.x=-F.x;F.y=-F.y;F.z=-F.z;Ya=F;this.triangle(v,kb,nb,F,F,F,d);var pb=this.h;if(null!=F){F.$();if(pb.h==pb.i.length){for(var cb=Array(pb.h<<1),Fb=0,wb=pb.h;Fb<wb;){var eb=Fb++;cb[eb]=pb.i[eb];pb.i[eb]=null}pb.i=cb}pb.i[pb.h++]=F}Bb=this.C[jb];kb=this.i[jb];nb=this.i[(jb+1)%8];Ya=this.I[jb];
var Ib=this.I[(jb+1)%8];this.rect(Bb,kb,nb,this.C[(jb+1)%8],Ya,Ya,Ib,Ib,d)}}var Q=this.h;if(null!=t){t.$();if(Q.h==Q.i.length){for(var U=Array(Q.h<<1),u=0,Ab=Q.h;u<Ab;){var rb=u++;U[rb]=Q.i[rb];Q.i[rb]=null}Q.i=U}Q.i[Q.h++]=t}var ra=this.h;if(null!=v){v.$();if(ra.h==ra.i.length){for(var Ua=Array(ra.h<<1),xa=0,Pa=ra.h;xa<Pa;){var hb=xa++;Ua[hb]=ra.i[hb];ra.i[hb]=null}ra.i=Ua}ra.i[ra.h++]=v}var yb=this.h;if(null!=n){n.$();if(yb.h==yb.i.length){for(var Jb=Array(yb.h<<1),ua=0,Qa=yb.h;ua<Qa;){var wa=ua++;
Jb[wa]=yb.i[wa];yb.i[wa]=null}yb.i=Jb}yb.i[yb.h++]=n}var Da=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(Da.I==Da.C.length){for(var S=Array(Da.I<<1),Na=0,Ia=Da.I;Na<Ia;){var Cb=Na++;S[Cb]=Da.C[Cb];Da.C[Cb]=null}Da.C=S}Da.C[Da.I++]=p}var vb=this.h;if(null!=f){f.$();if(vb.h==vb.i.length){for(var Kb=Array(vb.h<<1),Gb=0,Vb=vb.h;Gb<Vb;){var Rb=Gb++;Kb[Rb]=vb.i[Rb];vb.i[Rb]=null}vb.i=Kb}vb.i[vb.h++]=f}var Wb=this.h;if(null!=k){k.$();if(Wb.h==Wb.i.length){for(var nc=
Array(Wb.h<<1),ac=0,gc=Wb.h;ac<gc;){var cc=ac++;nc[cc]=Wb.i[cc];Wb.i[cc]=null}Wb.i=nc}Wb.i[Wb.h++]=k}var Tb=this.h;if(null!=l){l.$();if(Tb.h==Tb.i.length){for(var Ub=Array(Tb.h<<1),Qb=0,hc=Tb.h;Qb<hc;){var bc=Qb++;Ub[bc]=Tb.i[bc];Tb.i[bc]=null}Tb.i=Ub}Tb.i[Tb.h++]=l}};Zf.prototype.capsule=function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,l=0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ha:q.C[--q.I];n.x=a.F;n.y=a.G;
n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);for(var r=this.M,t=this.Y,x=0;5>x;)for(var v=x++,B=this.M[v].length,H=0;H<B;){var C=H++,O=t[v][C],y=this.X[v][C];O.x=y.x;O.y=y.y;O.z=y.z;var A=O.x*p.e10+O.y*p.e11+O.z*p.e12,E=O.x*p.e20+O.y*p.e21+O.z*p.e22;O.x=O.x*p.e00+O.y*p.e01+O.z*p.e02;O.y=A;O.z=E}for(var M=0;4>M;){var G=M++;if(0==G)for(var R=0;3>R;)for(var K=R++,oa=this.M[K].length,
N=0;N<oa;){var Ra=N++,Wa=r[K][Ra],Ja=t[K][Ra];Wa.x=Ja.x;Wa.y=Ja.y;Wa.z=Ja.z;Wa.x*=b;Wa.y*=b;Wa.z*=b;Wa.x+=n.x;Wa.y+=n.y;Wa.z+=n.z;Wa.x+=k.x*e;Wa.y+=k.y*e;Wa.z+=k.z*e}if(2==G)for(var Sa=2;5>Sa;)for(var Aa=Sa++,La=this.M[Aa].length,Fa=0;Fa<La;){var L=Fa++,Z=r[Aa][L],Y=t[Aa][L];Z.x=Y.x;Z.y=Y.y;Z.z=Y.z;Z.x*=b;Z.y*=b;Z.z*=b;Z.x+=n.x;Z.y+=n.y;Z.z+=n.z;var va=-e;Z.x+=k.x*va;Z.y+=k.y*va;Z.z+=k.z*va}for(var Va=0;8>Va;){var D=Va++,za=void 0,aa=void 0,Ta=void 0,ca=void 0,ia=void 0,T=void 0,ka=void 0,pa=void 0;
0==G?this.wireframe?(za=r[0][0],aa=r[1][D],this.line(za,aa,d)):(za=r[0][0],aa=r[1][D],Ta=r[1][(D+1)%8],ia=t[0][0],T=t[1][D],ka=t[1][(D+1)%8],this.triangle(za,aa,Ta,ia,T,ka,d)):3==G?this.wireframe?(za=r[4][0],aa=r[G][(D+1)%8],Ta=r[G][D],this.line(za,aa,d),this.line(aa,Ta,d)):(za=r[4][0],aa=r[G][(D+1)%8],Ta=r[G][D],ia=t[4][0],T=t[G][(D+1)%8],ka=t[G][D],this.triangle(za,aa,Ta,ia,T,ka,d)):this.wireframe?(za=r[G][D],aa=r[G][(D+1)%8],Ta=r[G+1][D],this.line(za,aa,d),this.line(za,Ta,d)):(za=r[G][D],aa=r[G][(D+
1)%8],Ta=r[G+1][D],ca=r[G+1][(D+1)%8],ia=t[G][D],T=t[G][(D+1)%8],ka=t[G+1][D],pa=t[G+1][(D+1)%8],this.rect(za,Ta,ca,aa,ia,ka,pa,T,d))}}var Ca=this.h,V=0==Ca.h?new z:Ca.i[--Ca.h];V.x=n.x;V.y=n.y;V.z=n.z;V.x+=k.x*e;V.y+=k.y*e;V.z+=k.z*e;var fa=this.h,w=0==fa.h?new z:fa.i[--fa.h];w.x=n.x;w.y=n.y;w.z=n.z;var ta=-e;w.x+=k.x*ta;w.y+=k.y*ta;w.z+=k.z*ta;if(this.wireframe){var Ga=this.h,da=0==Ga.h?new z:Ga.i[--Ga.h];da.x=V.x;da.y=V.y;da.z=V.z;var W=-b;da.x+=f.x*W;da.y+=f.y*W;da.z+=f.z*W;da.x+=0*l.x;da.y+=
0*l.y;da.z+=0*l.z;var sa=this.h,la=0==sa.h?new z:sa.i[--sa.h];la.x=V.x;la.y=V.y;la.z=V.z;la.x+=f.x*b;la.y+=f.y*b;la.z+=f.z*b;la.x+=0*l.x;la.y+=0*l.y;la.z+=0*l.z;var Oa=this.h,ab=0==Oa.h?new z:Oa.i[--Oa.h];ab.x=V.x;ab.y=V.y;ab.z=V.z;ab.x+=0*f.x;ab.y+=0*f.y;ab.z+=0*f.z;var ja=-b;ab.x+=l.x*ja;ab.y+=l.y*ja;ab.z+=l.z*ja;var ob=this.h,Ha=0==ob.h?new z:ob.i[--ob.h];Ha.x=V.x;Ha.y=V.y;Ha.z=V.z;Ha.x+=0*f.x;Ha.y+=0*f.y;Ha.z+=0*f.z;Ha.x+=l.x*b;Ha.y+=l.y*b;Ha.z+=l.z*b;var I=this.h,Ka=0==I.h?new z:I.i[--I.h];Ka.x=
w.x;Ka.y=w.y;Ka.z=w.z;var P=-b;Ka.x+=f.x*P;Ka.y+=f.y*P;Ka.z+=f.z*P;Ka.x+=0*l.x;Ka.y+=0*l.y;Ka.z+=0*l.z;var na=this.h,ba=0==na.h?new z:na.i[--na.h];ba.x=w.x;ba.y=w.y;ba.z=w.z;ba.x+=f.x*b;ba.y+=f.y*b;ba.z+=f.z*b;ba.x+=0*l.x;ba.y+=0*l.y;ba.z+=0*l.z;var ea=this.h,X=0==ea.h?new z:ea.i[--ea.h];X.x=w.x;X.y=w.y;X.z=w.z;X.x+=0*f.x;X.y+=0*f.y;X.z+=0*f.z;var ma=-b;X.x+=l.x*ma;X.y+=l.y*ma;X.z+=l.z*ma;var xb=this.h,Za=0==xb.h?new z:xb.i[--xb.h];Za.x=w.x;Za.y=w.y;Za.z=w.z;Za.x+=0*f.x;Za.y+=0*f.y;Za.z+=0*f.z;Za.x+=
l.x*b;Za.y+=l.y*b;Za.z+=l.z*b;this.ellipse(V,f,l,b,b,d);this.ellipse(w,f,l,b,b,d);this.line(da,Ka,d);this.line(la,ba,d);this.line(ab,X,d);this.line(Ha,Za,d);var ib=this.h;if(null!=da){da.$();if(ib.h==ib.i.length){for(var qb=Array(ib.h<<1),lb=0,bb=ib.h;lb<bb;){var $a=lb++;qb[$a]=ib.i[$a];ib.i[$a]=null}ib.i=qb}ib.i[ib.h++]=da}var qa=this.h;if(null!=la){la.$();if(qa.h==qa.i.length){for(var mb=Array(qa.h<<1),Db=0,Xa=qa.h;Db<Xa;){var tb=Db++;mb[tb]=qa.i[tb];qa.i[tb]=null}qa.i=mb}qa.i[qa.h++]=la}var Ma=
this.h;if(null!=ab){ab.$();if(Ma.h==Ma.i.length){for(var Eb=Array(Ma.h<<1),ub=0,fb=Ma.h;ub<fb;){var db=ub++;Eb[db]=Ma.i[db];Ma.i[db]=null}Ma.i=Eb}Ma.i[Ma.h++]=ab}var gb=this.h;if(null!=Ha){Ha.$();if(gb.h==gb.i.length){for(var jb=Array(gb.h<<1),Bb=0,kb=gb.h;Bb<kb;){var nb=Bb++;jb[nb]=gb.i[nb];gb.i[nb]=null}gb.i=jb}gb.i[gb.h++]=Ha}var Ya=this.h;if(null!=Ka){Ka.$();if(Ya.h==Ya.i.length){for(var Nb=Array(Ya.h<<1),Lb=0,F=Ya.h;Lb<F;){var pb=Lb++;Nb[pb]=Ya.i[pb];Ya.i[pb]=null}Ya.i=Nb}Ya.i[Ya.h++]=Ka}var cb=
this.h;if(null!=ba){ba.$();if(cb.h==cb.i.length){for(var Fb=Array(cb.h<<1),wb=0,eb=cb.h;wb<eb;){var Ib=wb++;Fb[Ib]=cb.i[Ib];cb.i[Ib]=null}cb.i=Fb}cb.i[cb.h++]=ba}var Q=this.h;if(null!=X){X.$();if(Q.h==Q.i.length){for(var U=Array(Q.h<<1),u=0,Ab=Q.h;u<Ab;){var rb=u++;U[rb]=Q.i[rb];Q.i[rb]=null}Q.i=U}Q.i[Q.h++]=X}var ra=this.h;if(null!=Za){Za.$();if(ra.h==ra.i.length){for(var Ua=Array(ra.h<<1),xa=0,Pa=ra.h;xa<Pa;){var hb=xa++;Ua[hb]=ra.i[hb];ra.i[hb]=null}ra.i=Ua}ra.i[ra.h++]=Za}}else{for(var yb=0;8>
yb;){var Jb=yb++,ua=this.I[Jb],Qa=this.V[Jb];ua.x=Qa.x;ua.y=Qa.y;ua.z=Qa.z;var wa=ua.x*p.e10+ua.y*p.e11+ua.z*p.e12,Da=ua.x*p.e20+ua.y*p.e21+ua.z*p.e22;ua.x=ua.x*p.e00+ua.y*p.e01+ua.z*p.e02;ua.y=wa;ua.z=Da;var S=this.C[Jb],Na=this.I[Jb];S.x=Na.x;S.y=Na.y;S.z=Na.z;S.x*=b;S.y*=b;S.z*=b;S.x+=n.x;S.y+=n.y;S.z+=n.z;var Ia=this.i[Jb],Cb=this.C[Jb];Ia.x=Cb.x;Ia.y=Cb.y;Ia.z=Cb.z;var vb=this.C[Jb];vb.x+=k.x*e;vb.y+=k.y*e;vb.z+=k.z*e;var Kb=this.i[Jb],Gb=-e;Kb.x+=k.x*Gb;Kb.y+=k.y*Gb;Kb.z+=k.z*Gb}for(var Vb=
0;8>Vb;){var Rb=Vb++,Wb=this.I[Rb],nc=this.I[(Rb+1)%8];this.rect(this.C[Rb],this.i[Rb],this.i[(Rb+1)%8],this.C[(Rb+1)%8],Wb,Wb,nc,nc,d)}}var ac=this.h;if(null!=V){V.$();if(ac.h==ac.i.length){for(var gc=Array(ac.h<<1),cc=0,Tb=ac.h;cc<Tb;){var Ub=cc++;gc[Ub]=ac.i[Ub];ac.i[Ub]=null}ac.i=gc}ac.i[ac.h++]=V}var Qb=this.h;if(null!=w){w.$();if(Qb.h==Qb.i.length){for(var hc=Array(Qb.h<<1),bc=0,jc=Qb.h;bc<jc;){var Xb=bc++;hc[Xb]=Qb.i[Xb];Qb.i[Xb]=null}Qb.i=hc}Qb.i[Qb.h++]=w}var ic=this.h;if(null!=n){n.$();
if(ic.h==ic.i.length){for(var vc=Array(ic.h<<1),Yb=0,Sc=ic.h;Yb<Sc;){var Mb=Yb++;vc[Mb]=ic.i[Mb];ic.i[Mb]=null}ic.i=vc}ic.i[ic.h++]=n}var mc=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(mc.I==mc.C.length){for(var fc=Array(mc.I<<1),Zb=0,lc=mc.I;Zb<lc;){var ed=Zb++;fc[ed]=mc.C[ed];mc.C[ed]=null}mc.C=fc}mc.C[mc.I++]=p}var Cc=this.h;if(null!=f){f.$();if(Cc.h==Cc.i.length){for(var wc=Array(Cc.h<<1),sc=0,Kc=Cc.h;sc<Kc;){var tc=sc++;wc[tc]=Cc.i[tc];Cc.i[tc]=
null}Cc.i=wc}Cc.i[Cc.h++]=f}var Lc=this.h;if(null!=k){k.$();if(Lc.h==Lc.i.length){for(var Id=Array(Lc.h<<1),fd=0,Xc=Lc.h;fd<Xc;){var Dc=fd++;Id[Dc]=Lc.i[Dc];Lc.i[Dc]=null}Lc.i=Id}Lc.i[Lc.h++]=k}var oc=this.h;if(null!=l){l.$();if(oc.h==oc.i.length){for(var gd=Array(oc.h<<1),kc=0,hd=oc.h;kc<hd;){var Tc=kc++;gd[Tc]=oc.i[Tc];oc.i[Tc]=null}oc.i=gd}oc.i[oc.h++]=l}};Zf.prototype.sphere=function(a,b,e){var d=this.h,c=0==d.h?new z:d.i[--d.h];d=this.h;d=0==d.I?new ha:d.C[--d.I];c.x=a.F;c.y=a.G;c.z=a.H;d.e00=
a.A;d.e01=a.j;d.e02=a.m;d.e10=a.o;d.e11=a.v;d.e12=a.s;d.e20=a.u;d.e21=a.l;d.e22=a.B;a=this.M;for(var f=this.Y,h=0;5>h;)for(var k=h++,g=this.M[k].length,l=0;l<g;){var m=l++,n=f[k][m],q=this.X[k][m];n.x=q.x;n.y=q.y;n.z=q.z;q=n.x*d.e10+n.y*d.e11+n.z*d.e12;var p=n.x*d.e20+n.y*d.e21+n.z*d.e22;n.x=n.x*d.e00+n.y*d.e01+n.z*d.e02;n.y=q;n.z=p;n=a[k][m];m=f[k][m];n.x=m.x;n.y=m.y;n.z=m.z;n.x*=b;n.y*=b;n.z*=b;n.x+=c.x;n.y+=c.y;n.z+=c.z}for(b=0;4>b;)for(h=b++,k=0;8>k;){var r=k++;if(0==h)if(this.wireframe)g=a[0][0],
l=a[1][r],this.line(g,l,e);else{g=a[0][0];l=a[1][r];m=a[1][(r+1)%8];q=f[0][0];p=f[1][r];var t=f[1][(r+1)%8];this.triangle(g,l,m,q,p,t,e)}else 3==h?this.wireframe?(g=a[4][0],l=a[h][(r+1)%8],m=a[h][r],this.line(g,l,e),this.line(l,m,e)):(g=a[4][0],l=a[h][(r+1)%8],m=a[h][r],q=f[4][0],p=f[h][(r+1)%8],t=f[h][r],this.triangle(g,l,m,q,p,t,e)):this.wireframe?(g=a[h][r],l=a[h][(r+1)%8],m=a[h+1][r],this.line(g,l,e),this.line(g,m,e)):(g=a[h][r],l=a[h][(r+1)%8],m=a[h+1][r],n=a[h+1][(r+1)%8],q=f[h][r],p=f[h][(r+
1)%8],t=f[h+1][r],r=f[h+1][(r+1)%8],this.rect(g,m,n,l,q,t,r,p,e))}e=this.h;if(null!=c){c.$();if(e.h==e.i.length){a=Array(e.h<<1);f=0;for(b=e.h;f<b;)h=f++,a[h]=e.i[h],e.i[h]=null;e.i=a}e.i[e.h++]=c}c=this.h;if(null!=d){d.e00=1;d.e01=0;d.e02=0;d.e10=0;d.e11=1;d.e12=0;d.e20=0;d.e21=0;d.e22=1;if(c.I==c.C.length){e=Array(c.I<<1);a=0;for(f=c.I;a<f;)b=a++,e[b]=c.C[b],c.C[b]=null;c.C=e}c.C[c.I++]=d}};Zf.prototype.box=function(a,b,e){var d=this.h,c=0==d.h?new z:d.i[--d.h],f=this.h,h=0==f.h?new z:f.i[--f.h],
k=this.h,g=0==k.h?new z:k.i[--k.h],l=this.h,m=0==l.h?new z:l.i[--l.h],n=this.h,q=0==n.I?new ha:n.C[--n.I];m.x=a.F;m.y=a.G;m.z=a.H;q.e00=a.A;q.e01=a.j;q.e02=a.m;q.e10=a.o;q.e11=a.v;q.e12=a.s;q.e20=a.u;q.e21=a.l;q.e22=a.B;c.Ia(q.e00,q.e10,q.e20);h.Ia(q.e01,q.e11,q.e21);g.Ia(q.e02,q.e12,q.e22);var p=b.x,r=b.y,t=b.z,x=this.h,v=0==x.h?new z:x.i[--x.h];v.x=m.x;v.y=m.y;v.z=m.z;var B=-p;v.x+=c.x*B;v.y+=c.y*B;v.z+=c.z*B;var H=-r;v.x+=h.x*H;v.y+=h.y*H;v.z+=h.z*H;var C=-t;v.x+=g.x*C;v.y+=g.y*C;v.z+=g.z*C;var O=
this.h,y=0==O.h?new z:O.i[--O.h];y.x=m.x;y.y=m.y;y.z=m.z;var A=-p;y.x+=c.x*A;y.y+=c.y*A;y.z+=c.z*A;var E=-r;y.x+=h.x*E;y.y+=h.y*E;y.z+=h.z*E;y.x+=g.x*t;y.y+=g.y*t;y.z+=g.z*t;var M=this.h,G=0==M.h?new z:M.i[--M.h];G.x=m.x;G.y=m.y;G.z=m.z;var R=-p;G.x+=c.x*R;G.y+=c.y*R;G.z+=c.z*R;G.x+=h.x*r;G.y+=h.y*r;G.z+=h.z*r;var K=-t;G.x+=g.x*K;G.y+=g.y*K;G.z+=g.z*K;var oa=this.h,N=0==oa.h?new z:oa.i[--oa.h];N.x=m.x;N.y=m.y;N.z=m.z;var Ra=-p;N.x+=c.x*Ra;N.y+=c.y*Ra;N.z+=c.z*Ra;N.x+=h.x*r;N.y+=h.y*r;N.z+=h.z*r;N.x+=
g.x*t;N.y+=g.y*t;N.z+=g.z*t;var Wa=this.h,Ja=0==Wa.h?new z:Wa.i[--Wa.h];Ja.x=m.x;Ja.y=m.y;Ja.z=m.z;Ja.x+=c.x*p;Ja.y+=c.y*p;Ja.z+=c.z*p;var Sa=-r;Ja.x+=h.x*Sa;Ja.y+=h.y*Sa;Ja.z+=h.z*Sa;var Aa=-t;Ja.x+=g.x*Aa;Ja.y+=g.y*Aa;Ja.z+=g.z*Aa;var La=this.h,Fa=0==La.h?new z:La.i[--La.h];Fa.x=m.x;Fa.y=m.y;Fa.z=m.z;Fa.x+=c.x*p;Fa.y+=c.y*p;Fa.z+=c.z*p;var L=-r;Fa.x+=h.x*L;Fa.y+=h.y*L;Fa.z+=h.z*L;Fa.x+=g.x*t;Fa.y+=g.y*t;Fa.z+=g.z*t;var Z=this.h,Y=0==Z.h?new z:Z.i[--Z.h];Y.x=m.x;Y.y=m.y;Y.z=m.z;Y.x+=c.x*p;Y.y+=c.y*
p;Y.z+=c.z*p;Y.x+=h.x*r;Y.y+=h.y*r;Y.z+=h.z*r;var va=-t;Y.x+=g.x*va;Y.y+=g.y*va;Y.z+=g.z*va;var Va=this.h,D=0==Va.h?new z:Va.i[--Va.h];D.x=m.x;D.y=m.y;D.z=m.z;D.x+=c.x*p;D.y+=c.y*p;D.z+=c.z*p;D.x+=h.x*r;D.y+=h.y*r;D.z+=h.z*r;D.x+=g.x*t;D.y+=g.y*t;D.z+=g.z*t;if(this.wireframe)this.line(v,y,e),this.line(G,N,e),this.line(Ja,Fa,e),this.line(Y,D,e),this.line(v,G,e),this.line(y,N,e),this.line(Ja,Y,e),this.line(Fa,D,e),this.line(v,Ja,e),this.line(y,Fa,e),this.line(G,Y,e),this.line(N,D,e);else{var za=this.h,
aa=0==za.h?new z:za.i[--za.h];aa.x=c.x;aa.y=c.y;aa.z=c.z;aa.x=-aa.x;aa.y=-aa.y;aa.z=-aa.z;var Ta=this.h,ca=0==Ta.h?new z:Ta.i[--Ta.h];ca.x=h.x;ca.y=h.y;ca.z=h.z;ca.x=-ca.x;ca.y=-ca.y;ca.z=-ca.z;var ia=this.h,T=0==ia.h?new z:ia.i[--ia.h];T.x=g.x;T.y=g.y;T.z=g.z;T.x=-T.x;T.y=-T.y;T.z=-T.z;this.rect(v,y,N,G,aa,aa,aa,aa,e);this.rect(Ja,Y,D,Fa,c,c,c,c,e);this.rect(v,Ja,Fa,y,ca,ca,ca,ca,e);this.rect(G,N,D,Y,h,h,h,h,e);this.rect(v,G,Y,Ja,T,T,T,T,e);this.rect(y,Fa,D,N,g,g,g,g,e);var ka=this.h;if(null!=aa){aa.$();
if(ka.h==ka.i.length){for(var pa=Array(ka.h<<1),Ca=0,V=ka.h;Ca<V;){var fa=Ca++;pa[fa]=ka.i[fa];ka.i[fa]=null}ka.i=pa}ka.i[ka.h++]=aa}var w=this.h;if(null!=ca){ca.$();if(w.h==w.i.length){for(var ta=Array(w.h<<1),Ga=0,da=w.h;Ga<da;){var W=Ga++;ta[W]=w.i[W];w.i[W]=null}w.i=ta}w.i[w.h++]=ca}var sa=this.h;if(null!=T){T.$();if(sa.h==sa.i.length){for(var la=Array(sa.h<<1),Oa=0,ab=sa.h;Oa<ab;){var ja=Oa++;la[ja]=sa.i[ja];sa.i[ja]=null}sa.i=la}sa.i[sa.h++]=T}}var ob=this.h;if(null!=v){v.$();if(ob.h==ob.i.length){for(var Ha=
Array(ob.h<<1),I=0,Ka=ob.h;I<Ka;){var P=I++;Ha[P]=ob.i[P];ob.i[P]=null}ob.i=Ha}ob.i[ob.h++]=v}var na=this.h;if(null!=y){y.$();if(na.h==na.i.length){for(var ba=Array(na.h<<1),ea=0,X=na.h;ea<X;){var ma=ea++;ba[ma]=na.i[ma];na.i[ma]=null}na.i=ba}na.i[na.h++]=y}var xb=this.h;if(null!=G){G.$();if(xb.h==xb.i.length){for(var Za=Array(xb.h<<1),ib=0,qb=xb.h;ib<qb;){var lb=ib++;Za[lb]=xb.i[lb];xb.i[lb]=null}xb.i=Za}xb.i[xb.h++]=G}var bb=this.h;if(null!=N){N.$();if(bb.h==bb.i.length){for(var $a=Array(bb.h<<
1),qa=0,mb=bb.h;qa<mb;){var Db=qa++;$a[Db]=bb.i[Db];bb.i[Db]=null}bb.i=$a}bb.i[bb.h++]=N}var Xa=this.h;if(null!=Ja){Ja.$();if(Xa.h==Xa.i.length){for(var tb=Array(Xa.h<<1),Ma=0,Eb=Xa.h;Ma<Eb;){var ub=Ma++;tb[ub]=Xa.i[ub];Xa.i[ub]=null}Xa.i=tb}Xa.i[Xa.h++]=Ja}var fb=this.h;if(null!=Fa){Fa.$();if(fb.h==fb.i.length){for(var db=Array(fb.h<<1),gb=0,jb=fb.h;gb<jb;){var Bb=gb++;db[Bb]=fb.i[Bb];fb.i[Bb]=null}fb.i=db}fb.i[fb.h++]=Fa}var kb=this.h;if(null!=Y){Y.$();if(kb.h==kb.i.length){for(var nb=Array(kb.h<<
1),Ya=0,Nb=kb.h;Ya<Nb;){var Lb=Ya++;nb[Lb]=kb.i[Lb];kb.i[Lb]=null}kb.i=nb}kb.i[kb.h++]=Y}var F=this.h;if(null!=D){D.$();if(F.h==F.i.length){for(var pb=Array(F.h<<1),cb=0,Fb=F.h;cb<Fb;){var wb=cb++;pb[wb]=F.i[wb];F.i[wb]=null}F.i=pb}F.i[F.h++]=D}var eb=this.h;if(null!=m){m.$();if(eb.h==eb.i.length){for(var Ib=Array(eb.h<<1),Q=0,U=eb.h;Q<U;){var u=Q++;Ib[u]=eb.i[u];eb.i[u]=null}eb.i=Ib}eb.i[eb.h++]=m}var Ab=this.h;if(null!=q){q.e00=1;q.e01=0;q.e02=0;q.e10=0;q.e11=1;q.e12=0;q.e20=0;q.e21=0;q.e22=1;if(Ab.I==
Ab.C.length){for(var rb=Array(Ab.I<<1),ra=0,Ua=Ab.I;ra<Ua;){var xa=ra++;rb[xa]=Ab.C[xa];Ab.C[xa]=null}Ab.C=rb}Ab.C[Ab.I++]=q}var Pa=this.h;if(null!=c){c.$();if(Pa.h==Pa.i.length){for(var hb=Array(Pa.h<<1),yb=0,Jb=Pa.h;yb<Jb;){var ua=yb++;hb[ua]=Pa.i[ua];Pa.i[ua]=null}Pa.i=hb}Pa.i[Pa.h++]=c}var Qa=this.h;if(null!=h){h.$();if(Qa.h==Qa.i.length){for(var wa=Array(Qa.h<<1),Da=0,S=Qa.h;Da<S;){var Na=Da++;wa[Na]=Qa.i[Na];Qa.i[Na]=null}Qa.i=wa}Qa.i[Qa.h++]=h}var Ia=this.h;if(null!=g){g.$();if(Ia.h==Ia.i.length){for(var Cb=
Array(Ia.h<<1),vb=0,Kb=Ia.h;vb<Kb;){var Gb=vb++;Cb[Gb]=Ia.i[Gb];Ia.i[Gb]=null}Ia.i=Cb}Ia.i[Ia.h++]=g}};Zf.prototype.rect=function(a,b,e,d,c,f,h,k,g){this.triangle(a,b,e,c,f,h,g);this.triangle(a,e,d,c,h,k,g)};Zf.prototype.point=function(){};Zf.prototype.triangle=function(){};Zf.prototype.line=function(){};cd.prototype.Rf=function(){};cd.prototype.Wf=function(){};cd.prototype.Vf=function(){};cd.prototype.rg=function(){};cd.prototype.Bf=function(){};cd.prototype.Uf=function(){};cd.prototype.Tf=function(){};
cd.prototype.postSolve=function(){};Ve.prototype.nd=function(a,b){b.Yd=this.J;b.Zd=this.K;var e=this.Ta.kf;var d=this.Ta.lf;var c=this.Ta.mf;var f=this.Ta.Gg;var h=this.Ta.Hg;var k=this.Ta.Ig;var g=this.Ta.Bg;var l=this.Ta.Cg;var m=this.Ta.Dg;for(var n=Math.sqrt(this.ic.dh*this.jc.dh),q=Math.sqrt(this.ic.kh*this.jc.kh),p=this.Ta.Bd,r=b.Na=0;r<p;){var t=this.Ta.rc[r++];if(0>t.Dc)t.ve=!0,t=t.Ad,t.Hc=0,t.xc=0,t.wc=0,t.Ib=0,t.ge=0,t.he=0,t.ie=0;else{t.ve=!1;var x=b.rows[b.Na++];x.friction=n;x.Va=0;var v=
x.Ve;v.Ba=e;v.Ca=d;v.Da=c;v.Fa=e;v.Ga=d;v.Ha=c;v.ka=t.Mb*c-t.Nb*d;v.la=t.Nb*e-t.Lb*c;v.ma=t.Lb*d-t.Mb*e;v.na=t.lc*c-t.mc*d;v.oa=t.mc*e-t.kc*c;v.pa=t.kc*d-t.lc*e;v=x.Ug;v.Ba=f;v.Ca=h;v.Da=k;v.Fa=f;v.Ga=h;v.Ha=k;v.ka=t.Mb*k-t.Nb*h;v.la=t.Nb*f-t.Lb*k;v.ma=t.Lb*h-t.Mb*f;v.na=t.lc*k-t.mc*h;v.oa=t.mc*f-t.kc*k;v.pa=t.kc*h-t.lc*f;v=x.Tg;v.Ba=g;v.Ca=l;v.Da=m;v.Fa=g;v.Ga=l;v.Ha=m;v.ka=t.Mb*m-t.Nb*l;v.la=t.Nb*g-t.Lb*m;v.ma=t.Lb*l-t.Mb*g;v.na=t.lc*m-t.mc*l;v.oa=t.mc*g-t.kc*m;v.pa=t.kc*l-t.lc*g;v=x.Ve;v=v.Ba*
this.J.ub+v.Ca*this.J.vb+v.Da*this.J.wb+(v.ka*this.J.xb+v.la*this.J.yb+v.ma*this.J.zb)-(v.Fa*this.K.ub+v.Ga*this.K.vb+v.Ha*this.K.wb+(v.na*this.K.xb+v.oa*this.K.yb+v.pa*this.K.zb));x.Oa=v<-Ba.contactEnableBounceThreshold&&!t.Xd?-v*q:0;this.pf==Jh.BAUMGARTE&&t.Dc>Ba.linearSlop&&(v=(t.Dc-Ba.linearSlop)*Ba.velocityBaumgarte*a.invDt,x.Oa<v&&(x.Oa=v));t.Xd||(v=t.Ad,v.Hc=0,v.xc=0,v.wc=0,v.Ib=0,v.ge=0,v.he=0,v.ie=0);x.Aa=t.Ad}}};Ve.prototype.Ec=function(a){a.Yd=this.J;a.Zd=this.K;var b=this.Ta.kf;var e=
this.Ta.lf;var d=this.Ta.mf;for(var c=this.Ta.Bd,f=a.Na=0;f<c;){var h=this.Ta.rc[f++];if(!h.ve){var k=a.rows[a.Na++],g=k.Ve;g.Ba=b;g.Ca=e;g.Da=d;g.Fa=b;g.Ga=e;g.Ha=d;g.ka=h.Mb*d-h.Nb*e;g.la=h.Nb*b-h.Lb*d;g.ma=h.Lb*e-h.Mb*b;g.na=h.lc*d-h.mc*e;g.oa=h.mc*b-h.kc*d;g.pa=h.kc*e-h.lc*b;k.Oa=h.Dc-Ba.linearSlop;0>k.Oa&&(k.Oa=0);k.Aa=h.Ad}}};Ve.prototype.Yh=function(){this.Ta.Gi(this.Jg,this.Kg)};Ve.prototype.i=function(){return this.ic};Ve.prototype.C=function(){return this.jc};Ve.prototype.h=function(){return this.Ta};
Ve.prototype.vh=function(){for(var a=0,b=this.Ta.Bd;a<b;)if(0<=this.Ta.rc[a++].Dc)return!0;return!1};$k.prototype.Dd=function(a){this.Hc=a.Hc;this.xc=a.xc;this.wc=a.wc;this.ge=a.ge;this.he=a.he;this.ie=a.ie};qd.prototype.de=function(){for(var a=0,b=this.Bd;a<b;){var e=this.rc[a++];e.we=0;e.xe=0;e.ye=0;e.ze=0;e.Ae=0;e.Be=0;e.Lb=0;e.Mb=0;e.Nb=0;e.kc=0;e.lc=0;e.mc=0;e.od=0;e.pd=0;e.qd=0;e.rd=0;e.sd=0;e.td=0;e.Dc=0;var d=e.Ad;d.Hc=0;d.xc=0;d.wc=0;d.Ib=0;d.ge=0;d.he=0;d.ie=0;e.Xd=!1;e.ve=!1;e.uc=-1}this.Bd=
0};qd.prototype.h=function(a){this.kf=a.x;this.lf=a.y;this.mf=a.z;var b=a.x,e=a.y;a=a.z;var d=b*b,c=e*e,f=a*a;if(d<c)if(d<f){f=1/Math.sqrt(c+f);d=0;c=-a*f;f*=e;var h=e*f-a*c;a=-b*f;b*=c}else c=1/Math.sqrt(d+c),d=-e*c,c*=b,f=0,h=-a*c,a*=d,b=b*c-e*d;else c<f?(f=1/Math.sqrt(d+f),d=a*f,c=0,f*=-b,h=e*f,a=a*d-b*f,b=-e*d):(c=1/Math.sqrt(d+c),d=-e*c,c*=b,f=0,h=-a*c,a*=d,b=b*c-e*d);this.Gg=d;this.Hg=c;this.Ig=f;this.Bg=h;this.Cg=a;this.Dg=b};qd.prototype.Gi=function(a,b){for(var e=0,d=this.Bd;e<d;){var c=
this.rc[e++];var f=a.A*c.we+a.j*c.xe+a.m*c.ye;var h=a.o*c.we+a.v*c.xe+a.s*c.ye;var k=a.u*c.we+a.l*c.xe+a.B*c.ye;c.Lb=f;c.Mb=h;c.Nb=k;f=b.A*c.ze+b.j*c.Ae+b.m*c.Be;h=b.o*c.ze+b.v*c.Ae+b.s*c.Be;k=b.u*c.ze+b.l*c.Ae+b.B*c.Be;c.kc=f;c.lc=h;c.mc=k;c.od=c.Lb+a.F;c.pd=c.Mb+a.G;c.qd=c.Nb+a.H;c.rd=c.kc+b.F;c.sd=c.lc+b.G;c.td=c.mc+b.H;c.Dc=-((c.od-c.rd)*this.kf+(c.pd-c.sd)*this.lf+(c.qd-c.td)*this.mf)}};qd.prototype.I=function(){var a=new z;a.x=this.kf;a.y=this.lf;a.z=this.mf;return a};qd.prototype.M=function(a){a.x=
this.kf;a.y=this.lf;a.z=this.mf};qd.prototype.Y=function(){var a=new z;a.x=this.Gg;a.y=this.Hg;a.z=this.Ig;return a};qd.prototype.aa=function(a){a.x=this.Gg;a.y=this.Hg;a.z=this.Ig};qd.prototype.i=function(){var a=new z;a.x=this.Bg;a.y=this.Cg;a.z=this.Dg;return a};qd.prototype.C=function(a){a.x=this.Bg;a.y=this.Cg;a.z=this.Dg};qd.prototype.X=function(){return this.rc};qd.prototype.V=function(){return this.Bd};Rc.prototype.M=function(){var a=new z;a.x=this.od;a.y=this.pd;a.z=this.qd;return a};Rc.prototype.V=
function(a){a.x=this.od;a.y=this.pd;a.z=this.qd};Rc.prototype.X=function(){var a=new z;a.x=this.rd;a.y=this.sd;a.z=this.td;return a};Rc.prototype.Y=function(a){a.x=this.rd;a.y=this.sd;a.z=this.td};Rc.prototype.C=function(){return this.Dc};Rc.prototype.qa=function(){return this.Xd};Rc.prototype.I=function(){return this.Ad.Hc};Rc.prototype.aa=function(){return this.Ad.xc};Rc.prototype.i=function(){return this.Ad.wc};Rc.prototype.h=function(){return!this.ve};$i.prototype.Y=function(){for(var a=this.Ta.Bd;0<=
--a;){var b=this.Ta.rc[a];var e=b.od-b.rd;var d=b.pd-b.sd;b=b.qd-b.td;var c=this.Ta.kf*e+this.Ta.lf*d+this.Ta.mf*b;c>Ba.contactPersistenceThreshold?this.C(a):(e+=this.Ta.kf*-c,d+=this.Ta.lf*-c,b+=this.Ta.mf*-c,e*e+d*d+b*b>Ba.contactPersistenceThreshold*Ba.contactPersistenceThreshold&&this.C(a))}};$i.prototype.C=function(a){var b=--this.Ta.Bd;if(a!=b){var e=this.Ta.rc[a];this.Ta.rc[a]=this.Ta.rc[b];this.Ta.rc[b]=e}a=this.Ta.rc[b];a.we=0;a.xe=0;a.ye=0;a.ze=0;a.Ae=0;a.Be=0;a.Lb=0;a.Mb=0;a.Nb=0;a.kc=
0;a.lc=0;a.mc=0;a.od=0;a.pd=0;a.qd=0;a.rd=0;a.sd=0;a.td=0;a.Dc=0;b=a.Ad;b.Hc=0;b.xc=0;b.wc=0;b.Ib=0;b.ge=0;b.he=0;b.ie=0;a.Xd=!1;a.ve=!1;a.uc=-1};$i.prototype.I=function(a,b,e){var d=this.Ta.Bd;if(d==Ba.maxManifoldPoints){d=this.Ta.rc[this.M(a,b)];var c=a.position1;d.od=c.x;d.pd=c.y;d.qd=c.z;c=a.position2;d.rd=c.x;d.sd=c.y;d.td=c.z;d.Lb=d.od-b.F;d.Mb=d.pd-b.G;d.Nb=d.qd-b.H;d.kc=d.rd-e.F;d.lc=d.sd-e.G;d.mc=d.td-e.H;c=b.A*d.Lb+b.o*d.Mb+b.u*d.Nb;var f=b.j*d.Lb+b.v*d.Mb+b.l*d.Nb;b=b.m*d.Lb+b.s*d.Mb+b.B*
d.Nb;d.we=c;d.xe=f;d.ye=b;b=e.A*d.kc+e.o*d.lc+e.u*d.mc;c=e.j*d.kc+e.v*d.lc+e.l*d.mc;e=e.m*d.kc+e.s*d.lc+e.B*d.mc;d.ze=b;d.Ae=c;d.Be=e;d.Dc=a.depth;e=d.Ad;e.Hc=0;e.xc=0;e.wc=0;e.Ib=0;e.ge=0;e.he=0;e.ie=0;d.uc=a.id;d.Xd=!1;d.ve=!1}else d=this.Ta.rc[d],c=a.position1,d.od=c.x,d.pd=c.y,d.qd=c.z,c=a.position2,d.rd=c.x,d.sd=c.y,d.td=c.z,d.Lb=d.od-b.F,d.Mb=d.pd-b.G,d.Nb=d.qd-b.H,d.kc=d.rd-e.F,d.lc=d.sd-e.G,d.mc=d.td-e.H,c=b.A*d.Lb+b.o*d.Mb+b.u*d.Nb,f=b.j*d.Lb+b.v*d.Mb+b.l*d.Nb,b=b.m*d.Lb+b.s*d.Mb+b.B*d.Nb,
d.we=c,d.xe=f,d.ye=b,b=e.A*d.kc+e.o*d.lc+e.u*d.mc,c=e.j*d.kc+e.v*d.lc+e.l*d.mc,e=e.m*d.kc+e.s*d.lc+e.B*d.mc,d.ze=b,d.Ae=c,d.Be=e,d.Dc=a.depth,e=d.Ad,e.Hc=0,e.xc=0,e.wc=0,e.Ib=0,e.ge=0,e.he=0,e.ie=0,d.uc=a.id,d.Xd=!1,d.ve=!1,this.Ta.Bd++};$i.prototype.M=function(a,b){var e=this.Ta.rc[0],d=this.Ta.rc[1],c=this.Ta.rc[2],f=this.Ta.rc[3],h=e.Dc,k=0;d.Dc>h&&(h=d.Dc,k=1);c.Dc>h&&(h=c.Dc,k=2);f.Dc>h&&(k=3);var g=a.position1;var l=g.x;var m=g.y;var n=g.z;l-=b.F;m-=b.G;n-=b.H;var q=d.Lb,p=d.Mb,r=d.Nb,t=c.Lb,
x=c.Mb,v=c.Nb,B=f.Lb,H=f.Mb,C=f.Nb;var O=t-q;var y=x-p;var A=v-r;var E=l-B;var M=m-H;var G=n-C;var R=B-q;var K=H-p;var oa=C-r;var N=l-t;var Ra=m-x;var Wa=n-v;var Ja=l-q;var Sa=m-p;var Aa=n-r;var La=B-t;var Fa=H-x;var L=C-v;var Z=y*G-A*M;var Y=A*E-O*G;var va=O*M-y*E;var Va=K*Wa-oa*Ra;var D=oa*N-R*Wa;var za=R*Ra-K*N;var aa=Sa*L-Aa*Fa;var Ta=Aa*La-Ja*L;var ca=Ja*Fa-Sa*La;var ia=Z*Z+Y*Y+va*va,T=Va*Va+D*D+za*za,ka=aa*aa+Ta*Ta+ca*ca,pa=e.Lb,Ca=e.Mb,V=e.Nb,fa=c.Lb,w=c.Mb,ta=c.Nb,Ga=f.Lb,da=f.Mb,W=f.Nb;var sa=
fa-pa;var la=w-Ca;var Oa=ta-V;var ab=l-Ga;var ja=m-da;var ob=n-W;var Ha=Ga-pa;var I=da-Ca;var Ka=W-V;var P=l-fa;var na=m-w;var ba=n-ta;var ea=l-pa;var X=m-Ca;var ma=n-V;var xb=Ga-fa;var Za=da-w;var ib=W-ta;var qb=la*ob-Oa*ja;var lb=Oa*ab-sa*ob;var bb=sa*ja-la*ab;var $a=I*ba-Ka*na;var qa=Ka*P-Ha*ba;var mb=Ha*na-I*P;var Db=X*ib-ma*Za;var Xa=ma*xb-ea*ib;var tb=ea*Za-X*xb;var Ma=qb*qb+lb*lb+bb*bb,Eb=$a*$a+qa*qa+mb*mb,ub=Db*Db+Xa*Xa+tb*tb,fb=Ma>Eb?Ma>ub?Ma:ub:Eb>ub?Eb:ub,db=e.Lb,gb=e.Mb,jb=e.Nb,Bb=d.Lb,
kb=d.Mb,nb=d.Nb,Ya=f.Lb,Nb=f.Mb,Lb=f.Nb;var F=Bb-db;var pb=kb-gb;var cb=nb-jb;var Fb=l-Ya;var wb=m-Nb;var eb=n-Lb;var Ib=Ya-db;var Q=Nb-gb;var U=Lb-jb;var u=l-Bb;var Ab=m-kb;var rb=n-nb;var ra=l-db;var Ua=m-gb;var xa=n-jb;var Pa=Ya-Bb;var hb=Nb-kb;var yb=Lb-nb;var Jb=pb*eb-cb*wb;var ua=cb*Fb-F*eb;var Qa=F*wb-pb*Fb;var wa=Q*rb-U*Ab;var Da=U*u-Ib*rb;var S=Ib*Ab-Q*u;var Na=Ua*yb-xa*hb;var Ia=xa*Pa-ra*yb;var Cb=ra*hb-Ua*Pa;var vb=Jb*Jb+ua*ua+Qa*Qa,Kb=wa*wa+Da*Da+S*S,Gb=Na*Na+Ia*Ia+Cb*Cb,Vb=vb>Kb?vb>Gb?
vb:Gb:Kb>Gb?Kb:Gb,Rb=e.Lb,Wb=e.Mb,nc=e.Nb,ac=d.Lb,gc=d.Mb,cc=d.Nb,Tb=c.Lb,Ub=c.Mb,Qb=c.Nb;var hc=ac-Rb;var bc=gc-Wb;var jc=cc-nc;var Xb=l-Tb;var ic=m-Ub;var vc=n-Qb;var Yb=Tb-Rb;var Sc=Ub-Wb;var Mb=Qb-nc;var mc=l-ac;var fc=m-gc;var Zb=n-cc;var lc=l-Rb;var ed=m-Wb;var Cc=n-nc;var wc=Tb-ac;var sc=Ub-gc;var Kc=Qb-cc;var tc=bc*vc-jc*ic;var Lc=jc*Xb-hc*vc;var Id=hc*ic-bc*Xb;var fd=Sc*Zb-Mb*fc;var Xc=Mb*mc-Yb*Zb;var Dc=Yb*fc-Sc*mc;var oc=ed*Kc-Cc*sc;var gd=Cc*wc-lc*Kc;var kc=lc*sc-ed*wc;var hd=tc*tc+Lc*
Lc+Id*Id,Tc=fd*fd+Xc*Xc+Dc*Dc,zd=oc*oc+gd*gd+kc*kc,Ad=ia>T?ia>ka?ia:ka:T>ka?T:ka,id=0;if(fb>Ad&&1!=k||0==k)Ad=fb,id=1;Vb>Ad&&2!=k&&(Ad=Vb,id=2);(hd>Tc?hd>zd?hd:zd:Tc>zd?Tc:zd)>Ad&&3!=k&&(id=3);return id};$i.prototype.V=function(a,b,e){for(var d=Ba.contactPersistenceThreshold*Ba.contactPersistenceThreshold,c=-1,f=0,h=this.Ta.Bd;f<h;){var k=f++,g=this.Ta.rc[k];var l=a.position1;var m=l.x;var n=l.y;var q=l.z;var p=a.position2;var r=p.x;l=p.y;p=p.z;m-=b.F;n-=b.G;q-=b.H;r-=e.F;l-=e.G;p-=e.H;m=g.Lb-m;n=
g.Mb-n;q=g.Nb-q;r=g.kc-r;l=g.lc-l;g=g.mc-p;p=m*m+n*n+q*q;g=r*r+l*l+g*g;g=p<g?p:g;g<d&&(d=g,c=k)}return c};$i.prototype.aa=function(a,b,e){this.h=this.Ta.Bd;for(var d=0,c=this.h;d<c;){var f=d++,h=this.i[f];f=this.Ta.rc[f];h.we=f.we;h.xe=f.xe;h.ye=f.ye;h.ze=f.ze;h.Ae=f.Ae;h.Be=f.Be;h.Lb=f.Lb;h.Mb=f.Mb;h.Nb=f.Nb;h.kc=f.kc;h.lc=f.lc;h.mc=f.mc;h.od=f.od;h.pd=f.pd;h.qd=f.qd;h.rd=f.rd;h.sd=f.sd;h.td=f.td;h.Dc=f.Dc;h.Ad.Dd(f.Ad);h.uc=f.uc;h.Xd=f.Xd;h.ve=!1}d=a.numPoints;this.Ta.Bd=d;for(c=0;c<d;){f=c++;h=
this.Ta.rc[f];f=a.points[f];var k=f.position1;h.od=k.x;h.pd=k.y;h.qd=k.z;k=f.position2;h.rd=k.x;h.sd=k.y;h.td=k.z;h.Lb=h.od-b.F;h.Mb=h.pd-b.G;h.Nb=h.qd-b.H;h.kc=h.rd-e.F;h.lc=h.sd-e.G;h.mc=h.td-e.H;k=b.A*h.Lb+b.o*h.Mb+b.u*h.Nb;var g=b.j*h.Lb+b.v*h.Mb+b.l*h.Nb;var l=b.m*h.Lb+b.s*h.Mb+b.B*h.Nb;h.we=k;h.xe=g;h.ye=l;k=e.A*h.kc+e.o*h.lc+e.u*h.mc;g=e.j*h.kc+e.v*h.lc+e.l*h.mc;l=e.m*h.kc+e.s*h.lc+e.B*h.mc;h.ze=k;h.Ae=g;h.Be=l;h.Dc=f.depth;k=h.Ad;k.Hc=0;k.xc=0;k.wc=0;k.Ib=0;k.ge=0;k.he=0;k.ie=0;h.uc=f.id;
h.Xd=!1;h.ve=!1;f=0;for(k=this.h;f<k;)if(g=this.i[f++],h.uc==g.uc){h.Ad.Dd(g.Ad);h.Xd=!0;break}}};$i.prototype.X=function(a,b,e){this.Ta.Gi(b,e);for(var d=0,c=this.Ta.Bd;d<c;)this.Ta.rc[d++].Xd=!0;a=a.points[0];d=this.V(a,b,e);if(-1==d)this.I(a,b,e);else{d=this.Ta.rc[d];c=a.position1;d.od=c.x;d.pd=c.y;d.qd=c.z;c=a.position2;d.rd=c.x;d.sd=c.y;d.td=c.z;d.Lb=d.od-b.F;d.Mb=d.pd-b.G;d.Nb=d.qd-b.H;d.kc=d.rd-e.F;d.lc=d.sd-e.G;d.mc=d.td-e.H;c=b.A*d.Lb+b.o*d.Mb+b.u*d.Nb;var f=b.j*d.Lb+b.v*d.Mb+b.l*d.Nb;b=
b.m*d.Lb+b.s*d.Mb+b.B*d.Nb;d.we=c;d.xe=f;d.ye=b;b=e.A*d.kc+e.o*d.lc+e.u*d.mc;c=e.j*d.kc+e.v*d.lc+e.l*d.mc;e=e.m*d.kc+e.s*d.lc+e.B*d.mc;d.ze=b;d.Ae=c;d.Be=e;d.Dc=a.depth}this.Y()};Zj.prototype.Mi=function(){this.sc=0;if(0!=this.Ba||0!=this.Ca||0!=this.Da||0!=this.Fa||0!=this.Ga||0!=this.Ha)this.sc|=1;if(0!=this.ka||0!=this.la||0!=this.ma||0!=this.na||0!=this.oa||0!=this.pa)this.sc|=2};ya.prototype.mg=function(){if(0==this.i*this.i+this.C*this.C+this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*
this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}0==this.V*this.V+this.X*this.X+this.Y*this.Y?(this.V=1,this.Y=this.X=0):(a=this.V*this.V+this.X*this.X+this.Y*this.Y,0<a&&(a=1/Math.sqrt(a)),this.V*=a,this.X*=a,this.Y*=a);var b=this.i*this.V+this.C*this.X+this.I*this.Y;if(-.999999999>b){a=this.i;var e=this.C;var d=this.I;b=a*a;var c=e*e;var f=d*d;b<c?b<f?(c=1/Math.sqrt(c+f),b=0,d*=c,c*=-e):(c=1/Math.sqrt(b+c),b=e*c,d=-a*c,c=0):c<f?(c=1/Math.sqrt(f+b),b=-d*c,
d=0,c*=a):(c=1/Math.sqrt(b+c),b=e*c,d=-a*c,c=0);a=b;e=d;b=c;d=0}else a=this.C*this.Y-this.I*this.X,e=this.I*this.V-this.i*this.Y,c=this.i*this.X-this.C*this.V,d=Math.sqrt(.5*(1+b)),b=.5/d,a*=b,e*=b,b*=c;var h=e;e=d;var k=2*a;f=2*h;d=2*b;var g=a*k;var l=h*f;c=b*d;b=a*f;var m=h*d;h=a*d;k*=e;var n=e*f;f=e*d;a=1-l-c;e=b-f;d=h+n;b+=f;c=1-g-c;f=m-k;h-=n;m+=k;g=1-g-l;l=this.i;k=this.C;n=this.I;var q=l*l,p=k*k,r=n*n;q<p?q<r?(q=1/Math.sqrt(p+r),this.Xa=0,this.Za=n*q,this.mb=-k*q):(q=1/Math.sqrt(q+p),this.Xa=
k*q,this.Za=-l*q,this.mb=0):p<r?(q=1/Math.sqrt(r+q),this.Xa=-n*q,this.Za=0,this.mb=l*q):(q=1/Math.sqrt(q+p),this.Xa=k*q,this.Za=-l*q,this.mb=0);this.Eb=this.C*this.mb-this.I*this.Za;this.Jb=this.I*this.Xa-this.i*this.mb;this.Pb=this.i*this.Za-this.C*this.Xa;l=a*this.i+e*this.C+d*this.I;k=b*this.i+c*this.C+f*this.I;n=h*this.i+m*this.C+g*this.I;this.V=l;this.X=k;this.Y=n;l=a*this.Xa+e*this.Za+d*this.mb;k=b*this.Xa+c*this.Za+f*this.mb;n=h*this.Xa+m*this.Za+g*this.mb;this.je=l;this.He=k;this.Ie=n;a=a*
this.Eb+e*this.Jb+d*this.Pb;e=b*this.Eb+c*this.Jb+f*this.Pb;d=h*this.Eb+m*this.Jb+g*this.Pb;this.Rb=a;this.Sb=e;this.Wb=d};ya.prototype.yh=function(){if(0==this.i*this.i+this.C*this.C+this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}0==this.Rb*this.Rb+this.Sb*this.Sb+this.Wb*this.Wb?(this.Sb=this.Rb=0,this.Wb=1):(a=this.Rb*this.Rb+this.Sb*this.Sb+this.Wb*this.Wb,0<a&&(a=1/Math.sqrt(a)),this.Rb*=a,this.Sb*=
a,this.Wb*=a);var b=this.J.g;a=this.K.g;var e=b.A*this.i+b.j*this.C+b.m*this.I;var d=b.o*this.i+b.v*this.C+b.s*this.I;var c=b.u*this.i+b.l*this.C+b.B*this.I;var f=a.A*this.Rb+a.j*this.Sb+a.m*this.Wb;var h=a.o*this.Rb+a.v*this.Sb+a.s*this.Wb;var k=a.u*this.Rb+a.l*this.Sb+a.B*this.Wb;var g=h*c-k*d;var l=k*e-f*c;var m=f*d-h*e;0==g*g+l*l+m*m&&(g=e*e,l=d*d,m=c*c,g<l?g<m?(m=1/Math.sqrt(l+m),g=0,l=c*m,m*=-d):(m=1/Math.sqrt(g+l),g=d*m,l=-e*m,m=0):l<m?(m=1/Math.sqrt(m+g),g=-c*m,l=0,m*=e):(m=1/Math.sqrt(g+
l),g=d*m,l=-e*m,m=0));var n=d*m-c*l;var q=c*g-e*m;var p=e*l-d*g;var r=l*k-m*h;var t=m*f-g*k;var x=g*h-l*f;var v=b.A*e+b.o*d+b.u*c;var B=b.j*e+b.v*d+b.l*c;c=b.m*e+b.s*d+b.B*c;this.i=v;this.C=B;this.I=c;c=b.A*g+b.o*l+b.u*m;e=b.j*g+b.v*l+b.l*m;d=b.m*g+b.s*l+b.B*m;this.Xa=c;this.Za=e;this.mb=d;c=b.A*n+b.o*q+b.u*p;e=b.j*n+b.v*q+b.l*p;b=b.m*n+b.s*q+b.B*p;this.Eb=c;this.Jb=e;this.Pb=b;b=a.A*r+a.o*t+a.u*x;n=a.j*r+a.v*t+a.l*x;r=a.m*r+a.s*t+a.B*x;this.V=b;this.X=n;this.Y=r;b=a.A*g+a.o*l+a.u*m;r=a.j*g+a.v*l+
a.l*m;g=a.m*g+a.s*l+a.B*m;this.je=b;this.He=r;this.Ie=g;g=a.A*f+a.o*h+a.u*k;l=a.j*f+a.v*h+a.l*k;a=a.m*f+a.s*h+a.B*k;this.Rb=g;this.Sb=l;this.Wb=a};ya.prototype.zh=function(){if(0==this.i*this.i+this.C*this.C+this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}this.Eb=this.C*this.mb-this.I*this.Za;this.Jb=this.I*this.Xa-this.i*this.mb;this.Pb=this.i*this.Za-this.C*this.Xa;if(0==this.Eb*this.Eb+this.Jb*this.Jb+
this.Pb*this.Pb){a=this.i;var b=this.C,e=this.I,d=a*a,c=b*b,f=e*e;d<c?d<f?(d=1/Math.sqrt(c+f),this.Xa=0,this.Za=e*d,this.mb=-b*d):(d=1/Math.sqrt(d+c),this.Xa=b*d,this.Za=-a*d,this.mb=0):c<f?(d=1/Math.sqrt(f+d),this.Xa=-e*d,this.Za=0,this.mb=a*d):(d=1/Math.sqrt(d+c),this.Xa=b*d,this.Za=-a*d,this.mb=0);this.Eb=this.C*this.mb-this.I*this.Za;this.Jb=this.I*this.Xa-this.i*this.mb;this.Pb=this.i*this.Za-this.C*this.Xa}else a=this.Eb*this.Eb+this.Jb*this.Jb+this.Pb*this.Pb,0<a&&(a=1/Math.sqrt(a)),this.Eb*=
a,this.Jb*=a,this.Pb*=a,this.Xa=this.Jb*this.I-this.Pb*this.C,this.Za=this.Pb*this.i-this.Eb*this.I,this.mb=this.Eb*this.C-this.Jb*this.i;d=this.i*this.V+this.C*this.X+this.I*this.Y;-.999999999>d?(a=this.i,b=this.C,e=this.I,d=a*a,c=b*b,f=e*e,d<c?d<f?(c=1/Math.sqrt(c+f),d=0,e*=c,c*=-b):(c=1/Math.sqrt(d+c),d=b*c,e=-a*c,c=0):c<f?(c=1/Math.sqrt(f+d),d=-e*c,e=0,c*=a):(c=1/Math.sqrt(d+c),d=b*c,e=-a*c,c=0),a=d,b=e,d=c,e=0):(a=this.C*this.Y-this.I*this.X,b=this.I*this.V-this.i*this.Y,c=this.i*this.X-this.C*
this.V,e=Math.sqrt(.5*(1+d)),d=.5/e,a*=d,b*=d,d*=c);var h=b;f=d;b=e;var k=2*a;var g=2*h;e=2*f;d=a*k;c=h*g;var l=f*e;f=a*g;var m=h*e;h=a*e;k*=b;var n=b*g;g=b*e;a=1-c-l;b=f-g;e=h+n;f+=g;l=1-d-l;g=m-k;h-=n;m+=k;d=1-d-c;c=a*this.i+b*this.C+e*this.I;k=f*this.i+l*this.C+g*this.I;n=h*this.i+m*this.C+d*this.I;this.V=c;this.X=k;this.Y=n;c=a*this.Xa+b*this.Za+e*this.mb;k=f*this.Xa+l*this.Za+g*this.mb;n=h*this.Xa+m*this.Za+d*this.mb;this.je=c;this.He=k;this.Ie=n;a=a*this.Eb+b*this.Jb+e*this.Pb;b=f*this.Eb+l*
this.Jb+g*this.Pb;e=h*this.Eb+m*this.Jb+d*this.Pb;this.Rb=a;this.Sb=b;this.Wb=e};ya.prototype.Af=function(a,b,e,d,c,f,h){var k=Ba.linearSlop;if(h)c=0,h=1;else{if(0<c.frequency){k=0;var g=6.28318530717958*c.frequency,l=c.dampingRatio;l<Ba.minSpringDamperDampingRatio&&(l=Ba.minSpringDamperDampingRatio);h=f.dt;l=2*l*g;g*=g;c.useSymplecticEuler?(c=1/(h*l),h=g/l):(c=1/(h*(h*g+l)),h=g/(h*g+l))}else c=0,h=this.ce(f,!1);0<e.motorForce?(a.motorSpeed=e.motorSpeed,a.Db=e.motorForce*f.dt):(a.motorSpeed=0,a.Db=
0)}f=e.lowerLimit;g=e.upperLimit;f>g?b=l=e=0:f==g?(e=-Infinity,l=Infinity,b-=f):b<f?(e=-Infinity,l=0,b=b-f+k,0<b&&(b=0)):b>g?(e=0,l=Infinity,b=b-g-k,0>b&&(b=0)):b=l=e=0;a.Ra=e;a.Qa=l;a.Va=c*(0==d?0:1/d);a.Oa=b*h};ya.prototype.Ed=function(a,b,e,d,c,f,h){var k=Ba.angularSlop;if(h)c=0,h=1;else{if(0<c.frequency){k=0;var g=6.28318530717958*c.frequency,l=c.dampingRatio;l<Ba.minSpringDamperDampingRatio&&(l=Ba.minSpringDamperDampingRatio);h=f.dt;l=2*l*g;g*=g;c.useSymplecticEuler?(c=1/(h*l),h=g/l):(c=1/(h*
(h*g+l)),h=g/(h*g+l))}else c=0,h=this.ce(f,!1);0<e.motorTorque?(a.motorSpeed=e.motorSpeed,a.Db=e.motorTorque*f.dt):(a.motorSpeed=0,a.Db=0)}f=e.lowerLimit;e=e.upperLimit;l=.5*(f+e);b=((b-l+3.14159265358979)%6.28318530717958+6.28318530717958)%6.28318530717958-3.14159265358979+l;f>e?b=g=l=0:f==e?(l=-Infinity,g=Infinity,b-=f):b<f?(l=-Infinity,g=0,b=b-f+k,0<b&&(b=0)):b>e?(l=0,g=Infinity,b=b-e-k,0>b&&(b=0)):b=g=l=0;a.Ra=l;a.Qa=g;a.Va=c*(0==d?0:1/d);a.Oa=b*h};ya.prototype.ce=function(a,b){return b?1:this.pf==
Jh.BAUMGARTE?a.invDt*Ba.velocityBaumgarte:0};ya.prototype.Sc=function(a,b,e){var d=(this.J.ba*a+this.J.ca*b+this.J.da*e)*a+(this.J.ea*a+this.J.fa*b+this.J.ga*e)*b+(this.J.ha*a+this.J.ia*b+this.J.ja*e)*e,c=(this.K.ba*a+this.K.ca*b+this.K.da*e)*a+(this.K.ea*a+this.K.fa*b+this.K.ga*e)*b+(this.K.ha*a+this.K.ia*b+this.K.ja*e)*e;if(0<d){var f=a*this.aa+b*this.qa+e*this.Ja;f=this.aa*this.aa+this.qa*this.qa+this.Ja*this.Ja-f*f;0<f&&(d=0<this.J.Ab?1/(1/d+this.J.Ce*f):0)}0<c&&(a=a*this.Ka+b*this.Pa+e*this.Sa,
a=this.Ka*this.Ka+this.Pa*this.Pa+this.Sa*this.Sa-a*a,0<a&&(c=0<this.K.Ab?1/(1/c+this.K.Ce*a):0));return 0==d+c?0:1/(d+c)};ya.prototype.Gc=function(){var a=this.J.g,b=this.K.g;var e=a.A*this.tf+a.j*this.uf+a.m*this.vf;var d=a.o*this.tf+a.v*this.uf+a.s*this.vf;var c=a.u*this.tf+a.l*this.uf+a.B*this.vf;this.aa=e;this.qa=d;this.Ja=c;e=b.A*this.wf+b.j*this.yf+b.m*this.zf;d=b.o*this.wf+b.v*this.yf+b.s*this.zf;c=b.u*this.wf+b.l*this.yf+b.B*this.zf;this.Ka=e;this.Pa=d;this.Sa=c;this.ke=this.aa+a.F;this.le=
this.qa+a.G;this.me=this.Ja+a.H;this.ne=this.Ka+b.F;this.oe=this.Pa+b.G;this.pe=this.Sa+b.H;e=a.A*this.i+a.j*this.C+a.m*this.I;d=a.o*this.i+a.v*this.C+a.s*this.I;c=a.u*this.i+a.l*this.C+a.B*this.I;this.pb=e;this.qb=d;this.rb=c;e=a.A*this.Xa+a.j*this.Za+a.m*this.mb;d=a.o*this.Xa+a.v*this.Za+a.s*this.mb;c=a.u*this.Xa+a.l*this.Za+a.B*this.mb;this.Ac=e;this.Bc=d;this.Cc=c;e=a.A*this.Eb+a.j*this.Jb+a.m*this.Pb;d=a.o*this.Eb+a.v*this.Jb+a.s*this.Pb;a=a.u*this.Eb+a.l*this.Jb+a.B*this.Pb;this.Id=e;this.Jd=
d;this.Kd=a;a=b.A*this.V+b.j*this.X+b.m*this.Y;e=b.o*this.V+b.v*this.X+b.s*this.Y;d=b.u*this.V+b.l*this.X+b.B*this.Y;this.cc=a;this.dc=e;this.ec=d;a=b.A*this.je+b.j*this.He+b.m*this.Ie;e=b.o*this.je+b.v*this.He+b.s*this.Ie;d=b.u*this.je+b.l*this.He+b.B*this.Ie;this.Fd=a;this.Gd=e;this.Hd=d;a=b.A*this.Rb+b.j*this.Sb+b.m*this.Wb;e=b.o*this.Rb+b.v*this.Sb+b.s*this.Wb;b=b.u*this.Rb+b.l*this.Sb+b.B*this.Wb;this.se=a;this.te=e;this.ue=b};ya.prototype.nd=function(a,b){b.Yd=this.J;b.Zd=this.K;b.Na=0};ya.prototype.Ec=
function(a){a.Yd=this.J;a.Zd=this.K;a.Na=0};ya.prototype.Bi=function(){var a=this.yg*this.yg+this.zg*this.zg+this.Ag*this.Ag;0<this.rf&&this.vg*this.vg+this.wg*this.wg+this.xg*this.xg>this.rf*this.rf?this.pc.yi(this):0<this.sf&&a>this.sf*this.sf&&this.pc.yi(this)};ya.prototype.gi=function(){return this.J};ya.prototype.hi=function(){return this.K};ya.prototype.Ai=function(){return this.$b};ya.prototype.Bh=function(){var a=new z;a.x=this.ke;a.y=this.le;a.z=this.me;return a};ya.prototype.Dh=function(){var a=
new z;a.x=this.ne;a.y=this.oe;a.z=this.pe;return a};ya.prototype.Ch=function(a){a.x=this.ke;a.y=this.le;a.z=this.me};ya.prototype.Eh=function(a){a.x=this.ne;a.y=this.oe;a.z=this.pe};ya.prototype.xh=function(){var a=new z;a.x=this.tf;a.y=this.uf;a.z=this.vf;return a};ya.prototype.ci=function(){var a=new z;a.x=this.wf;a.y=this.yf;a.z=this.zf;return a};ya.prototype.bi=function(a){a.x=this.tf;a.y=this.uf;a.z=this.vf};ya.prototype.di=function(a){a.x=this.wf;a.y=this.yf;a.z=this.zf};ya.prototype.Jh=function(){var a=
new ha;var b=this.pb;var e=this.Ac;var d=this.Id;var c=this.qb;var f=this.Bc;var h=this.Jd;var k=this.rb;var g=this.Cc;var l=this.Kd;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l;return a};ya.prototype.Lh=function(){var a=new ha;var b=this.cc;var e=this.Fd;var d=this.se;var c=this.dc;var f=this.Gd;var h=this.te;var k=this.ec;var g=this.Hd;var l=this.ue;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l;return a};ya.prototype.Kh=function(a){var b=this.pb;
var e=this.Ac;var d=this.Id;var c=this.qb;var f=this.Bc;var h=this.Jd;var k=this.rb;var g=this.Cc;var l=this.Kd;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l};ya.prototype.Mh=function(a){var b=this.cc;var e=this.Fd;var d=this.se;var c=this.dc;var f=this.Gd;var h=this.te;var k=this.ec;var g=this.Hd;var l=this.ue;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l};ya.prototype.Ah=function(){return this.Ph};ya.prototype.Ri=function(a){this.Ph=a};ya.prototype.Nh=
function(){return this.rf};ya.prototype.Si=function(a){this.rf=a};ya.prototype.Oh=function(){return this.sf};ya.prototype.Ti=function(a){this.sf=a};ya.prototype.fi=function(){return this.pf};ya.prototype.Ui=function(a){switch(a){case 0:case 1:case 2:break;default:throw Error("invalid position correction algorithm id: "+a);}this.pf=a};ya.prototype.Fh=function(){var a=new z;a.x=this.vg;a.y=this.wg;a.z=this.xg;return a};ya.prototype.Gh=function(a){a.x=this.vg;a.y=this.wg;a.z=this.xg};ya.prototype.Hh=
function(){var a=new z;a.x=this.yg;a.y=this.zg;a.z=this.Ag;return a};ya.prototype.Ih=function(a){a.x=this.yg;a.y=this.zg;a.z=this.Ag};ya.prototype.zi=function(){return this.sa};ya.prototype.Vg=function(){return this.U};rl(ec,ya);ec.prototype.Hb=function(a,b,e){var d=this.ce(b,e),c=this.ac*d,f=this.bc*d,h=this.tc*d;d=this.vd*d;var k=1/(this.J.Ab+this.K.Ab);var g=this.Sc(this.h.i,this.h.C,this.h.I);if(0>=this.Gb.frequency||!e){var l=this.M[0],m=a.rows[a.Na++],n=m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=
0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Oa=0;m.Va=0;m.Ra=0;m.Qa=0;m.motorSpeed=0;m.Db=0;m.Aa=l;this.Af(m,this.Ya,this.$h,k,this.Gb,b,e);k=m.Ea;k.Ba=this.h.i;k.Ca=this.h.C;k.Da=this.h.I;k.Fa=this.h.i;k.Ga=this.h.C;k.Ha=this.h.I;k.ka=this.qa*this.h.I-this.Ja*this.h.C;k.la=this.Ja*this.h.i-this.aa*this.h.I;k.ma=this.aa*this.h.C-this.qa*this.h.i;k.na=this.Pa*this.h.I-this.Sa*this.h.C;k.oa=this.Sa*this.h.i-this.Ka*this.h.I;k.pa=this.Ka*this.h.C-this.Pa*this.h.i}k=this.M[1];l=a.rows[a.Na++];
m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Oa=0;l.Va=0;l.Ra=0;l.Qa=0;l.motorSpeed=0;l.Db=0;l.Aa=null;l.Aa=k;l.Oa=c;l.Va=0;l.Ra=-Infinity;l.Qa=Infinity;k=l.Ea;k.Ba=this.h.M;k.Ca=this.h.V;k.Da=this.h.X;k.Fa=this.h.M;k.Ga=this.h.V;k.Ha=this.h.X;k.ka=this.qa*this.h.X-this.Ja*this.h.V;k.la=this.Ja*this.h.M-this.aa*this.h.X;k.ma=this.aa*this.h.V-this.qa*this.h.M;k.na=this.Pa*this.h.X-this.Sa*this.h.V;k.oa=this.Sa*this.h.M-this.Ka*this.h.X;k.pa=this.Ka*this.h.V-
this.Pa*this.h.M;c=this.M[2];k=a.rows[a.Na++];l=k.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;k.Oa=0;k.Va=0;k.Ra=0;k.Qa=0;k.motorSpeed=0;k.Db=0;k.Aa=c;k.Oa=f;k.Va=0;k.Ra=-Infinity;k.Qa=Infinity;k=k.Ea;k.Ba=this.h.Y;k.Ca=this.h.aa;k.Da=this.h.qa;k.Fa=this.h.Y;k.Ga=this.h.aa;k.Ha=this.h.qa;k.ka=this.qa*this.h.qa-this.Ja*this.h.aa;k.la=this.Ja*this.h.Y-this.aa*this.h.qa;k.ma=this.aa*this.h.aa-this.qa*this.h.Y;k.na=this.Pa*this.h.qa-this.Sa*this.h.aa;k.oa=this.Sa*
this.h.Y-this.Ka*this.h.qa;k.pa=this.Ka*this.h.aa-this.Pa*this.h.Y;if(0>=this.tb.frequency||!e)f=this.M[3],c=a.rows[a.Na++],k=c.Ea,k.Ba=0,k.Ca=0,k.Da=0,k.Fa=0,k.Ga=0,k.Ha=0,k.ka=0,k.la=0,k.ma=0,k.na=0,k.oa=0,k.pa=0,c.Oa=0,c.Va=0,c.Ra=0,c.Qa=0,c.motorSpeed=0,c.Db=0,c.Aa=f,this.Ed(c,this.Wa,this.Xh,g,this.tb,b,e),k=c.Ea,k.ka=this.h.i,k.la=this.h.C,k.ma=this.h.I,k.na=this.h.i,k.oa=this.h.C,k.pa=this.h.I;b=this.M[4];e=a.rows[a.Na++];g=e.Ea;g.Ba=0;g.Ca=0;g.Da=0;g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=
0;g.na=0;g.oa=0;g.pa=0;e.Oa=0;e.Va=0;e.Ra=0;e.Qa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Oa=h;e.Va=0;e.Ra=-Infinity;e.Qa=Infinity;k=e.Ea;k.ka=this.h.M;k.la=this.h.V;k.ma=this.h.X;k.na=this.h.M;k.oa=this.h.V;k.pa=this.h.X;h=this.M[5];a=a.rows[a.Na++];b=a.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;a.Oa=0;a.Va=0;a.Ra=0;a.Qa=0;a.motorSpeed=0;a.Db=0;a.Aa=h;a.Oa=d;a.Va=0;a.Ra=-Infinity;a.Qa=Infinity;k=a.Ea;k.ka=this.h.Y;k.la=this.h.aa;k.ma=this.h.qa;k.na=this.h.Y;k.oa=
this.h.aa;k.pa=this.h.qa};ec.prototype.Gc=function(){ya.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*
a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var O=Math.sqrt(.5*(1+d));d=.5/O;B*=d;H*=d;C*=d;r=B;t=H;x=C;v=O}var y,A;var E=A=y=0;var M=1;var G=r;var R=t;var K=x;var oa=v;var N=y*G+A*R+E*K+M*oa;0>N&&(N=-N,G=-G,R=-R,K=-K,oa=-oa);if(.999999<N){var Ra=G-y;var Wa=R-A;var Ja=K-E;var Sa=oa-M;G=y+b/(b+e)*Ra;R=A+b/(b+e)*Wa;K=E+b/(b+e)*Ja;oa=M+b/(b+e)*Sa;var Aa=G*G+R*R+K*K+oa*oa;1E-32<Aa&&(Aa=1/Math.sqrt(Aa));var La=G*Aa;var Fa=R*Aa;var L=K*Aa;var Z=oa*Aa}else{var Y=b/(b+e)*Math.acos(N);G+=y*-N;R+=
A*-N;K+=E*-N;oa+=M*-N;var va=G*G+R*R+K*K+oa*oa;1E-32<va&&(va=1/Math.sqrt(va));G*=va;R*=va;K*=va;oa*=va;var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;M*=D;La=y+G*Va;Fa=A+R*Va;L=E+K*Va;Z=M+oa*Va}var za=La,aa=Fa,Ta=L,ca=Z,ia=2*za,T=2*aa,ka=2*Ta,pa=za*ia,Ca=aa*T,V=Ta*ka,fa=za*T,w=aa*ka,ta=za*ka,Ga=ca*ia,da=ca*T,W=ca*ka;var sa=1-Ca-V;var la=fa-W;var Oa=ta+da;var ab=fa+W;var ja=1-pa-V;var ob=w-Ga;var Ha=ta-da;var I=w+Ga;var Ka=1-pa-Ca;var P=sa*a.h.pb+la*a.h.qb+Oa*a.h.rb;var na=ab*a.h.pb+ja*a.h.qb+ob*
a.h.rb;var ba=Ha*a.h.pb+I*a.h.qb+Ka*a.h.rb;var ea=a.i;var X=a.C;var ma=a.I;var xb=a.M;var Za=a.V;var ib=a.X;var qb=ea*P+X*na+ma*ba;if(-.999999999>qb){var lb=ea*ea,bb=X*X,$a=ma*ma;if(lb<bb)if(lb<$a){var qa=1/Math.sqrt(bb+$a);var mb=0;var Db=ma*qa;var Xa=-X*qa}else qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0;else bb<$a?(qa=1/Math.sqrt($a+lb),mb=-ma*qa,Db=0,Xa=ea*qa):(qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0);La=mb;Fa=Db;L=Xa;Z=0}else{var tb=X*ba-ma*na;var Ma=ma*P-ea*ba;var Eb=ea*na-X*P;var ub=
Math.sqrt(.5*(1+qb));qb=.5/ub;tb*=qb;Ma*=qb;Eb*=qb;La=tb;Fa=Ma;L=Eb;Z=ub}var fb=La,db=Fa,gb=L,jb=Z,Bb=2*fb,kb=2*db,nb=2*gb,Ya=fb*Bb,Nb=db*kb,Lb=gb*nb,F=fb*kb,pb=db*nb,cb=fb*nb,Fb=jb*Bb,wb=jb*kb,eb=jb*nb;sa=1-Nb-Lb;la=F-eb;Oa=cb+wb;ab=F+eb;ja=1-Ya-Lb;ob=pb-Fb;Ha=cb-wb;I=pb+Fb;Ka=1-Ya-Nb;var Ib=sa*xb+la*Za+Oa*ib;var Q=ab*xb+ja*Za+ob*ib;var U=Ha*xb+I*Za+Ka*ib;var u=Ib;var Ab=Q;var rb=U;var ra=na*rb-ba*Ab;var Ua=ba*u-P*rb;var xa=P*Ab-na*u;if(1E-6<ra*ra+Ua*Ua+xa*xa){var Pa=ra*ra+Ua*Ua+xa*xa;0<Pa&&(Pa=
1/Math.sqrt(Pa));ra*=Pa;Ua*=Pa;xa*=Pa}else{var hb=P*P,yb=na*na,Jb=ba*ba;if(hb<yb)if(hb<Jb){var ua=1/Math.sqrt(yb+Jb);ra=0;Ua=ba*ua;xa=-na*ua}else ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0;else yb<Jb?(ua=1/Math.sqrt(Jb+hb),ra=-ba*ua,Ua=0,xa=P*ua):(ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0)}u=Ua*ba-xa*na;Ab=xa*P-ra*ba;rb=ra*na-Ua*P;a.i=P;a.C=na;a.I=ba;a.M=u;a.V=Ab;a.X=rb;a.Y=ra;a.aa=Ua;a.qa=xa;var Qa=this.qb*this.ec-this.rb*this.dc;var wa=this.rb*this.cc-this.pb*this.ec;var Da=this.pb*this.dc-
this.qb*this.cc;var S=this.pb*this.cc+this.qb*this.dc+this.rb*this.ec,Na=-1>=S?3.14159265358979:1<=S?0:Math.acos(S),Ia=Qa*Qa+wa*wa+Da*Da;0<Ia&&(Ia=1/Math.sqrt(Ia));Qa*=Ia;wa*=Ia;Da*=Ia;Qa*=Na;wa*=Na;Da*=Na;this.tc=Qa*this.h.M+wa*this.h.V+Da*this.h.X;this.vd=Qa*this.h.Y+wa*this.h.aa+Da*this.h.qa;var Cb=this.Bc*this.Hd-this.Cc*this.Gd;var vb=this.Cc*this.Fd-this.Ac*this.Hd;var Kb=this.Ac*this.Gd-this.Bc*this.Fd;S=this.Ac*this.Fd+this.Bc*this.Gd+this.Cc*this.Hd;this.Wa=-1>=S?3.14159265358979:1<=S?0:
Math.acos(S);0>Cb*this.h.i+vb*this.h.C+Kb*this.h.I&&(this.Wa=-this.Wa);var Gb=this.ne-this.ke;var Vb=this.oe-this.le;var Rb=this.pe-this.me;this.Ya=Gb*this.h.i+Vb*this.h.C+Rb*this.h.I;this.ac=Gb*this.h.M+Vb*this.h.V+Rb*this.h.X;this.bc=Gb*this.h.Y+Vb*this.h.aa+Rb*this.h.qa};ec.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.Hb(b,a,!1)};ec.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.Hb(a,null,!0)};ec.prototype.gd=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;
return a};ec.prototype.jd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};ec.prototype.hd=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};ec.prototype.wd=function(a){a.x=this.cc;a.y=this.dc;a.z=this.ec};ec.prototype.$d=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};ec.prototype.be=function(){var a=new z;a.x=this.V;a.y=this.X;a.z=this.Y;return a};ec.prototype.ae=function(a){a.x=this.i;a.y=this.C;a.z=this.I};ec.prototype.Qd=function(a){a.x=this.V;a.y=this.X;
a.z=this.Y};ec.prototype.Ze=function(){return this.Gb};ec.prototype.Xe=function(){return this.tb};ec.prototype.Ye=function(){return this.$h};ec.prototype.We=function(){return this.Xh};ec.prototype.yc=function(){return this.Wa};ec.prototype.Rd=function(){return this.Ya};jf.prototype.h=function(a,b,e){this.rigidBody1=a;this.rigidBody2=b;var d=this.rigidBody1;a=this.localAnchor1;var c=e.x;var f=e.y;var h=e.z;c-=d.g.F;f-=d.g.G;h-=d.g.H;b=d.g.A*c+d.g.o*f+d.g.u*h;var k=d.g.j*c+d.g.v*f+d.g.l*h;d=d.g.m*c+
d.g.s*f+d.g.B*h;a.x=b;a.y=k;a.z=d;b=this.rigidBody2;a=this.localAnchor2;k=e.x;d=e.y;f=e.z;k-=b.g.F;d-=b.g.G;f-=b.g.H;e=b.g.A*k+b.g.o*d+b.g.u*f;c=b.g.j*k+b.g.v*d+b.g.l*f;b=b.g.m*k+b.g.s*d+b.g.B*f;a.x=e;a.y=c;a.z=b};rl(Yj,jf);Yj.prototype.Ia=function(a,b,e,d){this.h(a,b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*e+b.g.v*
k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};rl(Qc,ya);Qc.prototype.gd=function(a,b,e){var d=1/(this.J.Ab+this.K.Ab),c=this.Sc(this.h,this.Wa,this.Ya),f=this.Sc(this.Mc,this.Nc,this.Oc),h=this.Sc(this.tb,this.Gb,this.Hb);if(0>=this.bc[0].frequency||!e){var k=this.M[0];var g=a.rows[a.Na++],l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Oa=0;g.Va=0;g.Ra=0;g.Qa=0;g.motorSpeed=0;g.Db=0;g.Aa=k;this.Af(g,this.tc,this.Oe[0],d,this.bc[0],
b,e);k=g.Ea;k.Ba=this.pb;k.Ca=this.qb;k.Da=this.rb;k.Fa=this.pb;k.Ga=this.qb;k.Ha=this.rb;k.ka=this.qa*this.rb-this.Ja*this.qb;k.la=this.Ja*this.pb-this.aa*this.rb;k.ma=this.aa*this.qb-this.qa*this.pb;k.na=this.Pa*this.rb-this.Sa*this.qb;k.oa=this.Sa*this.pb-this.Ka*this.rb;k.pa=this.Ka*this.qb-this.Pa*this.pb}if(0>=this.bc[1].frequency||!e)k=this.M[1],g=a.rows[a.Na++],l=g.Ea,l.Ba=0,l.Ca=0,l.Da=0,l.Fa=0,l.Ga=0,l.Ha=0,l.ka=0,l.la=0,l.ma=0,l.na=0,l.oa=0,l.pa=0,g.Oa=0,g.Va=0,g.Ra=0,g.Qa=0,g.motorSpeed=
0,g.Db=0,g.Aa=k,this.Af(g,this.vd,this.Oe[1],d,this.bc[1],b,e),k=g.Ea,k.Ba=this.Ac,k.Ca=this.Bc,k.Da=this.Cc,k.Fa=this.Ac,k.Ga=this.Bc,k.Ha=this.Cc,k.ka=this.qa*this.Cc-this.Ja*this.Bc,k.la=this.Ja*this.Ac-this.aa*this.Cc,k.ma=this.aa*this.Bc-this.qa*this.Ac,k.na=this.Pa*this.Cc-this.Sa*this.Bc,k.oa=this.Sa*this.Ac-this.Ka*this.Cc,k.pa=this.Ka*this.Bc-this.Pa*this.Ac;if(0>=this.bc[2].frequency||!e)k=this.M[2],g=a.rows[a.Na++],l=g.Ea,l.Ba=0,l.Ca=0,l.Da=0,l.Fa=0,l.Ga=0,l.Ha=0,l.ka=0,l.la=0,l.ma=0,l.na=
0,l.oa=0,l.pa=0,g.Oa=0,g.Va=0,g.Ra=0,g.Qa=0,g.motorSpeed=0,g.Db=0,g.Aa=k,this.Af(g,this.yc,this.Oe[2],d,this.bc[2],b,e),k=g.Ea,k.Ba=this.Id,k.Ca=this.Jd,k.Da=this.Kd,k.Fa=this.Id,k.Ga=this.Jd,k.Ha=this.Kd,k.ka=this.qa*this.Kd-this.Ja*this.Jd,k.la=this.Ja*this.Id-this.aa*this.Kd,k.ma=this.aa*this.Jd-this.qa*this.Id,k.na=this.Pa*this.Kd-this.Sa*this.Jd,k.oa=this.Sa*this.Id-this.Ka*this.Kd,k.pa=this.Ka*this.Jd-this.Pa*this.Id;this.hd||!(0>=this.ac[0].frequency)&&e||(d=this.M[3],k=a.rows[a.Na++],g=k.Ea,
g.Ba=0,g.Ca=0,g.Da=0,g.Fa=0,g.Ga=0,g.Ha=0,g.ka=0,g.la=0,g.ma=0,g.na=0,g.oa=0,g.pa=0,k.Oa=0,k.Va=0,k.Ra=0,k.Qa=0,k.motorSpeed=0,k.Db=0,k.Aa=d,this.Ed(k,this.qe,this.Ne[0],c,this.ac[0],b,e),k=k.Ea,k.ka=this.h,k.la=this.Wa,k.ma=this.Ya,k.na=this.h,k.oa=this.Wa,k.pa=this.Ya);this.jd||!(0>=this.ac[1].frequency)&&e||(c=this.M[4],d=a.rows[a.Na++],k=d.Ea,k.Ba=0,k.Ca=0,k.Da=0,k.Fa=0,k.Ga=0,k.Ha=0,k.ka=0,k.la=0,k.ma=0,k.na=0,k.oa=0,k.pa=0,d.Oa=0,d.Va=0,d.Ra=0,d.Qa=0,d.motorSpeed=0,d.Db=0,d.Aa=c,this.Ed(d,this.Df,
this.Ne[1],f,this.ac[1],b,e),k=d.Ea,k.ka=this.Mc,k.la=this.Nc,k.ma=this.Oc,k.na=this.Mc,k.oa=this.Nc,k.pa=this.Oc);this.wd||!(0>=this.ac[2].frequency)&&e||(f=this.M[5],a=a.rows[a.Na++],c=a.Ea,c.Ba=0,c.Ca=0,c.Da=0,c.Fa=0,c.Ga=0,c.Ha=0,c.ka=0,c.la=0,c.ma=0,c.na=0,c.oa=0,c.pa=0,a.Oa=0,a.Va=0,a.Ra=0,a.Qa=0,a.motorSpeed=0,a.Db=0,a.Aa=f,this.Ed(a,this.re,this.Ne[2],h,this.ac[2],b,e),k=a.Ea,k.ka=this.tb,k.la=this.Gb,k.ma=this.Hb,k.na=this.tb,k.oa=this.Gb,k.pa=this.Hb)};Qc.prototype.Gc=function(){ya.prototype.Gc.call(this);
var a=this.pb;var b=this.qb;var e=this.rb;var d=this.se;var c=this.te;var f=this.ue;var h=c*e-f*b;var k=f*a-d*e;var g=d*b-c*a;this.h=k*f-g*c;this.Wa=g*d-h*f;this.Ya=h*c-k*d;this.Mc=h;this.Nc=k;this.Oc=g;this.tb=b*g-e*k;this.Gb=e*h-a*g;this.Hb=a*k-b*h;a=this.h*this.h+this.Wa*this.Wa+this.Ya*this.Ya;0<a&&(a=1/Math.sqrt(a));this.h*=a;this.Wa*=a;this.Ya*=a;a=this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;0<a&&(a=1/Math.sqrt(a));this.Mc*=a;this.Nc*=a;this.Oc*=a;a=this.tb*this.tb+this.Gb*this.Gb+this.Hb*
this.Hb;0<a&&(a=1/Math.sqrt(a));this.tb*=a;this.Gb*=a;this.Hb*=a;this.hd=0==this.h*this.h+this.Wa*this.Wa+this.Ya*this.Ya;this.jd=0==this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;this.wd=0==this.tb*this.tb+this.Gb*this.Gb+this.Hb*this.Hb;a=this.pb;var l=this.Ac;var m=this.Id;b=this.qb;var n=this.Bc;var q=this.Jd;e=this.rb;var p=this.Cc;var r=this.Kd;h=this.cc;k=this.Fd;var t=this.se;g=this.dc;d=this.Gd;var x=this.te;c=this.ec;f=this.Hd;var v=this.ue;var B=a*t+b*x+e*v;var H=l*k+n*d+p*f;var C=m*k+
q*d+r*f;-1>=B?(a=Math.atan2(C,H),l=.5*a,B=-1.570796326794895,a=.5*-a):1<=B?(a=Math.atan2(C,H),l=.5*a,B=1.570796326794895,a*=.5):(l=Math.atan2(-(l*t+n*x+p*v),m*t+q*x+r*v),B=Math.asin(B),a=Math.atan2(-(a*k+b*d+e*f),a*h+b*g+e*c));this.qe=l;this.Df=B;this.re=a;a=this.ne-this.ke;b=this.oe-this.le;e=this.pe-this.me;this.tc=a*this.pb+b*this.qb+e*this.rb;this.vd=a*this.Ac+b*this.Bc+e*this.Cc;this.yc=a*this.Id+b*this.Jd+e*this.Kd};Qc.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.gd(b,a,!1)};
Qc.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.gd(a,null,!0)};Qc.prototype.ae=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};Qc.prototype.be=function(){var a=new z;a.x=this.Mc;a.y=this.Nc;a.z=this.Oc;return a};Qc.prototype.Qd=function(){var a=new z;a.x=this.se;a.y=this.te;a.z=this.ue;return a};Qc.prototype.Ye=function(){return this.bc.slice(0)};Qc.prototype.We=function(){return this.ac.slice(0)};Qc.prototype.Xe=function(){return this.Oe.slice(0)};Qc.prototype.Rd=
function(){return this.Ne.slice(0)};Qc.prototype.$d=function(){return new z(this.qe,this.Df,this.re)};Qc.prototype.Ze=function(){return new z(this.tc,this.vd,this.yc)};rl(Xj,jf);Xj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);var f=a.g;b=b.g;var h=d.e00;var k=d.e01;var g=d.e02;var l=d.e10;var m=d.e11;var n=d.e12;var q=d.e20;var p=d.e21;var r=d.e22;var t=c.e00;var x=c.e01;var v=c.e02;var B=c.e10;var H=c.e11;var C=c.e12;var O=c.e20;var y=c.e21;var A=c.e22;c=f.A*h+f.o*l+f.u*q;d=f.A*k+f.o*m+f.u*p;a=
f.A*g+f.o*n+f.u*r;e=f.j*h+f.v*l+f.l*q;var E=f.j*k+f.v*m+f.l*p;var M=f.j*g+f.v*n+f.l*r;h=f.m*h+f.s*l+f.B*q;k=f.m*k+f.s*m+f.B*p;l=f.m*g+f.s*n+f.B*r;f=b.A*t+b.o*B+b.u*O;g=b.A*x+b.o*H+b.u*y;n=b.A*v+b.o*C+b.u*A;m=b.j*t+b.v*B+b.l*O;p=b.j*x+b.v*H+b.l*y;r=b.j*v+b.v*C+b.l*A;t=b.m*t+b.s*B+b.B*O;x=b.m*x+b.s*H+b.B*y;b=b.m*v+b.s*C+b.B*A;v=this.localBasis1;v.e00=c;v.e01=d;v.e02=a;v.e10=e;v.e11=E;v.e12=M;v.e20=h;v.e21=k;v.e22=l;c=this.localBasis2;c.e00=f;c.e01=g;c.e02=n;c.e10=m;c.e11=p;c.e12=r;c.e20=t;c.e21=x;c.e22=
b;return this};Df.prototype.h=function(){return this.Th};Df.prototype.C=function(){return this.Fc};Df.prototype.I=function(){return this.sa};Df.prototype.i=function(){return this.U};rl(rc,ya);rc.prototype.tc=function(a,b,e){var d=this.ce(b,e),c=this.ac*d,f=this.bc*d,h=this.tb*d,k=this.Wa*d;d=this.Ya*d;if(0>=this.Gb.frequency||!e){var g=this.M[0],l=a.rows[a.Na++],m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Oa=0;l.Va=0;l.Ra=0;l.Qa=0;l.motorSpeed=0;l.Db=
0;l.Aa=g;this.Af(l,this.Hb,this.cg,1/(this.J.Ab+this.K.Ab),this.Gb,b,e);b=l.Ea;b.Ba=this.h.i;b.Ca=this.h.C;b.Da=this.h.I;b.Fa=this.h.i;b.Ga=this.h.C;b.Ha=this.h.I;b.ka=this.qa*this.h.I-this.Ja*this.h.C;b.la=this.Ja*this.h.i-this.aa*this.h.I;b.ma=this.aa*this.h.C-this.qa*this.h.i;b.na=this.Pa*this.h.I-this.Sa*this.h.C;b.oa=this.Sa*this.h.i-this.Ka*this.h.I;b.pa=this.Ka*this.h.C-this.Pa*this.h.i}b=this.M[1];e=a.rows[a.Na++];g=e.Ea;g.Ba=0;g.Ca=0;g.Da=0;g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=0;g.na=
0;g.oa=0;g.pa=0;e.Oa=0;e.Va=0;e.Ra=0;e.Qa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Oa=c;e.Va=0;e.Ra=-Infinity;e.Qa=Infinity;b=e.Ea;b.Ba=this.h.M;b.Ca=this.h.V;b.Da=this.h.X;b.Fa=this.h.M;b.Ga=this.h.V;b.Ha=this.h.X;b.ka=this.qa*this.h.X-this.Ja*this.h.V;b.la=this.Ja*this.h.M-this.aa*this.h.X;b.ma=this.aa*this.h.V-this.qa*this.h.M;b.na=this.Pa*this.h.X-this.Sa*this.h.V;b.oa=this.Sa*this.h.M-this.Ka*this.h.X;b.pa=this.Ka*this.h.V-this.Pa*this.h.M;c=this.M[2];b=a.rows[a.Na++];e=b.Ea;e.Ba=0;e.Ca=0;e.Da=0;e.Fa=
0;e.Ga=0;e.Ha=0;e.ka=0;e.la=0;e.ma=0;e.na=0;e.oa=0;e.pa=0;b.Oa=0;b.Va=0;b.Ra=0;b.Qa=0;b.motorSpeed=0;b.Db=0;b.Aa=c;b.Oa=f;b.Va=0;b.Ra=-Infinity;b.Qa=Infinity;b=b.Ea;b.Ba=this.h.Y;b.Ca=this.h.aa;b.Da=this.h.qa;b.Fa=this.h.Y;b.Ga=this.h.aa;b.Ha=this.h.qa;b.ka=this.qa*this.h.qa-this.Ja*this.h.aa;b.la=this.Ja*this.h.Y-this.aa*this.h.qa;b.ma=this.aa*this.h.aa-this.qa*this.h.Y;b.na=this.Pa*this.h.qa-this.Sa*this.h.aa;b.oa=this.Sa*this.h.Y-this.Ka*this.h.qa;b.pa=this.Ka*this.h.aa-this.Pa*this.h.Y;f=this.M[3];
c=a.rows[a.Na++];b=c.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;c.Oa=0;c.Va=0;c.Ra=0;c.Qa=0;c.motorSpeed=0;c.Db=0;c.Aa=f;c.Oa=h;c.Va=0;c.Ra=-Infinity;c.Qa=Infinity;b=c.Ea;b.ka=1;b.la=0;b.ma=0;b.na=1;b.oa=0;b.pa=0;h=this.M[4];f=a.rows[a.Na++];c=f.Ea;c.Ba=0;c.Ca=0;c.Da=0;c.Fa=0;c.Ga=0;c.Ha=0;c.ka=0;c.la=0;c.ma=0;c.na=0;c.oa=0;c.pa=0;f.Oa=0;f.Va=0;f.Ra=0;f.Qa=0;f.motorSpeed=0;f.Db=0;f.Aa=h;f.Oa=k;f.Va=0;f.Ra=-Infinity;f.Qa=Infinity;b=f.Ea;b.ka=0;b.la=1;b.ma=
0;b.na=0;b.oa=1;b.pa=0;k=this.M[5];a=a.rows[a.Na++];h=a.Ea;h.Ba=0;h.Ca=0;h.Da=0;h.Fa=0;h.Ga=0;h.Ha=0;h.ka=0;h.la=0;h.ma=0;h.na=0;h.oa=0;h.pa=0;a.Oa=0;a.Va=0;a.Ra=0;a.Qa=0;a.motorSpeed=0;a.Db=0;a.Aa=k;a.Oa=d;a.Va=0;a.Ra=-Infinity;a.Qa=Infinity;b=a.Ea;b.ka=0;b.la=0;b.ma=1;b.na=0;b.oa=0;b.pa=1};rc.prototype.Gc=function(){ya.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<
l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var O=Math.sqrt(.5*(1+d));d=.5/O;B*=d;H*=d;C*=d;r=B;t=H;x=C;v=O}var y,A;var E=A=y=0;var M=1;var G=r;var R=t;var K=x;var oa=v;var N=y*G+A*R+E*K+M*oa;0>N&&(N=-N,G=-G,R=-R,K=-K,oa=-oa);
if(.999999<N){var Ra=G-y;var Wa=R-A;var Ja=K-E;var Sa=oa-M;G=y+b/(b+e)*Ra;R=A+b/(b+e)*Wa;K=E+b/(b+e)*Ja;oa=M+b/(b+e)*Sa;var Aa=G*G+R*R+K*K+oa*oa;1E-32<Aa&&(Aa=1/Math.sqrt(Aa));var La=G*Aa;var Fa=R*Aa;var L=K*Aa;var Z=oa*Aa}else{var Y=b/(b+e)*Math.acos(N);G+=y*-N;R+=A*-N;K+=E*-N;oa+=M*-N;var va=G*G+R*R+K*K+oa*oa;1E-32<va&&(va=1/Math.sqrt(va));G*=va;R*=va;K*=va;oa*=va;var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;M*=D;La=y+G*Va;Fa=A+R*Va;L=E+K*Va;Z=M+oa*Va}var za=La,aa=Fa,Ta=L,ca=Z,ia=2*za,T=2*aa,
ka=2*Ta,pa=za*ia,Ca=aa*T,V=Ta*ka,fa=za*T,w=aa*ka,ta=za*ka,Ga=ca*ia,da=ca*T,W=ca*ka;var sa=1-Ca-V;var la=fa-W;var Oa=ta+da;var ab=fa+W;var ja=1-pa-V;var ob=w-Ga;var Ha=ta-da;var I=w+Ga;var Ka=1-pa-Ca;var P=sa*a.h.pb+la*a.h.qb+Oa*a.h.rb;var na=ab*a.h.pb+ja*a.h.qb+ob*a.h.rb;var ba=Ha*a.h.pb+I*a.h.qb+Ka*a.h.rb;var ea=a.i;var X=a.C;var ma=a.I;var xb=a.M;var Za=a.V;var ib=a.X;var qb=ea*P+X*na+ma*ba;if(-.999999999>qb){var lb=ea*ea,bb=X*X,$a=ma*ma;if(lb<bb)if(lb<$a){var qa=1/Math.sqrt(bb+$a);var mb=0;var Db=
ma*qa;var Xa=-X*qa}else qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0;else bb<$a?(qa=1/Math.sqrt($a+lb),mb=-ma*qa,Db=0,Xa=ea*qa):(qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0);La=mb;Fa=Db;L=Xa;Z=0}else{var tb=X*ba-ma*na;var Ma=ma*P-ea*ba;var Eb=ea*na-X*P;var ub=Math.sqrt(.5*(1+qb));qb=.5/ub;tb*=qb;Ma*=qb;Eb*=qb;La=tb;Fa=Ma;L=Eb;Z=ub}var fb=La,db=Fa,gb=L,jb=Z,Bb=2*fb,kb=2*db,nb=2*gb,Ya=fb*Bb,Nb=db*kb,Lb=gb*nb,F=fb*kb,pb=db*nb,cb=fb*nb,Fb=jb*Bb,wb=jb*kb,eb=jb*nb;sa=1-Nb-Lb;la=F-eb;Oa=cb+wb;ab=F+eb;ja=
1-Ya-Lb;ob=pb-Fb;Ha=cb-wb;I=pb+Fb;Ka=1-Ya-Nb;var Ib=sa*xb+la*Za+Oa*ib;var Q=ab*xb+ja*Za+ob*ib;var U=Ha*xb+I*Za+Ka*ib;var u=Ib;var Ab=Q;var rb=U;var ra=na*rb-ba*Ab;var Ua=ba*u-P*rb;var xa=P*Ab-na*u;if(1E-6<ra*ra+Ua*Ua+xa*xa){var Pa=ra*ra+Ua*Ua+xa*xa;0<Pa&&(Pa=1/Math.sqrt(Pa));ra*=Pa;Ua*=Pa;xa*=Pa}else{var hb=P*P,yb=na*na,Jb=ba*ba;if(hb<yb)if(hb<Jb){var ua=1/Math.sqrt(yb+Jb);ra=0;Ua=ba*ua;xa=-na*ua}else ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0;else yb<Jb?(ua=1/Math.sqrt(Jb+hb),ra=-ba*ua,Ua=0,xa=
P*ua):(ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0)}u=Ua*ba-xa*na;Ab=xa*P-ra*ba;rb=ra*na-Ua*P;a.i=P;a.C=na;a.I=ba;a.M=u;a.V=Ab;a.X=rb;a.Y=ra;a.aa=Ua;a.qa=xa;var Qa=this.pb;var wa=this.Ac;var Da=this.Id;var S=this.qb;var Na=this.Bc;var Ia=this.Jd;var Cb=this.rb;var vb=this.Cc;var Kb=this.Kd;var Gb=this.cc;var Vb=this.Fd;var Rb=this.se;var Wb=this.dc;var nc=this.Gd;var ac=this.te;var gc=this.ec;var cc=this.Hd;var Tb=this.ue;var Ub=Gb*Qa+Vb*wa+Rb*Da;var Qb=Gb*S+Vb*Na+Rb*Ia;var hc=Gb*Cb+Vb*vb+Rb*Kb;
var bc=Wb*Qa+nc*wa+ac*Da;var jc=Wb*S+nc*Na+ac*Ia;var Xb=Wb*Cb+nc*vb+ac*Kb;var ic=gc*Qa+cc*wa+Tb*Da;var vc=gc*S+cc*Na+Tb*Ia;var Yb=gc*Cb+cc*vb+Tb*Kb,Sc=Ub+jc+Yb;if(0<Sc){var Mb=Math.sqrt(Sc+1);var mc=.5*Mb;Mb=.5/Mb;var fc=(vc-Xb)*Mb;var Zb=(hc-ic)*Mb;var lc=(bc-Qb)*Mb}else Ub>jc?Ub>Yb?(Mb=Math.sqrt(Ub-jc-Yb+1),fc=.5*Mb,Mb=.5/Mb,Zb=(Qb+bc)*Mb,lc=(hc+ic)*Mb,mc=(vc-Xb)*Mb):(Mb=Math.sqrt(Yb-Ub-jc+1),lc=.5*Mb,Mb=.5/Mb,fc=(hc+ic)*Mb,Zb=(Xb+vc)*Mb,mc=(bc-Qb)*Mb):jc>Yb?(Mb=Math.sqrt(jc-Yb-Ub+1),Zb=.5*Mb,Mb=
.5/Mb,fc=(Qb+bc)*Mb,lc=(Xb+vc)*Mb,mc=(hc-ic)*Mb):(Mb=Math.sqrt(Yb-Ub-jc+1),lc=.5*Mb,Mb=.5/Mb,fc=(hc+ic)*Mb,Zb=(Xb+vc)*Mb,mc=(bc-Qb)*Mb);var ed=mc,Cc=2*(-1>=ed?3.14159265358979:1<=ed?0:Math.acos(ed));this.tb=fc;this.Wa=Zb;this.Ya=lc;var wc=this.tb*this.tb+this.Wa*this.Wa+this.Ya*this.Ya;0<wc&&(wc=1/Math.sqrt(wc));this.tb*=wc;this.Wa*=wc;this.Ya*=wc;this.tb*=Cc;this.Wa*=Cc;this.Ya*=Cc;var sc=this.ne-this.ke;var Kc=this.oe-this.le;var tc=this.pe-this.me;this.Hb=sc*this.h.i+Kc*this.h.C+tc*this.h.I;this.ac=
sc*this.h.M+Kc*this.h.V+tc*this.h.X;this.bc=sc*this.h.Y+Kc*this.h.aa+tc*this.h.qa};rc.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.tc(b,a,!1)};rc.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.tc(a,null,!0)};rc.prototype.vd=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};rc.prototype.gd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};rc.prototype.yc=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};rc.prototype.hd=function(a){a.x=
this.cc;a.y=this.dc;a.z=this.ec};rc.prototype.wd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};rc.prototype.ae=function(){var a=new z;a.x=this.V;a.y=this.X;a.z=this.Y;return a};rc.prototype.$d=function(a){a.x=this.i;a.y=this.C;a.z=this.I};rc.prototype.be=function(a){a.x=this.V;a.y=this.X;a.z=this.Y};rc.prototype.Qd=function(){return this.Gb};rc.prototype.jd=function(){return this.cg};rc.prototype.Rd=function(){return this.Hb};rl(Wj,jf);Wj.prototype.Ia=function(a,b,e,d){this.h(a,
b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*e+b.g.v*k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};rl($b,ya);$b.prototype.wd=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=-this.Ja;var g=this.qa;var l=this.Ja;var m=-this.aa;var n=-this.qa;var q=this.aa;var p=
-this.Sa;var r=this.Pa;var t=this.Sa;var x=-this.Ka;var v=-this.Pa;var B=this.Ka;var H=this.Sc(this.h,this.Wa,this.Ya);d=this.Sc(this.cc,this.dc,this.ec);var C=this.M[0],O=a.rows[a.Na++],y=O.Ea;y.Ba=0;y.Ca=0;y.Da=0;y.Fa=0;y.Ga=0;y.Ha=0;y.ka=0;y.la=0;y.ma=0;y.na=0;y.oa=0;y.pa=0;O.Oa=0;O.Va=0;O.Ra=0;O.Qa=0;O.motorSpeed=0;O.Db=0;O.Aa=C;O.Oa=c;O.Va=0;O.Ra=-Infinity;O.Qa=Infinity;c=O.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-k;c.ma=-g;c.na=-0;c.oa=-p;c.pa=-r;c=this.M[1];k=a.rows[a.Na++];
g=k.Ea;g.Ba=0;g.Ca=0;g.Da=0;g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=0;g.na=0;g.oa=0;g.pa=0;k.Oa=0;k.Va=0;k.Ra=0;k.Qa=0;k.motorSpeed=0;k.Db=0;k.Aa=c;k.Oa=f;k.Va=0;k.Ra=-Infinity;k.Qa=Infinity;c=k.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-l;c.la=-0;c.ma=-m;c.na=-t;c.oa=-0;c.pa=-x;f=this.M[2];l=a.rows[a.Na++];m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Oa=0;l.Va=0;l.Ra=0;l.Qa=0;l.motorSpeed=0;l.Db=0;l.Aa=f;l.Oa=h;l.Va=0;l.Ra=-Infinity;l.Qa=Infinity;
c=l.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-n;c.la=-q;c.ma=-0;c.na=-v;c.oa=-B;c.pa=-0;0<this.yc&&(0>=this.gd.frequency||!e)&&(h=this.M[3],n=a.rows[a.Na++],q=n.Ea,q.Ba=0,q.Ca=0,q.Da=0,q.Fa=0,q.Ga=0,q.Ha=0,q.ka=0,q.la=0,q.ma=0,q.na=0,q.oa=0,q.pa=0,n.Oa=0,n.Va=0,n.Ra=0,n.Qa=0,n.motorSpeed=0,n.Db=0,n.Aa=h,this.Ed(n,this.yc,this.jd,H,this.gd,b,e),c=n.Ea,c.ka=this.h,c.la=this.Wa,c.ma=this.Ya,c.na=this.h,c.oa=this.Wa,c.pa=this.Ya);if(0>=this.hd.frequency||!e)H=this.M[4],a=a.rows[a.Na++],h=a.Ea,
h.Ba=0,h.Ca=0,h.Da=0,h.Fa=0,h.Ga=0,h.Ha=0,h.ka=0,h.la=0,h.ma=0,h.na=0,h.oa=0,h.pa=0,a.Oa=0,a.Va=0,a.Ra=0,a.Qa=0,a.motorSpeed=0,a.Db=0,a.Aa=H,this.Ed(a,this.Mg,this.ai,d,this.hd,b,e),c=a.Ea,c.ka=this.tb,c.la=this.Gb,c.ma=this.Hb,c.na=this.tb,c.oa=this.Gb,c.pa=this.Hb};$b.prototype.Gc=function(){ya.prototype.Gc.call(this);var a=this.pb;var b=this.qb;var e=this.rb;var d=this.cc;var c=this.dc;var f=this.ec;var h=this.pb;var k=this.Ac;var g=this.Id;var l=this.qb;var m=this.Bc;var n=this.Jd;var q=this.rb;
var p=this.Cc;var r=this.Kd;var t=a*d+b*c+e*f;if(-.999999999>t){var x=a*a;d=b*b;c=e*e;x<d?x<c?(d=1/Math.sqrt(d+c),x=0,e*=d,a=-b*d):(d=1/Math.sqrt(x+d),x=b*d,e=-a*d,a=0):d<c?(d=1/Math.sqrt(c+x),x=-e*d,e=0,a*=d):(d=1/Math.sqrt(x+d),x=b*d,e=-a*d,a=0);var v=x;var B=e;var H=a;var C=0}else x=Math.sqrt(.5*(1+t)),t=.5/x,v=(b*f-e*c)*t,B=(e*d-a*f)*t,H=(a*c-b*d)*t,C=x;t=v;f=B;x=H;a=C;c=2*t;e=2*f;b=2*x;var O=t*c;var y=f*e;d=x*b;x=t*e;f*=b;t*=b;var A=a*c,E=a*e;c=a*b;a=1-y-d;b=x-c;e=t+E;x+=c;d=1-O-d;c=f-A;t-=E;
f+=A;O=1-O-y;this.tc=2*(-1>=C?3.14159265358979:1<=C?0:Math.acos(C));C=v;y=H;H=a*this.Fd+x*this.Gd+t*this.Hd;A=b*this.Fd+d*this.Gd+f*this.Hd;v=e*this.Fd+c*this.Gd+O*this.Hd;this.Mg=Math.atan2(this.Id*H+this.Jd*A+this.Kd*v,this.Ac*H+this.Bc*A+this.Cc*v);this.tb=this.pb+this.cc;this.Gb=this.qb+this.dc;this.Hb=this.rb+this.ec;v=this.tb*this.tb+this.Gb*this.Gb+this.Hb*this.Hb;0<v&&(v=1/Math.sqrt(v));this.tb*=v;this.Gb*=v;this.Hb*=v;H=Math.sqrt(C*C+B*B+y*y);0<H&&(H=1/H);C*=H*this.tc;B*=H*this.tc;y*=H*this.tc;
v=g*C+n*B+r*y;B=k*C+m*B+p*y;H=this.hh;C=this.ih;H=1/(H*H);y=1/(C*C);C=B*B*H+v*v*y;0==C?this.yc=this.Ya=this.Wa=this.h=0:(A=Math.sqrt(1/C),C=B*A,A*=v,E=C*H,y*=A,H=1/Math.sqrt(E*E+y*y),E*=H,y*=H,v=(B-C)*E+(v-A)*y,0<v?(this.yc=v,this.h=0,this.Wa=E,this.Ya=y,h=h*this.h+k*this.Wa+g*this.Ya,l=l*this.h+m*this.Wa+n*this.Ya,q=q*this.h+p*this.Wa+r*this.Ya,this.h=h,this.Wa=l,this.Ya=q,q=a*this.h+b*this.Wa+e*this.Ya,p=x*this.h+d*this.Wa+c*this.Ya,r=t*this.h+f*this.Wa+O*this.Ya,this.h=q,this.Wa=p,this.Ya=r):this.yc=
0);this.vd=this.ne-this.ke;this.ac=this.oe-this.le;this.bc=this.pe-this.me};$b.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.wd(b,a,!1)};$b.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.wd(a,null,!0)};$b.prototype.$d=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};$b.prototype.be=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};$b.prototype.ae=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};$b.prototype.Qd=function(a){a.x=this.cc;
a.y=this.dc;a.z=this.ec};$b.prototype.Rd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};$b.prototype.Xe=function(){var a=new z;a.x=this.V;a.y=this.X;a.z=this.Y;return a};$b.prototype.We=function(a){a.x=this.i;a.y=this.C;a.z=this.I};$b.prototype.Ye=function(a){a.x=this.V;a.y=this.X;a.z=this.Y};$b.prototype.Qi=function(){return this.hd};$b.prototype.ji=function(){return this.ai};$b.prototype.ug=function(){return this.gd};$b.prototype.sg=function(){var a=new z;a.x=this.h;a.y=this.Wa;
a.z=this.Ya;return a};$b.prototype.tg=function(a){a.x=this.h;a.y=this.Wa;a.z=this.Ya};$b.prototype.Ze=function(){return this.tc};$b.prototype.ii=function(){return this.Mg};rl(Vj,jf);Vj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);e=this.localTwistAxis1;var f=d.x;var h=d.y;var k=d.z;var g=a.g.A*f+a.g.o*h+a.g.u*k;var l=a.g.j*f+a.g.v*h+a.g.l*k;f=a.g.m*f+a.g.s*h+a.g.B*k;e.x=g;e.y=l;e.z=f;e=this.localTwistAxis2;g=d.x;l=d.y;h=d.z;d=b.g.A*g+b.g.o*l+b.g.u*h;f=b.g.j*g+b.g.v*l+b.g.l*h;b=b.g.m*g+b.g.s*l+b.g.B*
h;e.x=d;e.y=f;e.z=b;b=this.localSwingAxis1;d=c.x;e=c.y;l=c.z;c=a.g.A*d+a.g.o*e+a.g.u*l;g=a.g.j*d+a.g.v*e+a.g.l*l;a=a.g.m*d+a.g.s*e+a.g.B*l;b.x=c;b.y=g;b.z=a;return this};rl(qc,ya);qc.prototype.tb=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=this.Gb*d;d=this.Hb*d;var g=-this.Ja;var l=this.qa;var m=this.Ja;var n=-this.aa;var q=-this.qa;var p=this.aa;var r=-this.Sa;var t=this.Pa;var x=this.Sa;var v=-this.Ka;var B=-this.Pa;var H=this.Ka;var C=this.Sc(this.h.i,
this.h.C,this.h.I),O=this.M[0],y=a.rows[a.Na++],A=y.Ea;A.Ba=0;A.Ca=0;A.Da=0;A.Fa=0;A.Ga=0;A.Ha=0;A.ka=0;A.la=0;A.ma=0;A.na=0;A.oa=0;A.pa=0;y.Oa=0;y.Va=0;y.Ra=0;y.Qa=0;y.motorSpeed=0;y.Db=0;y.Aa=O;y.Oa=c;y.Va=0;y.Ra=-Infinity;y.Qa=Infinity;c=y.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-g;c.ma=-l;c.na=-0;c.oa=-r;c.pa=-t;c=this.M[1];g=a.rows[a.Na++];l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Oa=0;g.Va=0;g.Ra=0;g.Qa=0;g.motorSpeed=0;g.Db=
0;g.Aa=c;g.Oa=f;g.Va=0;g.Ra=-Infinity;g.Qa=Infinity;c=g.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-m;c.la=-0;c.ma=-n;c.na=-x;c.oa=-0;c.pa=-v;f=this.M[2];m=a.rows[a.Na++];n=m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Oa=0;m.Va=0;m.Ra=0;m.Qa=0;m.motorSpeed=0;m.Db=0;m.Aa=f;m.Oa=h;m.Va=0;m.Ra=-Infinity;m.Qa=Infinity;c=m.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-q;c.la=-p;c.ma=-0;c.na=-B;c.oa=-H;c.pa=-0;if(0>=this.Ya.frequency||!e)h=this.M[3],
q=a.rows[a.Na++],p=q.Ea,p.Ba=0,p.Ca=0,p.Da=0,p.Fa=0,p.Ga=0,p.Ha=0,p.ka=0,p.la=0,p.ma=0,p.na=0,p.oa=0,p.pa=0,q.Oa=0,q.Va=0,q.Ra=0,q.Qa=0,q.motorSpeed=0,q.Db=0,q.Aa=h,this.Ed(q,this.Wa,this.cg,C,this.Ya,b,e),c=q.Ea,c.ka=this.h.i,c.la=this.h.C,c.ma=this.h.I,c.na=this.h.i,c.oa=this.h.C,c.pa=this.h.I;b=this.M[4];e=a.rows[a.Na++];C=e.Ea;C.Ba=0;C.Ca=0;C.Da=0;C.Fa=0;C.Ga=0;C.Ha=0;C.ka=0;C.la=0;C.ma=0;C.na=0;C.oa=0;C.pa=0;e.Oa=0;e.Va=0;e.Ra=0;e.Qa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Oa=k;e.Va=0;e.Ra=-Infinity;
e.Qa=Infinity;c=e.Ea;c.ka=this.h.M;c.la=this.h.V;c.ma=this.h.X;c.na=this.h.M;c.oa=this.h.V;c.pa=this.h.X;k=this.M[5];a=a.rows[a.Na++];b=a.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;a.Oa=0;a.Va=0;a.Ra=0;a.Qa=0;a.motorSpeed=0;a.Db=0;a.Aa=k;a.Oa=d;a.Va=0;a.Ra=-Infinity;a.Qa=Infinity;c=a.Ea;c.ka=this.h.Y;c.la=this.h.aa;c.ma=this.h.qa;c.na=this.h.Y;c.oa=this.h.aa;c.pa=this.h.qa};qc.prototype.Gc=function(){ya.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=
a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var O=Math.sqrt(.5*(1+d));d=.5/O;B*=d;H*=d;C*=d;r=
B;t=H;x=C;v=O}var y,A;var E=A=y=0;var M=1;var G=r;var R=t;var K=x;var oa=v;var N=y*G+A*R+E*K+M*oa;0>N&&(N=-N,G=-G,R=-R,K=-K,oa=-oa);if(.999999<N){var Ra=G-y;var Wa=R-A;var Ja=K-E;var Sa=oa-M;G=y+b/(b+e)*Ra;R=A+b/(b+e)*Wa;K=E+b/(b+e)*Ja;oa=M+b/(b+e)*Sa;var Aa=G*G+R*R+K*K+oa*oa;1E-32<Aa&&(Aa=1/Math.sqrt(Aa));var La=G*Aa;var Fa=R*Aa;var L=K*Aa;var Z=oa*Aa}else{var Y=b/(b+e)*Math.acos(N);G+=y*-N;R+=A*-N;K+=E*-N;oa+=M*-N;var va=G*G+R*R+K*K+oa*oa;1E-32<va&&(va=1/Math.sqrt(va));G*=va;R*=va;K*=va;oa*=va;
var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;M*=D;La=y+G*Va;Fa=A+R*Va;L=E+K*Va;Z=M+oa*Va}var za=La,aa=Fa,Ta=L,ca=Z,ia=2*za,T=2*aa,ka=2*Ta,pa=za*ia,Ca=aa*T,V=Ta*ka,fa=za*T,w=aa*ka,ta=za*ka,Ga=ca*ia,da=ca*T,W=ca*ka;var sa=1-Ca-V;var la=fa-W;var Oa=ta+da;var ab=fa+W;var ja=1-pa-V;var ob=w-Ga;var Ha=ta-da;var I=w+Ga;var Ka=1-pa-Ca;var P=sa*a.h.pb+la*a.h.qb+Oa*a.h.rb;var na=ab*a.h.pb+ja*a.h.qb+ob*a.h.rb;var ba=Ha*a.h.pb+I*a.h.qb+Ka*a.h.rb;var ea=a.i;var X=a.C;var ma=a.I;var xb=a.M;var Za=a.V;var ib=
a.X;var qb=ea*P+X*na+ma*ba;if(-.999999999>qb){var lb=ea*ea,bb=X*X,$a=ma*ma;if(lb<bb)if(lb<$a){var qa=1/Math.sqrt(bb+$a);var mb=0;var Db=ma*qa;var Xa=-X*qa}else qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0;else bb<$a?(qa=1/Math.sqrt($a+lb),mb=-ma*qa,Db=0,Xa=ea*qa):(qa=1/Math.sqrt(lb+bb),mb=X*qa,Db=-ea*qa,Xa=0);La=mb;Fa=Db;L=Xa;Z=0}else{var tb=X*ba-ma*na;var Ma=ma*P-ea*ba;var Eb=ea*na-X*P;var ub=Math.sqrt(.5*(1+qb));qb=.5/ub;tb*=qb;Ma*=qb;Eb*=qb;La=tb;Fa=Ma;L=Eb;Z=ub}var fb=La,db=Fa,gb=L,jb=Z,Bb=2*
fb,kb=2*db,nb=2*gb,Ya=fb*Bb,Nb=db*kb,Lb=gb*nb,F=fb*kb,pb=db*nb,cb=fb*nb,Fb=jb*Bb,wb=jb*kb,eb=jb*nb;sa=1-Nb-Lb;la=F-eb;Oa=cb+wb;ab=F+eb;ja=1-Ya-Lb;ob=pb-Fb;Ha=cb-wb;I=pb+Fb;Ka=1-Ya-Nb;var Ib=sa*xb+la*Za+Oa*ib;var Q=ab*xb+ja*Za+ob*ib;var U=Ha*xb+I*Za+Ka*ib;var u=Ib;var Ab=Q;var rb=U;var ra=na*rb-ba*Ab;var Ua=ba*u-P*rb;var xa=P*Ab-na*u;if(1E-6<ra*ra+Ua*Ua+xa*xa){var Pa=ra*ra+Ua*Ua+xa*xa;0<Pa&&(Pa=1/Math.sqrt(Pa));ra*=Pa;Ua*=Pa;xa*=Pa}else{var hb=P*P,yb=na*na,Jb=ba*ba;if(hb<yb)if(hb<Jb){var ua=1/Math.sqrt(yb+
Jb);ra=0;Ua=ba*ua;xa=-na*ua}else ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0;else yb<Jb?(ua=1/Math.sqrt(Jb+hb),ra=-ba*ua,Ua=0,xa=P*ua):(ua=1/Math.sqrt(hb+yb),ra=na*ua,Ua=-P*ua,xa=0)}u=Ua*ba-xa*na;Ab=xa*P-ra*ba;rb=ra*na-Ua*P;a.i=P;a.C=na;a.I=ba;a.M=u;a.V=Ab;a.X=rb;a.Y=ra;a.aa=Ua;a.qa=xa;var Qa=this.qb*this.ec-this.rb*this.dc;var wa=this.rb*this.cc-this.pb*this.ec;var Da=this.pb*this.dc-this.qb*this.cc;var S=this.pb*this.cc+this.qb*this.dc+this.rb*this.ec,Na=-1>=S?3.14159265358979:1<=S?0:Math.acos(S),
Ia=Qa*Qa+wa*wa+Da*Da;0<Ia&&(Ia=1/Math.sqrt(Ia));Qa*=Ia;wa*=Ia;Da*=Ia;Qa*=Na;wa*=Na;Da*=Na;this.Gb=Qa*this.h.M+wa*this.h.V+Da*this.h.X;this.Hb=Qa*this.h.Y+wa*this.h.aa+Da*this.h.qa;var Cb=this.Bc*this.Hd-this.Cc*this.Gd;var vb=this.Cc*this.Fd-this.Ac*this.Hd;var Kb=this.Ac*this.Gd-this.Bc*this.Fd;S=this.Ac*this.Fd+this.Bc*this.Gd+this.Cc*this.Hd;this.Wa=-1>=S?3.14159265358979:1<=S?0:Math.acos(S);0>Cb*this.h.i+vb*this.h.C+Kb*this.h.I&&(this.Wa=-this.Wa);this.vd=this.ne-this.ke;this.ac=this.oe-this.le;
this.bc=this.pe-this.me};qc.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.tb(b,a,!1)};qc.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.tb(a,null,!0)};qc.prototype.yc=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};qc.prototype.hd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};qc.prototype.gd=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};qc.prototype.jd=function(a){a.x=this.cc;a.y=this.dc;a.z=this.ec};qc.prototype.$d=function(){var a=
new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};qc.prototype.be=function(){var a=new z;a.x=this.V;a.y=this.X;a.z=this.Y;return a};qc.prototype.ae=function(a){a.x=this.i;a.y=this.C;a.z=this.I};qc.prototype.Qd=function(a){a.x=this.V;a.y=this.X;a.z=this.Y};qc.prototype.Rd=function(){return this.Ya};qc.prototype.wd=function(){return this.cg};qc.prototype.tc=function(){return this.Wa};rl(Uj,jf);Uj.prototype.Ia=function(a,b,e,d){this.h(a,b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*
c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*e+b.g.v*k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};ne.prototype.h=function(a,b){this.lowerLimit=a;this.upperLimit=b;return this};ne.prototype.i=function(a,b){this.motorSpeed=a;this.motorTorque=b;return this};ne.prototype.clone=function(){var a=new ne;a.lowerLimit=this.lowerLimit;a.upperLimit=this.upperLimit;a.motorSpeed=
this.motorSpeed;a.motorTorque=this.motorTorque;return a};rl(Zi,ya);Zi.prototype.Wa=function(a,b,e){if(!(0<this.h.frequency&&e)){var d=this.ne-this.ke;var c=this.oe-this.le;var f=this.pe-this.me;if(0<this.h.frequency){var h=6.28318530717958*this.h.frequency;e=this.h.dampingRatio;e<Ba.minSpringDamperDampingRatio&&(e=Ba.minSpringDamperDampingRatio);b=b.dt;e=2*e*h;var k=h*h;this.h.useSymplecticEuler?(h=1/(b*e),b=k/e):(h=1/(b*(b*k+e)),b=k/(b*k+e));h*=this.J.Ab+this.K.Ab}else h=0,b=this.ce(b,e);var g=-this.Ja;
var l=this.qa;var m=this.Ja;var n=-this.aa;e=-this.qa;k=this.aa;var q=-this.Sa;var p=this.Pa;var r=this.Sa;var t=-this.Ka;var x=-this.Pa;var v=this.Ka;var B=this.M[0],H=a.rows[a.Na++],C=H.Ea;C.Ba=0;C.Ca=0;C.Da=0;C.Fa=0;C.Ga=0;C.Ha=0;C.ka=0;C.la=0;C.ma=0;C.na=0;C.oa=0;C.pa=0;H.Oa=0;H.Va=0;H.Ra=0;H.Qa=0;H.motorSpeed=0;H.Db=0;H.Aa=B;H.Oa=d*b;H.Va=h;H.Ra=-Infinity;H.Qa=Infinity;d=H.Ea;d.Ba=1;d.Ca=0;d.Da=0;d.Fa=1;d.Ga=0;d.Ha=0;d.ka=-0;d.la=-g;d.ma=-l;d.na=-0;d.oa=-q;d.pa=-p;d=this.M[1];g=a.rows[a.Na++];
l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Oa=0;g.Va=0;g.Ra=0;g.Qa=0;g.motorSpeed=0;g.Db=0;g.Aa=d;g.Oa=c*b;g.Va=h;g.Ra=-Infinity;g.Qa=Infinity;d=g.Ea;d.Ba=0;d.Ca=1;d.Da=0;d.Fa=0;d.Ga=1;d.Ha=0;d.ka=-m;d.la=-0;d.ma=-n;d.na=-r;d.oa=-0;d.pa=-t;c=this.M[2];a=a.rows[a.Na++];d=a.Ea;d.Ba=0;d.Ca=0;d.Da=0;d.Fa=0;d.Ga=0;d.Ha=0;d.ka=0;d.la=0;d.ma=0;d.na=0;d.oa=0;d.pa=0;a.Oa=0;a.Va=0;a.Ra=0;a.Qa=0;a.motorSpeed=0;a.Db=0;a.Aa=c;a.Oa=f*b;a.Va=h;a.Ra=-Infinity;a.Qa=
Infinity;d=a.Ea;d.Ba=0;d.Ca=0;d.Da=1;d.Fa=0;d.Ga=0;d.Ha=1;d.ka=-e;d.la=-k;d.ma=-0;d.na=-x;d.oa=-v;d.pa=-0}};Zi.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.Wa(b,a,!1)};Zi.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.Wa(a,null,!0)};Zi.prototype.Ya=function(){return this.h};rl(Tj,jf);Tj.prototype.Ia=function(a,b,e){this.h(a,b,e);return this};Ed.prototype.h=function(a,b){this.frequency=a;this.dampingRatio=b;return this};Ed.prototype.i=function(a){this.useSymplecticEuler=
a;return this};Ed.prototype.clone=function(){var a=new Ed;a.frequency=this.frequency;a.dampingRatio=this.dampingRatio;a.useSymplecticEuler=this.useSymplecticEuler;return a};kf.prototype.h=function(a,b){this.lowerLimit=a;this.upperLimit=b;return this};kf.prototype.i=function(a,b){this.motorSpeed=a;this.motorForce=b;return this};kf.prototype.clone=function(){var a=new kf;a.lowerLimit=this.lowerLimit;a.upperLimit=this.upperLimit;a.motorSpeed=this.motorSpeed;a.motorForce=this.motorForce;return a};rl(dc,
ya);dc.prototype.gd=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=this.Df*d;var g=-this.Ja;var l=this.qa;var m=this.Ja;var n=-this.aa;var q=-this.qa;var p=this.aa;var r=-this.Sa;var t=this.Pa;var x=this.Sa;var v=-this.Ka;var B=-this.Pa;var H=this.Ka;var C=this.Sc(this.h,this.Wa,this.Ya);d=this.Sc(this.tb,this.Gb,this.Hb);var O=this.M[0],y=a.rows[a.Na++],A=y.Ea;A.Ba=0;A.Ca=0;A.Da=0;A.Fa=0;A.Ga=0;A.Ha=0;A.ka=0;A.la=0;A.ma=0;A.na=0;A.oa=0;A.pa=0;y.Oa=0;y.Va=
0;y.Ra=0;y.Qa=0;y.motorSpeed=0;y.Db=0;y.Aa=O;y.Oa=c;y.Va=0;y.Ra=-Infinity;y.Qa=Infinity;c=y.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-g;c.ma=-l;c.na=-0;c.oa=-r;c.pa=-t;c=this.M[1];g=a.rows[a.Na++];l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Oa=0;g.Va=0;g.Ra=0;g.Qa=0;g.motorSpeed=0;g.Db=0;g.Aa=c;g.Oa=f;g.Va=0;g.Ra=-Infinity;g.Qa=Infinity;c=g.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-m;c.la=-0;c.ma=-n;c.na=-x;c.oa=-0;c.pa=-v;
f=this.M[2];m=a.rows[a.Na++];n=m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Oa=0;m.Va=0;m.Ra=0;m.Qa=0;m.motorSpeed=0;m.Db=0;m.Aa=f;m.Oa=h;m.Va=0;m.Ra=-Infinity;m.Qa=Infinity;c=m.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-q;c.la=-p;c.ma=-0;c.na=-B;c.oa=-H;c.pa=-0;this.hd||!(0>=this.tc.frequency)&&e||(h=this.M[3],q=a.rows[a.Na++],p=q.Ea,p.Ba=0,p.Ca=0,p.Da=0,p.Fa=0,p.Ga=0,p.Ha=0,p.ka=0,p.la=0,p.ma=0,p.na=0,p.oa=0,p.pa=0,q.Oa=0,q.Va=0,q.Ra=0,q.Qa=
0,q.motorSpeed=0,q.Db=0,q.Aa=h,this.Ed(q,this.qe,this.Uh,C,this.tc,b,e),c=q.Ea,c.ka=this.h,c.la=this.Wa,c.ma=this.Ya,c.na=this.h,c.oa=this.Wa,c.pa=this.Ya);this.jd||(C=this.M[4],h=a.rows[a.Na++],q=h.Ea,q.Ba=0,q.Ca=0,q.Da=0,q.Fa=0,q.Ga=0,q.Ha=0,q.ka=0,q.la=0,q.ma=0,q.na=0,q.oa=0,q.pa=0,h.Oa=0,h.Va=0,h.Ra=0,h.Qa=0,h.motorSpeed=0,h.Db=0,h.Aa=C,h.Oa=k,h.Va=0,h.Ra=-Infinity,h.Qa=Infinity,c=h.Ea,c.ka=this.Mc,c.la=this.Nc,c.ma=this.Oc,c.na=this.Mc,c.oa=this.Nc,c.pa=this.Oc);this.wd||!(0>=this.yc.frequency)&&
e||(k=this.M[5],a=a.rows[a.Na++],C=a.Ea,C.Ba=0,C.Ca=0,C.Da=0,C.Fa=0,C.Ga=0,C.Ha=0,C.ka=0,C.la=0,C.ma=0,C.na=0,C.oa=0,C.pa=0,a.Oa=0,a.Va=0,a.Ra=0,a.Qa=0,a.motorSpeed=0,a.Db=0,a.Aa=k,this.Ed(a,this.re,this.Vh,d,this.yc,b,e),c=a.Ea,c.ka=this.tb,c.la=this.Gb,c.ma=this.Hb,c.na=this.tb,c.oa=this.Gb,c.pa=this.Hb)};dc.prototype.Gc=function(){ya.prototype.Gc.call(this);var a=this.pb;var b=this.qb;var e=this.rb;var d=this.se;var c=this.te;var f=this.ue;var h=c*e-f*b;var k=f*a-d*e;var g=d*b-c*a;this.h=k*f-g*
c;this.Wa=g*d-h*f;this.Ya=h*c-k*d;this.Mc=h;this.Nc=k;this.Oc=g;this.tb=b*g-e*k;this.Gb=e*h-a*g;this.Hb=a*k-b*h;a=this.h*this.h+this.Wa*this.Wa+this.Ya*this.Ya;0<a&&(a=1/Math.sqrt(a));this.h*=a;this.Wa*=a;this.Ya*=a;a=this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;0<a&&(a=1/Math.sqrt(a));this.Mc*=a;this.Nc*=a;this.Oc*=a;a=this.tb*this.tb+this.Gb*this.Gb+this.Hb*this.Hb;0<a&&(a=1/Math.sqrt(a));this.tb*=a;this.Gb*=a;this.Hb*=a;this.hd=0==this.h*this.h+this.Wa*this.Wa+this.Ya*this.Ya;this.jd=0==this.Mc*
this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;this.wd=0==this.tb*this.tb+this.Gb*this.Gb+this.Hb*this.Hb;a=this.pb;var l=this.Ac;var m=this.Id;b=this.qb;var n=this.Bc;var q=this.Jd;e=this.rb;var p=this.Cc;var r=this.Kd;h=this.cc;k=this.Fd;var t=this.se;g=this.dc;d=this.Gd;var x=this.te;c=this.ec;f=this.Hd;var v=this.ue;var B=a*t+b*x+e*v;var H=l*k+n*d+p*f;var C=m*k+q*d+r*f;-1>=B?(a=Math.atan2(C,H),l=.5*a,B=-1.570796326794895,a=.5*-a):1<=B?(a=Math.atan2(C,H),l=.5*a,B=1.570796326794895,a*=.5):(l=Math.atan2(-(l*
t+n*x+p*v),m*t+q*x+r*v),B=Math.asin(B),a=Math.atan2(-(a*k+b*d+e*f),a*h+b*g+e*c));this.qe=l;this.Df=B;this.re=a;this.vd=this.ne-this.ke;this.ac=this.oe-this.le;this.bc=this.pe-this.me};dc.prototype.nd=function(a,b){ya.prototype.nd.call(this,a,b);this.gd(b,a,!1)};dc.prototype.Ec=function(a){ya.prototype.Ec.call(this,a);this.gd(a,null,!0)};dc.prototype.$d=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};dc.prototype.be=function(){var a=new z;a.x=this.se;a.y=this.te;a.z=this.ue;return a};
dc.prototype.ae=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};dc.prototype.Qd=function(a){a.x=this.se;a.y=this.te;a.z=this.ue};dc.prototype.Rd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};dc.prototype.Xe=function(){var a=new z;a.x=this.Rb;a.y=this.Sb;a.z=this.Wb;return a};dc.prototype.We=function(a){a.x=this.i;a.y=this.C;a.z=this.I};dc.prototype.Ye=function(a){a.x=this.Rb;a.y=this.Sb;a.z=this.Wb};dc.prototype.ii=function(){return this.tc};dc.prototype.ji=function(){return this.yc};
dc.prototype.tg=function(){return this.Uh};dc.prototype.ug=function(){return this.Vh};dc.prototype.Ze=function(){return this.qe};dc.prototype.sg=function(){return this.re};rl(Sj,jf);Sj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);e=this.localAxis1;var f=d.x;var h=d.y;var k=d.z;d=a.g.A*f+a.g.o*h+a.g.u*k;var g=a.g.j*f+a.g.v*h+a.g.l*k;a=a.g.m*f+a.g.s*h+a.g.B*k;e.x=d;e.y=g;e.z=a;a=this.localAxis2;e=c.x;f=c.y;d=c.z;c=b.g.A*e+b.g.o*f+b.g.u*d;h=b.g.j*e+b.g.v*f+b.g.l*d;b=b.g.m*e+b.g.s*f+b.g.B*d;a.x=c;a.y=
h;a.z=b;return this};Bk.prototype.Ia=function(a){this.Ic=a.Ic;for(var b=0,e=this.Ic;b<e;){var d=b++;this.Qf[d]=a.Qf[d];this.Sf[d]=a.Sf[d]}this.Md=a.Md;b=0;for(e=this.Md;b<e;)d=b++,this.xf[d]=a.xf[d]};Bk.prototype.ei=function(a,b,e,d,c,f){for(var h=0,k=this.Md;h<k;){var g=this.xf[h++],l=a.rows[g];this.b[g]=l.Oa*f-e[g]-l.Va*d[g]}h=b.Fg;k=0;for(g=this.Ic;k<g;){var m=k++;l=this.Qf[m];m=this.Sf[m];var n=a.rows[l];m=(0>m?n.Ra:0<m?n.Qa:0)-d[l];c[l]=m;if(0!=m){n=0;for(var q=this.Md;n<q;){var p=this.xf[n++];
this.b[p]-=h[l][p]*m}}}k=this.xf;g=this.Md;for(m=l=0;m<g;)l|=1<<k[m++];b.Zg[l]||(b.Pi(l,k,g),b.Zg[l]=!0);k=b.Rh[l];b=!0;g=0;for(l=this.Md;g<l;){m=g++;n=this.xf[m];q=a.rows[n];for(var r=p=d[n],t=0,x=this.Md;t<x;){var v=t++;r+=this.b[this.xf[v]]*k[m][v]}if(r<q.Ra-Ba.directMlcpSolverEps||r>q.Qa+Ba.directMlcpSolverEps){b=!1;break}c[n]=r-p}if(!b)return!1;k=0;for(g=this.Ic;k<g;){n=k++;l=this.Qf[n];m=a.rows[l];n=this.Sf[n];q=d[l]+c[l];p=e[l];r=0;for(t=a.Na;r<t;)x=r++,p+=h[l][x]*c[x];l=m.Oa*f-p-m.Va*q;if(0>
n&&l>Ba.directMlcpSolverEps||0<n&&l<-Ba.directMlcpSolverEps){b=!1;break}}return b};Yk.prototype.I=function(a,b){if(b==a.Na)null==this.C[this.i]&&(this.C[this.i]=new Bk(this.M)),this.C[this.i++].Ia(this.h);else{var e=a.rows[b],d=-Infinity<e.Ra,c=Infinity>e.Qa;0==e.Ra&&0==e.Qa?(c=this.h,c.Qf[c.Ic]=b,c.Sf[c.Ic]=0,c.Ic++,this.I(a,b+1),this.h.Ic--):(e=this.h,e.xf[e.Md]=b,e.Md++,this.I(a,b+1),this.h.Md--,d&&(d=this.h,d.Qf[d.Ic]=b,d.Sf[d.Ic]=-1,d.Ic++,this.I(a,b+1),this.h.Ic--),c&&(c=this.h,c.Qf[c.Ic]=b,
c.Sf[c.Ic]=1,c.Ic++,this.I(a,b+1),this.h.Ic--))}};rl(yd,cd);yd.prototype.Rf=function(a){this.h.Gc();this.h.nd(a,this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.X.I(this.info,this.I);a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);a=this.qa;b=this.i.i;for(var e=0,d=0,c=0,f=a.C;c<f;){var h=a.h[c++];h<b?(a.i[e]=h,++e):(a.i[b+d]=h,++d)}b=a.h;a.h=a.i;a.i=b};yd.prototype.Wf=function(a){var b=this.h.pf==Jh.BAUMGARTE?Ba.jointWarmStartingFactorForBaungarte:Ba.jointWarmStartingFactor;b*=a.dtRatio;
if(0>=b)for(b=0,a=this.info.Na;b<a;){var e=this.info.rows[b++].Aa;e.Aa=0;e.Tc=0;e.Ib=0}else{a=0;for(e=this.info.Na;a<e;){var d=a++,c=this.info.rows[d],f=c.Aa,h=f.Aa*b;h<c.Ra?h=c.Ra:h>c.Qa&&(h=c.Qa);f.Aa=h;0<c.Db?(h=f.Tc*b,c=c.Db,h<-c?h=-c:h>c&&(h=c),f.Tc=h):f.Tc=0;this.C[d]=f.Aa+f.Tc}b=this.C;e=a=!1;d=this.J.ub;f=this.J.vb;c=this.J.wb;h=this.K.ub;var k=this.K.vb;var g=this.K.wb;var l=this.J.xb;var m=this.J.yb;var n=this.J.zb;var q=this.K.xb;var p=this.K.yb;var r=this.K.zb;for(var t=0,x=this.info.Na;t<
x;){var v=t++,B=this.info.rows[v].Ea,H=this.I[v];v=b[v];0!=(B.sc&1)&&(d+=H.$c*v,f+=H.ad*v,c+=H.bd*v,h+=H.cd*-v,k+=H.dd*-v,g+=H.ed*-v,a=!0);0!=(B.sc&2)&&(l+=H.Uc*v,m+=H.Vc*v,n+=H.Wc*v,q+=H.Xc*-v,p+=H.Yc*-v,r+=H.Zc*-v,e=!0)}a&&(this.J.ub=d,this.J.vb=f,this.J.wb=c,this.K.ub=h,this.K.vb=k,this.K.wb=g);e&&(this.J.xb=l,this.J.yb=m,this.J.zb=n,this.K.xb=q,this.K.yb=p,this.K.zb=r)}};yd.prototype.Vf=function(){var a=this.info.Na;var b=this.J.ub;var e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;
var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0;p<a;){var r=p++,t=this.info.rows[r],x=t.Ea,v=0;v+=b*x.Ba+e*x.Ca+d*x.Da;v-=c*x.Fa+f*x.Ga+h*x.Ha;v+=k*x.ka+g*x.la+l*x.ma;v-=m*x.na+n*x.oa+q*x.pa;this.M[r]=v;this.V[r]=t.Aa.Aa;this.Y[r]=0}b=this.X.Fg;for(e=0;e<a;)if(d=e++,k=this.info.rows[d],c=k.Aa,0<k.Db)for(f=c.Tc,h=f+this.I[d].Je*(-k.motorSpeed-this.M[d]),k=k.Db,h<-k?h=-k:h>k&&(h=k),c.Tc=h,c=h-f,this.Y[d]=c,f=0;f<a;)h=f++,this.M[h]+=
c*b[d][h];e=!1;d=0;for(c=this.i.i;d<c;)if(b=this.qa.h[d++],this.i.C[b].ei(this.info,this.X,this.M,this.V,this.C,1)){for(e=0;e<a;)d=e++,c=this.C[d],this.info.rows[d].Aa.Aa+=c,this.Y[d]+=c;a=this.Y;d=e=!1;c=this.J.ub;f=this.J.vb;h=this.J.wb;k=this.K.ub;g=this.K.vb;l=this.K.wb;m=this.J.xb;n=this.J.yb;q=this.J.zb;p=this.K.xb;r=this.K.yb;t=this.K.zb;x=0;for(v=this.info.Na;x<v;){var B=x++,H=this.info.rows[B].Ea,C=this.I[B];B=a[B];0!=(H.sc&1)&&(c+=C.$c*B,f+=C.ad*B,h+=C.bd*B,k+=C.cd*-B,g+=C.dd*-B,l+=C.ed*
-B,e=!0);0!=(H.sc&2)&&(m+=C.Uc*B,n+=C.Vc*B,q+=C.Wc*B,p+=C.Xc*-B,r+=C.Yc*-B,t+=C.Zc*-B,d=!0)}e&&(this.J.ub=c,this.J.vb=f,this.J.wb=h,this.K.ub=k,this.K.vb=g,this.K.wb=l);d&&(this.J.xb=m,this.J.yb=n,this.J.zb=q,this.K.xb=p,this.K.yb=r,this.K.zb=t);a=this.qa;for(e=0;a.h[e]!=b;)++e;for(;0<e;)b=a.h[e],a.h[e]=a.h[e-1],a.h[e-1]=b,--e;e=!0;break}e||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:335:","could not find solution. (velocity)")};yd.prototype.rg=function(a){for(var b,
e,d,c,f,h,k=h=f=c=d=e=b=0,g=this.info.Na;k<g;){var l=this.info.rows[k++],m=l.Aa;l=l.Ea;0!=(l.sc&1)?(b+=l.Ba*m.Aa,e+=l.Ca*m.Aa,d+=l.Da*m.Aa):0!=(l.sc&2)&&(c+=l.ka*m.Aa,f+=l.la*m.Aa,h+=l.ma*m.Aa)}this.h.vg=b*a.invDt;this.h.wg=e*a.invDt;this.h.xg=d*a.invDt;this.h.yg=c*a.invDt;this.h.zg=f*a.invDt;this.h.Ag=h*a.invDt};yd.prototype.Bf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.X.I(this.info,this.I);var a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);
a=this.aa;b=this.i.i;for(var e=0,d=0,c=0,f=a.C;c<f;){var h=a.h[c++];h<b?(a.i[e]=h,++e):(a.i[b+d]=h,++d)}b=a.h;a.h=a.i;a.i=b;a=0;for(b=this.info.Na;a<b;)this.info.rows[a++].Aa.Ib=0};yd.prototype.Uf=function(){var a=this.info.Na;var b=this.J.Pc;var e=this.J.Qc;var d=this.J.Rc;var c=this.K.Pc;var f=this.K.Qc;var h=this.K.Rc;var k=this.J.Jc;var g=this.J.Kc;var l=this.J.Lc;var m=this.K.Jc;var n=this.K.Kc;var q=this.K.Lc;for(var p=0;p<a;){var r=p++,t=this.info.rows[r],x=t.Ea,v=0;v+=b*x.Ba+e*x.Ca+d*x.Da;
v-=c*x.Fa+f*x.Ga+h*x.Ha;v+=k*x.ka+g*x.la+l*x.ma;v-=m*x.na+n*x.oa+q*x.pa;this.M[r]=v;this.V[r]=t.Aa.Ib}e=!1;d=0;for(c=this.i.i;d<c;)if(b=this.aa.h[d++],this.i.C[b].ei(this.info,this.X,this.M,this.V,this.C,Ba.positionSplitImpulseBaumgarte)){for(e=0;e<a;)d=e++,this.info.rows[d].Aa.Ib+=this.C[d];a=this.C;d=e=!1;c=this.J.Pc;f=this.J.Qc;h=this.J.Rc;k=this.K.Pc;g=this.K.Qc;l=this.K.Rc;m=this.J.Jc;n=this.J.Kc;q=this.J.Lc;p=this.K.Jc;r=this.K.Kc;t=this.K.Lc;x=0;for(v=this.info.Na;x<v;){var B=x++,H=this.info.rows[B].Ea,
C=this.I[B];B=a[B];0!=(H.sc&1)&&(c+=C.$c*B,f+=C.ad*B,h+=C.bd*B,k+=C.cd*-B,g+=C.dd*-B,l+=C.ed*-B,e=!0);0!=(H.sc&2)&&(m+=C.Uc*B,n+=C.Vc*B,q+=C.Wc*B,p+=C.Xc*-B,r+=C.Yc*-B,t+=C.Zc*-B,d=!0)}e&&(this.J.Pc=c,this.J.Qc=f,this.J.Rc=h,this.K.Pc=k,this.K.Qc=g,this.K.Rc=l);d&&(this.J.Jc=m,this.J.Kc=n,this.J.Lc=q,this.K.Jc=p,this.K.Kc=r,this.K.Lc=t);a=this.aa;for(e=0;a.h[e]!=b;)++e;for(;0<e;)b=a.h[e],a.h[e]=a.h[e-1],a.h[e-1]=b,--e;e=!0;break}e||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:450:",
"could not find solution. (split impulse)")};yd.prototype.Tf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.X.I(this.info,this.I);var a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);for(var e=this.aa,d=this.i.i,c=0,f=0,h=0,k=e.C;h<k;){var g=e.h[h++];g<d?(e.i[c]=g,++c):(e.i[d+f]=g,++f)}var l=e.h;e.h=e.i;e.i=l;for(var m=this.info.Na,n=0;n<m;){var q=n++,p=this.info.rows[q].Aa;this.M[q]=0;this.V[q]=p.Ib}for(var r=!1,t=0,x=this.i.i;t<x;){var v=this.aa.h[t++];
if(this.i.C[v].ei(this.info,this.X,this.M,this.V,this.C,Ba.positionNgsBaumgarte)){for(var B=0;B<m;){var H=B++;this.info.rows[H].Aa.Ib+=this.C[H]}for(var C=this.C,O=!1,y=!1,A=void 0,E=void 0,M=void 0,G=void 0,R=void 0,K=void 0,oa=void 0,N=void 0,Ra=void 0,Wa=void 0,Ja=void 0,Sa=void 0,Aa=Sa=Ja=Wa=Ra=N=oa=K=R=G=M=E=A=0,La=this.info.Na;Aa<La;){var Fa=Aa++,L=this.info.rows[Fa].Ea,Z=this.I[Fa],Y=C[Fa];0!=(L.sc&1)&&(A+=Z.$c*Y,E+=Z.ad*Y,M+=Z.bd*Y,G+=Z.cd*-Y,R+=Z.dd*-Y,K+=Z.ed*-Y,O=!0);0!=(L.sc&2)&&(oa+=
Z.Uc*Y,N+=Z.Vc*Y,Ra+=Z.Wc*Y,Wa+=Z.Xc*-Y,Ja+=Z.Yc*-Y,Sa+=Z.Zc*-Y,y=!0)}if(O){var va=this.J;va.g.F+=A;va.g.G+=E;va.g.H+=M;var Va=this.K;Va.g.F+=G;Va.g.G+=R;Va.g.H+=K}if(y){var D=this.J,za=Math.sqrt(oa*oa+N*N+Ra*Ra),aa=.5*za,Ta=void 0,ca=void 0;if(.5>aa){var ia=aa*aa;Ta=.5*(1-.16666666666666666*ia+ia*ia*.008333333333333333);ca=1-.5*ia+ia*ia*.041666666666666664}else Ta=Math.sin(aa)/za,ca=Math.cos(aa);var T=void 0,ka=void 0,pa=void 0;T=oa*Ta;ka=N*Ta;pa=Ra*Ta;var Ca=void 0,V=void 0,fa=void 0,w=void 0;Ca=
T;V=ka;fa=pa;w=ca;var ta=void 0,Ga=void 0,da=void 0,W=void 0,sa=D.g.A,la=D.g.v,Oa=D.g.B,ab=sa+la+Oa,ja=void 0;0<ab?(ja=Math.sqrt(ab+1),W=.5*ja,ja=.5/ja,ta=(D.g.l-D.g.s)*ja,Ga=(D.g.m-D.g.u)*ja,da=(D.g.o-D.g.j)*ja):sa>la?sa>Oa?(ja=Math.sqrt(sa-la-Oa+1),ta=.5*ja,ja=.5/ja,Ga=(D.g.j+D.g.o)*ja,da=(D.g.m+D.g.u)*ja,W=(D.g.l-D.g.s)*ja):(ja=Math.sqrt(Oa-sa-la+1),da=.5*ja,ja=.5/ja,ta=(D.g.m+D.g.u)*ja,Ga=(D.g.s+D.g.l)*ja,W=(D.g.o-D.g.j)*ja):la>Oa?(ja=Math.sqrt(la-Oa-sa+1),Ga=.5*ja,ja=.5/ja,ta=(D.g.j+D.g.o)*ja,
da=(D.g.s+D.g.l)*ja,W=(D.g.m-D.g.u)*ja):(ja=Math.sqrt(Oa-sa-la+1),da=.5*ja,ja=.5/ja,ta=(D.g.m+D.g.u)*ja,Ga=(D.g.s+D.g.l)*ja,W=(D.g.o-D.g.j)*ja);ta=w*ta+Ca*W+V*da-fa*Ga;Ga=w*Ga-Ca*da+V*W+fa*ta;da=w*da+Ca*Ga-V*ta+fa*W;W=w*W-Ca*ta-V*Ga-fa*da;var ob=ta*ta+Ga*Ga+da*da+W*W;1E-32<ob&&(ob=1/Math.sqrt(ob));ta*=ob;Ga*=ob;da*=ob;W*=ob;var Ha=ta,I=Ga,Ka=da,P=W,na=2*Ha,ba=2*I,ea=2*Ka,X=Ha*na,ma=I*ba,xb=Ka*ea,Za=Ha*ba,ib=I*ea,qb=Ha*ea,lb=P*na,bb=P*ba,$a=P*ea;D.g.A=1-ma-xb;D.g.j=Za-$a;D.g.m=qb+bb;D.g.o=Za+$a;D.g.v=
1-X-xb;D.g.s=ib-lb;D.g.u=qb-bb;D.g.l=ib+lb;D.g.B=1-X-ma;var qa=void 0,mb=void 0,Db=void 0,Xa=void 0,tb=void 0,Ma=void 0,Eb=void 0,ub=void 0,fb=void 0;qa=D.g.A*D.$a+D.g.j*D.cb+D.g.m*D.gb;mb=D.g.A*D.ab+D.g.j*D.eb+D.g.m*D.hb;Db=D.g.A*D.bb+D.g.j*D.fb+D.g.m*D.ib;Xa=D.g.o*D.$a+D.g.v*D.cb+D.g.s*D.gb;tb=D.g.o*D.ab+D.g.v*D.eb+D.g.s*D.hb;Ma=D.g.o*D.bb+D.g.v*D.fb+D.g.s*D.ib;Eb=D.g.u*D.$a+D.g.l*D.cb+D.g.B*D.gb;ub=D.g.u*D.ab+D.g.l*D.eb+D.g.B*D.hb;fb=D.g.u*D.bb+D.g.l*D.fb+D.g.B*D.ib;D.ba=qa;D.ca=mb;D.da=Db;D.ea=
Xa;D.fa=tb;D.ga=Ma;D.ha=Eb;D.ia=ub;D.ja=fb;var db=void 0,gb=void 0,jb=void 0,Bb=void 0,kb=void 0,nb=void 0,Ya=void 0,Nb=void 0,Lb=void 0;db=D.ba*D.g.A+D.ca*D.g.j+D.da*D.g.m;gb=D.ba*D.g.o+D.ca*D.g.v+D.da*D.g.s;jb=D.ba*D.g.u+D.ca*D.g.l+D.da*D.g.B;Bb=D.ea*D.g.A+D.fa*D.g.j+D.ga*D.g.m;kb=D.ea*D.g.o+D.fa*D.g.v+D.ga*D.g.s;nb=D.ea*D.g.u+D.fa*D.g.l+D.ga*D.g.B;Ya=D.ha*D.g.A+D.ia*D.g.j+D.ja*D.g.m;Nb=D.ha*D.g.o+D.ia*D.g.v+D.ja*D.g.s;Lb=D.ha*D.g.u+D.ia*D.g.l+D.ja*D.g.B;D.ba=db;D.ca=gb;D.da=jb;D.ea=Bb;D.fa=kb;
D.ga=nb;D.ha=Ya;D.ia=Nb;D.ja=Lb;D.ba*=D.W.x;D.ca*=D.W.x;D.da*=D.W.x;D.ea*=D.W.y;D.fa*=D.W.y;D.ga*=D.W.y;D.ha*=D.W.z;D.ia*=D.W.z;D.ja*=D.W.z;var F=this.K,pb=Math.sqrt(Wa*Wa+Ja*Ja+Sa*Sa),cb=.5*pb,Fb=void 0,wb=void 0;if(.5>cb){var eb=cb*cb;Fb=.5*(1-.16666666666666666*eb+eb*eb*.008333333333333333);wb=1-.5*eb+eb*eb*.041666666666666664}else Fb=Math.sin(cb)/pb,wb=Math.cos(cb);var Ib=void 0,Q=void 0,U=void 0;Ib=Wa*Fb;Q=Ja*Fb;U=Sa*Fb;var u=void 0,Ab=void 0,rb=void 0,ra=void 0;u=Ib;Ab=Q;rb=U;ra=wb;var Ua=void 0,
xa=void 0,Pa=void 0,hb=void 0,yb=F.g.A,Jb=F.g.v,ua=F.g.B,Qa=yb+Jb+ua,wa=void 0;0<Qa?(wa=Math.sqrt(Qa+1),hb=.5*wa,wa=.5/wa,Ua=(F.g.l-F.g.s)*wa,xa=(F.g.m-F.g.u)*wa,Pa=(F.g.o-F.g.j)*wa):yb>Jb?yb>ua?(wa=Math.sqrt(yb-Jb-ua+1),Ua=.5*wa,wa=.5/wa,xa=(F.g.j+F.g.o)*wa,Pa=(F.g.m+F.g.u)*wa,hb=(F.g.l-F.g.s)*wa):(wa=Math.sqrt(ua-yb-Jb+1),Pa=.5*wa,wa=.5/wa,Ua=(F.g.m+F.g.u)*wa,xa=(F.g.s+F.g.l)*wa,hb=(F.g.o-F.g.j)*wa):Jb>ua?(wa=Math.sqrt(Jb-ua-yb+1),xa=.5*wa,wa=.5/wa,Ua=(F.g.j+F.g.o)*wa,Pa=(F.g.s+F.g.l)*wa,hb=(F.g.m-
F.g.u)*wa):(wa=Math.sqrt(ua-yb-Jb+1),Pa=.5*wa,wa=.5/wa,Ua=(F.g.m+F.g.u)*wa,xa=(F.g.s+F.g.l)*wa,hb=(F.g.o-F.g.j)*wa);Ua=ra*Ua+u*hb+Ab*Pa-rb*xa;xa=ra*xa-u*Pa+Ab*hb+rb*Ua;Pa=ra*Pa+u*xa-Ab*Ua+rb*hb;hb=ra*hb-u*Ua-Ab*xa-rb*Pa;var Da=Ua*Ua+xa*xa+Pa*Pa+hb*hb;1E-32<Da&&(Da=1/Math.sqrt(Da));Ua*=Da;xa*=Da;Pa*=Da;hb*=Da;var S=Ua,Na=xa,Ia=Pa,Cb=hb,vb=2*S,Kb=2*Na,Gb=2*Ia,Vb=S*vb,Rb=Na*Kb,Wb=Ia*Gb,nc=S*Kb,ac=Na*Gb,gc=S*Gb,cc=Cb*vb,Tb=Cb*Kb,Ub=Cb*Gb;F.g.A=1-Rb-Wb;F.g.j=nc-Ub;F.g.m=gc+Tb;F.g.o=nc+Ub;F.g.v=1-Vb-Wb;
F.g.s=ac-cc;F.g.u=gc-Tb;F.g.l=ac+cc;F.g.B=1-Vb-Rb;var Qb=void 0,hc=void 0,bc=void 0,jc=void 0,Xb=void 0,ic=void 0,vc=void 0,Yb=void 0,Sc=void 0;Qb=F.g.A*F.$a+F.g.j*F.cb+F.g.m*F.gb;hc=F.g.A*F.ab+F.g.j*F.eb+F.g.m*F.hb;bc=F.g.A*F.bb+F.g.j*F.fb+F.g.m*F.ib;jc=F.g.o*F.$a+F.g.v*F.cb+F.g.s*F.gb;Xb=F.g.o*F.ab+F.g.v*F.eb+F.g.s*F.hb;ic=F.g.o*F.bb+F.g.v*F.fb+F.g.s*F.ib;vc=F.g.u*F.$a+F.g.l*F.cb+F.g.B*F.gb;Yb=F.g.u*F.ab+F.g.l*F.eb+F.g.B*F.hb;Sc=F.g.u*F.bb+F.g.l*F.fb+F.g.B*F.ib;F.ba=Qb;F.ca=hc;F.da=bc;F.ea=jc;F.fa=
Xb;F.ga=ic;F.ha=vc;F.ia=Yb;F.ja=Sc;var Mb=void 0,mc=void 0,fc=void 0,Zb=void 0,lc=void 0,ed=void 0,Cc=void 0,wc=void 0,sc=void 0;Mb=F.ba*F.g.A+F.ca*F.g.j+F.da*F.g.m;mc=F.ba*F.g.o+F.ca*F.g.v+F.da*F.g.s;fc=F.ba*F.g.u+F.ca*F.g.l+F.da*F.g.B;Zb=F.ea*F.g.A+F.fa*F.g.j+F.ga*F.g.m;lc=F.ea*F.g.o+F.fa*F.g.v+F.ga*F.g.s;ed=F.ea*F.g.u+F.fa*F.g.l+F.ga*F.g.B;Cc=F.ha*F.g.A+F.ia*F.g.j+F.ja*F.g.m;wc=F.ha*F.g.o+F.ia*F.g.v+F.ja*F.g.s;sc=F.ha*F.g.u+F.ia*F.g.l+F.ja*F.g.B;F.ba=Mb;F.ca=mc;F.da=fc;F.ea=Zb;F.fa=lc;F.ga=ed;
F.ha=Cc;F.ia=wc;F.ja=sc;F.ba*=F.W.x;F.ca*=F.W.x;F.da*=F.W.x;F.ea*=F.W.y;F.fa*=F.W.y;F.ga*=F.W.y;F.ha*=F.W.z;F.ia*=F.W.z;F.ja*=F.W.z}for(var Kc=this.aa,tc=0;Kc.h[tc]!=v;)++tc;for(;0<tc;){var Lc=Kc.h[tc];Kc.h[tc]=Kc.h[tc-1];Kc.h[tc-1]=Lc;--tc}r=!0;break}}r||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:502:","could not find solution. (NGS)")};yd.prototype.postSolve=function(){this.h.Gc();this.h.Bi()};Ak.prototype.Pi=function(a,b,e){for(var d=0;d<e;)for(var c=
d++,f=b[c],h=0;h<e;){var k=h++;this.C[c][k]=this.Ab[f][b[k]]}d=this.C;a=this.Rh[a];switch(e){case 4:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;var g=d[1];var l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];
g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];c=d[2];b=a[2];e=1/c[2];b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g=d[1];l=a[1];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];
l[1]-=b[1]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];break;case 5:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;c[4]*=e;g=d[1];l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*
g[0];g[4]-=c[4]*g[0];g=d[4];l=a[4];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[4];l=a[4];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*
g[1];g[4]-=c[4]*g[1];c=d[2];b=a[2];e=1/c[2];b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[1];l=a[1];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[4];l=a[4];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g[4]-=
c[4]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];g[4]-=c[4]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];g[4]-=c[4]*g[3];g=d[4];l=a[4];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];c=d[4];b=a[4];e=1/c[4];b[4]=e;b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[4];g=d[1];l=a[1];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];g=d[2];l=a[2];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];g=d[3];l=a[3];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];
l[3]-=b[3]*g[4];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];b=a[4];a[0][4]=b[0];a[1][4]=b[1];a[2][4]=b[2];a[3][4]=b[3];break;case 6:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[1];l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=
c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[4];l=a[4];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[5];l=a[5];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=
c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[4];l=a[4];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[5];l=a[5];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];c=d[2];b=a[2];e=1/c[2];b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g[4]-=
c[4]*g[2];g[5]-=c[5]*g[2];g=d[1];l=a[1];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[4];l=a[4];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[5];l=a[5];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;c[4]*=
e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[4];l=a[4];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[5];l=a[5];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];c=d[4];b=a[4];e=1/c[4];b[4]=e;b[0]*=e;b[1]*=
e;b[2]*=e;b[3]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[4];g[5]-=c[5]*g[4];g=d[1];l=a[1];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];g[5]-=c[5]*g[4];g=d[2];l=a[2];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];g[5]-=c[5]*g[4];g=d[3];l=a[3];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];l[3]-=b[3]*g[4];g[5]-=c[5]*g[4];g=d[5];l=a[5];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];l[3]-=b[3]*g[4];l[4]=-e*g[4];g[5]-=c[5]*g[4];c=d[5];b=a[5];e=1/c[5];b[5]=e;b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;b[4]*=e;g=d[0];l=a[0];l[0]-=
b[0]*g[5];g=d[1];l=a[1];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];g=d[2];l=a[2];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];g=d[3];l=a[3];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];l[3]-=b[3]*g[5];g=d[4];l=a[4];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];l[3]-=b[3]*g[5];l[4]-=b[4]*g[5];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];b=a[4];a[0][4]=b[0];a[1][4]=b[1];a[2][4]=b[2];a[3][4]=b[3];b=a[5];a[0][5]=b[0];a[1][5]=b[1];a[2][5]=b[2];a[3][5]=
b[3];a[4][5]=b[4];break;default:for(f=0;f<e;){h=f++;c=d[h];b=a[h];k=1/c[h];b[h]=k;for(g=0;g<h;)b[g++]*=k;for(g=h+1;g<e;)c[g++]*=k;for(var m=0;m<h;){var n=m++;g=d[n];l=a[n];var q=0;for(n+=1;q<n;){var p=q++;l[p]-=b[p]*g[h]}for(l=h+1;l<e;)q=l++,g[q]-=c[q]*g[h]}for(m=h+1;m<e;){l=m++;g=d[l];l=a[l];for(q=0;q<h;)n=q++,l[n]-=b[n]*g[h];l[h]=-k*g[h];for(l=h+1;l<e;)q=l++,g[q]-=c[q]*g[h]}}for(d=1;d<e;)for(c=d++,b=a[c],f=0;f<c;)h=f++,a[h][c]=b[h]}};Ak.prototype.I=function(a,b){var e=this.Ab,d=this.Fg,c=a.Na,f=
a.Yd,h=a.Zd,k=f.Ab,g=h.Ab;var l=f.ba;var m=f.ca;var n=f.da;var q=f.ea;var p=f.fa;var r=f.ga;var t=f.ha;var x=f.ia;f=f.ja;var v=h.ba;var B=h.ca;var H=h.da;var C=h.ea;var O=h.fa;var y=h.ga;var A=h.ha;var E=h.ia;h=h.ja;for(var M=0;M<c;){var G=M++,R=a.rows[G].Ea;G=b[G];R.Mi();0!=(R.sc&1)?(G.$c=R.Ba*k,G.ad=R.Ca*k,G.bd=R.Da*k,G.cd=R.Fa*g,G.dd=R.Ga*g,G.ed=R.Ha*g):(G.$c=0,G.ad=0,G.bd=0,G.cd=0,G.dd=0,G.ed=0);if(0!=(R.sc&2)){var K=l*R.ka+m*R.la+n*R.ma;var oa=q*R.ka+p*R.la+r*R.ma;var N=t*R.ka+x*R.la+f*R.ma;
G.Uc=K;G.Vc=oa;G.Wc=N;K=v*R.na+B*R.oa+H*R.pa;oa=C*R.na+O*R.oa+y*R.pa;R=A*R.na+E*R.oa+h*R.pa;G.Xc=K;G.Yc=oa;G.Zc=R}else G.Uc=0,G.Vc=0,G.Wc=0,G.Xc=0,G.Yc=0,G.Zc=0}for(k=0;k<c;)for(g=k++,l=a.rows[g].Ea,m=g;m<c;)n=m++,q=b[n],p=l.Ba*q.$c+l.Ca*q.ad+l.Da*q.bd+(l.ka*q.Uc+l.la*q.Vc+l.ma*q.Wc)+(l.Fa*q.cd+l.Ga*q.dd+l.Ha*q.ed)+(l.na*q.Xc+l.oa*q.Yc+l.pa*q.Zc),g==n?(e[g][n]=p+a.rows[g].Va,d[g][n]=p,q.mass=p+a.rows[g].Va,q.Je=p,0!=q.mass&&(q.mass=1/q.mass),0!=q.Je&&(q.Je=1/q.Je)):(e[g][n]=p,e[n][g]=p,d[g][n]=p,
d[n][g]=p);a=0;for(b=this.i;a<b;)this.Zg[a++]=!1};rl(Nd,cd);Nd.prototype.Rf=function(a){this.i.nd(a,this.info);this.J=this.info.Yd;this.K=this.info.Zd;a=this.J.Ab;var b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,O=this.info.Na;C<O;){var y=
C++,A=this.info.rows[y];y=this.h[y];var E=A.Ve;y.gg=E.Ba*a;y.hg=E.Ca*a;y.ig=E.Da*a;y.jg=E.Fa*b;y.kg=E.Ga*b;y.lg=E.Ha*b;var M=e*E.ka+d*E.la+c*E.ma;var G=f*E.ka+h*E.la+k*E.ma;var R=g*E.ka+l*E.la+m*E.ma;y.Pe=M;y.Qe=G;y.Re=R;M=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;R=v*E.na+B*E.oa+H*E.pa;y.Se=M;y.Te=G;y.Ue=R;y.Ld=a+b+(y.Pe*E.ka+y.Qe*E.la+y.Re*E.ma)+(y.Se*E.na+y.Te*E.oa+y.Ue*E.pa);0!=y.Ld&&(y.Ld=1/y.Ld);E=A.Ug;A=A.Tg;y.ri=E.Ba*a;y.si=E.Ca*a;y.ti=E.Da*a;y.ui=E.Fa*b;y.vi=E.Ga*b;y.wi=E.Ha*b;y.ki=A.Ba*
a;y.li=A.Ca*a;y.mi=A.Da*a;y.ni=A.Fa*b;y.oi=A.Ga*b;y.pi=A.Ha*b;M=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;R=g*E.ka+l*E.la+m*E.ma;y.Ng=M;y.Og=G;y.Pg=R;M=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;R=v*E.na+B*E.oa+H*E.pa;y.Qg=M;y.Rg=G;y.Sg=R;M=e*A.ka+d*A.la+c*A.ma;G=f*A.ka+h*A.la+k*A.ma;R=g*A.ka+l*A.la+m*A.ma;y.ph=M;y.qh=G;y.rh=R;M=n*A.na+q*A.oa+p*A.pa;G=r*A.na+t*A.oa+x*A.pa;R=v*A.na+B*A.oa+H*A.pa;y.sh=M;y.th=G;y.uh=R;E=a+b+(y.Ng*E.ka+y.Og*E.la+y.Pg*E.ma)+(y.Qg*E.na+y.Rg*E.oa+y.Sg*E.pa);M=y.Ng*A.ka+
y.Og*A.la+y.Pg*A.ma+(y.Qg*A.na+y.Rg*A.oa+y.Sg*A.pa);A=a+b+(y.ph*A.ka+y.qh*A.la+y.rh*A.ma)+(y.sh*A.na+y.th*A.oa+y.uh*A.pa);G=E*A-M*M;0!=G&&(G=1/G);y.Ii=A*G;y.Ji=-M*G;y.Ki=-M*G;y.Li=E*G}};Nd.prototype.Wf=function(a){var b=this.J.ub;var e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0,r=this.info.Na;p<r;){var t=p++,x=this.info.rows[t],v=x.Aa;t=this.h[t];var B=x.Ug,H=
x.Tg;x=v.Hc;B=v.ge*B.Ba+v.he*B.Ca+v.ie*B.Da;H=v.ge*H.Ba+v.he*H.Ca+v.ie*H.Da;v.xc=B;v.wc=H;v.Hc*=a.dtRatio;v.xc*=a.dtRatio;v.wc*=a.dtRatio;b+=t.gg*x;e+=t.hg*x;d+=t.ig*x;b+=t.ri*B;e+=t.si*B;d+=t.ti*B;b+=t.ki*H;e+=t.li*H;d+=t.mi*H;c+=t.jg*-x;f+=t.kg*-x;h+=t.lg*-x;c+=t.ui*-B;f+=t.vi*-B;h+=t.wi*-B;c+=t.ni*-H;f+=t.oi*-H;h+=t.pi*-H;k+=t.Pe*x;g+=t.Qe*x;l+=t.Re*x;k+=t.Ng*B;g+=t.Og*B;l+=t.Pg*B;k+=t.ph*H;g+=t.qh*H;l+=t.rh*H;m+=t.Se*-x;n+=t.Te*-x;q+=t.Ue*-x;m+=t.Qg*-B;n+=t.Rg*-B;q+=t.Sg*-B;m+=t.sh*-H;n+=t.th*
-H;q+=t.uh*-H}this.J.ub=b;this.J.vb=e;this.J.wb=d;this.K.ub=c;this.K.vb=f;this.K.wb=h;this.J.xb=k;this.J.yb=g;this.J.zb=l;this.K.xb=m;this.K.yb=n;this.K.zb=q};Nd.prototype.Vf=function(){var a=this.J.ub;var b=this.J.vb;var e=this.J.wb;var d=this.K.ub;var c=this.K.vb;var f=this.K.wb;var h=this.J.xb;var k=this.J.yb;var g=this.J.zb;var l=this.K.xb;var m=this.K.yb;var n=this.K.zb;for(var q=0,p=this.info.Na;q<p;){var r=q++,t=this.info.rows[r];r=this.h[r];var x=t.Aa,v=0,B=t.Ug;v+=a*B.Ba+b*B.Ca+e*B.Da;v-=
d*B.Fa+c*B.Ga+f*B.Ha;v+=h*B.ka+k*B.la+g*B.ma;v-=l*B.na+m*B.oa+n*B.pa;var H=0;B=t.Tg;H+=a*B.Ba+b*B.Ca+e*B.Da;H-=d*B.Fa+c*B.Ga+f*B.Ha;H+=h*B.ka+k*B.la+g*B.ma;H-=l*B.na+m*B.oa+n*B.pa;B=-(v*r.Ii+H*r.Ji);var C=-(v*r.Ki+H*r.Li);v=x.xc;H=x.wc;x.xc+=B;x.wc+=C;t=t.friction*x.Hc;0==t?(x.xc=0,x.wc=0):(B=x.xc*x.xc+x.wc*x.wc,B>t*t&&(t/=Math.sqrt(B),x.xc*=t,x.wc*=t));B=x.xc-v;C=x.wc-H;a+=r.ri*B;b+=r.si*B;e+=r.ti*B;a+=r.ki*C;b+=r.li*C;e+=r.mi*C;d+=r.ui*-B;c+=r.vi*-B;f+=r.wi*-B;d+=r.ni*-C;c+=r.oi*-C;f+=r.pi*-C;h+=
r.Ng*B;k+=r.Og*B;g+=r.Pg*B;h+=r.ph*C;k+=r.qh*C;g+=r.rh*C;l+=r.Qg*-B;m+=r.Rg*-B;n+=r.Sg*-B;l+=r.sh*-C;m+=r.th*-C;n+=r.uh*-C}q=0;for(p=this.info.Na;q<p;)r=q++,t=this.info.rows[r],r=this.h[r],x=t.Aa,v=0,H=t.Ve,v+=a*H.Ba+b*H.Ca+e*H.Da,v-=d*H.Fa+c*H.Ga+f*H.Ha,v+=h*H.ka+k*H.la+g*H.ma,v-=l*H.na+m*H.oa+n*H.pa,t=(t.Oa-v)*r.Ld,v=x.Hc,x.Hc+=t,0>x.Hc&&(x.Hc=0),t=x.Hc-v,a+=r.gg*t,b+=r.hg*t,e+=r.ig*t,d+=r.jg*-t,c+=r.kg*-t,f+=r.lg*-t,h+=r.Pe*t,k+=r.Qe*t,g+=r.Re*t,l+=r.Se*-t,m+=r.Te*-t,n+=r.Ue*-t;this.J.ub=a;this.J.vb=
b;this.J.wb=e;this.K.ub=d;this.K.vb=c;this.K.wb=f;this.J.xb=h;this.J.yb=k;this.J.zb=g;this.K.xb=l;this.K.yb=m;this.K.zb=n};Nd.prototype.Bf=function(){this.i.Yh();this.i.Ec(this.info);var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=
0,O=this.info.Na;C<O;){var y=C++,A=this.h[y];y=this.info.rows[y].Ve;A.gg=y.Ba*a;A.hg=y.Ca*a;A.ig=y.Da*a;A.jg=y.Fa*b;A.kg=y.Ga*b;A.lg=y.Ha*b;var E=e*y.ka+d*y.la+c*y.ma;var M=f*y.ka+h*y.la+k*y.ma;var G=g*y.ka+l*y.la+m*y.ma;A.Pe=E;A.Qe=M;A.Re=G;E=n*y.na+q*y.oa+p*y.pa;M=r*y.na+t*y.oa+x*y.pa;G=v*y.na+B*y.oa+H*y.pa;A.Se=E;A.Te=M;A.Ue=G;A.Ld=a+b+(A.Pe*y.ka+A.Qe*y.la+A.Re*y.ma)+(A.Se*y.na+A.Te*y.oa+A.Ue*y.pa);0!=A.Ld&&(A.Ld=1/A.Ld)}a=0;for(b=this.info.Na;a<b;)this.info.rows[a++].Aa.Ib=0};Nd.prototype.Uf=
function(){var a=this.J.Pc;var b=this.J.Qc;var e=this.J.Rc;var d=this.K.Pc;var c=this.K.Qc;var f=this.K.Rc;var h=this.J.Jc;var k=this.J.Kc;var g=this.J.Lc;var l=this.K.Jc;var m=this.K.Kc;var n=this.K.Lc;for(var q=0,p=this.info.Na;q<p;){var r=q++,t=this.info.rows[r];r=this.h[r];var x=t.Aa,v=t.Ve,B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;t=(t.Oa-B)*r.Ld*Ba.positionSplitImpulseBaumgarte;v=x.Ib;x.Ib+=t;0>x.Ib&&(x.Ib=0);t=x.Ib-v;a+=r.gg*t;b+=r.hg*
t;e+=r.ig*t;d+=r.jg*-t;c+=r.kg*-t;f+=r.lg*-t;h+=r.Pe*t;k+=r.Qe*t;g+=r.Re*t;l+=r.Se*-t;m+=r.Te*-t;n+=r.Ue*-t}this.J.Pc=a;this.J.Qc=b;this.J.Rc=e;this.K.Pc=d;this.K.Qc=c;this.K.Rc=f;this.J.Jc=h;this.J.Kc=k;this.J.Lc=g;this.K.Jc=l;this.K.Kc=m;this.K.Lc=n};Nd.prototype.Tf=function(){this.i.Yh();this.i.Ec(this.info);var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;
var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,O=this.info.Na;C<O;){var y=C++,A=this.h[y],E=this.info.rows[y].Ve;A.gg=E.Ba*a;A.hg=E.Ca*a;A.ig=E.Da*a;A.jg=E.Fa*b;A.kg=E.Ga*b;A.lg=E.Ha*b;var M=void 0,G=void 0,R=void 0;M=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;R=g*E.ka+l*E.la+m*E.ma;A.Pe=M;A.Qe=G;A.Re=R;var K=void 0,oa=void 0,N=void 0;K=n*E.na+q*E.oa+p*E.pa;oa=r*E.na+t*E.oa+x*E.pa;N=v*E.na+B*E.oa+H*E.pa;
A.Se=K;A.Te=oa;A.Ue=N;A.Ld=a+b+(A.Pe*E.ka+A.Qe*E.la+A.Re*E.ma)+(A.Se*E.na+A.Te*E.oa+A.Ue*E.pa);0!=A.Ld&&(A.Ld=1/A.Ld)}for(var Ra,Wa,Ja,Sa,Aa,La,Fa,L,Z,Y,va,Va,D=Va=va=Y=Z=L=Fa=La=Aa=Sa=Ja=Wa=Ra=0,za=this.info.Na;D<za;){var aa=D++,Ta=this.info.rows[aa],ca=this.h[aa],ia=Ta.Aa,T=Ta.Ve,ka=0;ka+=Ra*T.Ba+Wa*T.Ca+Ja*T.Da;ka-=Sa*T.Fa+Aa*T.Ga+La*T.Ha;ka+=Fa*T.ka+L*T.la+Z*T.ma;ka-=Y*T.na+va*T.oa+Va*T.pa;var pa=(Ta.Oa-ka)*ca.Ld*Ba.positionNgsBaumgarte,Ca=ia.Ib;ia.Ib+=pa;0>ia.Ib&&(ia.Ib=0);pa=ia.Ib-Ca;Ra+=ca.gg*
pa;Wa+=ca.hg*pa;Ja+=ca.ig*pa;Sa+=ca.jg*-pa;Aa+=ca.kg*-pa;La+=ca.lg*-pa;Fa+=ca.Pe*pa;L+=ca.Qe*pa;Z+=ca.Re*pa;Y+=ca.Se*-pa;va+=ca.Te*-pa;Va+=ca.Ue*-pa}var V=this.J;V.g.F+=Ra;V.g.G+=Wa;V.g.H+=Ja;var fa=this.K;fa.g.F+=Sa;fa.g.G+=Aa;fa.g.H+=La;var w=this.J,ta=Math.sqrt(Fa*Fa+L*L+Z*Z),Ga=.5*ta;if(.5>Ga){var da=Ga*Ga;var W=.5*(1-.16666666666666666*da+da*da*.008333333333333333);var sa=1-.5*da+da*da*.041666666666666664}else W=Math.sin(Ga)/ta,sa=Math.cos(Ga);var la=Fa*W;var Oa=L*W;var ab=Z*W;var ja=sa;var ob=
w.g.A,Ha=w.g.v,I=w.g.B,Ka=ob+Ha+I;if(0<Ka){var P=Math.sqrt(Ka+1);var na=.5*P;P=.5/P;var ba=(w.g.l-w.g.s)*P;var ea=(w.g.m-w.g.u)*P;var X=(w.g.o-w.g.j)*P}else ob>Ha?ob>I?(P=Math.sqrt(ob-Ha-I+1),ba=.5*P,P=.5/P,ea=(w.g.j+w.g.o)*P,X=(w.g.m+w.g.u)*P,na=(w.g.l-w.g.s)*P):(P=Math.sqrt(I-ob-Ha+1),X=.5*P,P=.5/P,ba=(w.g.m+w.g.u)*P,ea=(w.g.s+w.g.l)*P,na=(w.g.o-w.g.j)*P):Ha>I?(P=Math.sqrt(Ha-I-ob+1),ea=.5*P,P=.5/P,ba=(w.g.j+w.g.o)*P,X=(w.g.s+w.g.l)*P,na=(w.g.m-w.g.u)*P):(P=Math.sqrt(I-ob-Ha+1),X=.5*P,P=.5/P,ba=
(w.g.m+w.g.u)*P,ea=(w.g.s+w.g.l)*P,na=(w.g.o-w.g.j)*P);ba=ja*ba+la*na+Oa*X-ab*ea;ea=ja*ea-la*X+Oa*na+ab*ba;X=ja*X+la*ea-Oa*ba+ab*na;na=ja*na-la*ba-Oa*ea-ab*X;var ma=ba*ba+ea*ea+X*X+na*na;1E-32<ma&&(ma=1/Math.sqrt(ma));ba*=ma;ea*=ma;X*=ma;na*=ma;var xb=ba,Za=ea,ib=X,qb=na,lb=2*xb,bb=2*Za,$a=2*ib,qa=xb*lb,mb=Za*bb,Db=ib*$a,Xa=xb*bb,tb=Za*$a,Ma=xb*$a,Eb=qb*lb,ub=qb*bb,fb=qb*$a;w.g.A=1-mb-Db;w.g.j=Xa-fb;w.g.m=Ma+ub;w.g.o=Xa+fb;w.g.v=1-qa-Db;w.g.s=tb-Eb;w.g.u=Ma-ub;w.g.l=tb+Eb;w.g.B=1-qa-mb;var db=w.g.A*
w.$a+w.g.j*w.cb+w.g.m*w.gb;var gb=w.g.A*w.ab+w.g.j*w.eb+w.g.m*w.hb;var jb=w.g.A*w.bb+w.g.j*w.fb+w.g.m*w.ib;var Bb=w.g.o*w.$a+w.g.v*w.cb+w.g.s*w.gb;var kb=w.g.o*w.ab+w.g.v*w.eb+w.g.s*w.hb;var nb=w.g.o*w.bb+w.g.v*w.fb+w.g.s*w.ib;var Ya=w.g.u*w.$a+w.g.l*w.cb+w.g.B*w.gb;var Nb=w.g.u*w.ab+w.g.l*w.eb+w.g.B*w.hb;var Lb=w.g.u*w.bb+w.g.l*w.fb+w.g.B*w.ib;w.ba=db;w.ca=gb;w.da=jb;w.ea=Bb;w.fa=kb;w.ga=nb;w.ha=Ya;w.ia=Nb;w.ja=Lb;var F=w.ba*w.g.A+w.ca*w.g.j+w.da*w.g.m;var pb=w.ba*w.g.o+w.ca*w.g.v+w.da*w.g.s;var cb=
w.ba*w.g.u+w.ca*w.g.l+w.da*w.g.B;var Fb=w.ea*w.g.A+w.fa*w.g.j+w.ga*w.g.m;var wb=w.ea*w.g.o+w.fa*w.g.v+w.ga*w.g.s;var eb=w.ea*w.g.u+w.fa*w.g.l+w.ga*w.g.B;var Ib=w.ha*w.g.A+w.ia*w.g.j+w.ja*w.g.m;var Q=w.ha*w.g.o+w.ia*w.g.v+w.ja*w.g.s;var U=w.ha*w.g.u+w.ia*w.g.l+w.ja*w.g.B;w.ba=F;w.ca=pb;w.da=cb;w.ea=Fb;w.fa=wb;w.ga=eb;w.ha=Ib;w.ia=Q;w.ja=U;w.ba*=w.W.x;w.ca*=w.W.x;w.da*=w.W.x;w.ea*=w.W.y;w.fa*=w.W.y;w.ga*=w.W.y;w.ha*=w.W.z;w.ia*=w.W.z;w.ja*=w.W.z;var u=this.K,Ab=Math.sqrt(Y*Y+va*va+Va*Va),rb=.5*Ab;if(.5>
rb){var ra=rb*rb;var Ua=.5*(1-.16666666666666666*ra+ra*ra*.008333333333333333);var xa=1-.5*ra+ra*ra*.041666666666666664}else Ua=Math.sin(rb)/Ab,xa=Math.cos(rb);var Pa=Y*Ua;var hb=va*Ua;var yb=Va*Ua;var Jb=xa;var ua=u.g.A,Qa=u.g.v,wa=u.g.B,Da=ua+Qa+wa;if(0<Da){var S=Math.sqrt(Da+1);var Na=.5*S;S=.5/S;var Ia=(u.g.l-u.g.s)*S;var Cb=(u.g.m-u.g.u)*S;var vb=(u.g.o-u.g.j)*S}else ua>Qa?ua>wa?(S=Math.sqrt(ua-Qa-wa+1),Ia=.5*S,S=.5/S,Cb=(u.g.j+u.g.o)*S,vb=(u.g.m+u.g.u)*S,Na=(u.g.l-u.g.s)*S):(S=Math.sqrt(wa-
ua-Qa+1),vb=.5*S,S=.5/S,Ia=(u.g.m+u.g.u)*S,Cb=(u.g.s+u.g.l)*S,Na=(u.g.o-u.g.j)*S):Qa>wa?(S=Math.sqrt(Qa-wa-ua+1),Cb=.5*S,S=.5/S,Ia=(u.g.j+u.g.o)*S,vb=(u.g.s+u.g.l)*S,Na=(u.g.m-u.g.u)*S):(S=Math.sqrt(wa-ua-Qa+1),vb=.5*S,S=.5/S,Ia=(u.g.m+u.g.u)*S,Cb=(u.g.s+u.g.l)*S,Na=(u.g.o-u.g.j)*S);Ia=Jb*Ia+Pa*Na+hb*vb-yb*Cb;Cb=Jb*Cb-Pa*vb+hb*Na+yb*Ia;vb=Jb*vb+Pa*Cb-hb*Ia+yb*Na;Na=Jb*Na-Pa*Ia-hb*Cb-yb*vb;var Kb=Ia*Ia+Cb*Cb+vb*vb+Na*Na;1E-32<Kb&&(Kb=1/Math.sqrt(Kb));Ia*=Kb;Cb*=Kb;vb*=Kb;Na*=Kb;var Gb=Ia,Vb=Cb,Rb=
vb,Wb=Na,nc=2*Gb,ac=2*Vb,gc=2*Rb,cc=Gb*nc,Tb=Vb*ac,Ub=Rb*gc,Qb=Gb*ac,hc=Vb*gc,bc=Gb*gc,jc=Wb*nc,Xb=Wb*ac,ic=Wb*gc;u.g.A=1-Tb-Ub;u.g.j=Qb-ic;u.g.m=bc+Xb;u.g.o=Qb+ic;u.g.v=1-cc-Ub;u.g.s=hc-jc;u.g.u=bc-Xb;u.g.l=hc+jc;u.g.B=1-cc-Tb;var vc=u.g.A*u.$a+u.g.j*u.cb+u.g.m*u.gb;var Yb=u.g.A*u.ab+u.g.j*u.eb+u.g.m*u.hb;var Sc=u.g.A*u.bb+u.g.j*u.fb+u.g.m*u.ib;var Mb=u.g.o*u.$a+u.g.v*u.cb+u.g.s*u.gb;var mc=u.g.o*u.ab+u.g.v*u.eb+u.g.s*u.hb;var fc=u.g.o*u.bb+u.g.v*u.fb+u.g.s*u.ib;var Zb=u.g.u*u.$a+u.g.l*u.cb+u.g.B*
u.gb;var lc=u.g.u*u.ab+u.g.l*u.eb+u.g.B*u.hb;var ed=u.g.u*u.bb+u.g.l*u.fb+u.g.B*u.ib;u.ba=vc;u.ca=Yb;u.da=Sc;u.ea=Mb;u.fa=mc;u.ga=fc;u.ha=Zb;u.ia=lc;u.ja=ed;var Cc=u.ba*u.g.A+u.ca*u.g.j+u.da*u.g.m;var wc=u.ba*u.g.o+u.ca*u.g.v+u.da*u.g.s;var sc=u.ba*u.g.u+u.ca*u.g.l+u.da*u.g.B;var Kc=u.ea*u.g.A+u.fa*u.g.j+u.ga*u.g.m;var tc=u.ea*u.g.o+u.fa*u.g.v+u.ga*u.g.s;var Lc=u.ea*u.g.u+u.fa*u.g.l+u.ga*u.g.B;var Id=u.ha*u.g.A+u.ia*u.g.j+u.ja*u.g.m;var fd=u.ha*u.g.o+u.ia*u.g.v+u.ja*u.g.s;var Xc=u.ha*u.g.u+u.ia*u.g.l+
u.ja*u.g.B;u.ba=Cc;u.ca=wc;u.da=sc;u.ea=Kc;u.fa=tc;u.ga=Lc;u.ha=Id;u.ia=fd;u.ja=Xc;u.ba*=u.W.x;u.ca*=u.W.x;u.da*=u.W.x;u.ea*=u.W.y;u.fa*=u.W.y;u.ga*=u.W.y;u.ha*=u.W.z;u.ia*=u.W.z;u.ja*=u.W.z};Nd.prototype.postSolve=function(){for(var a,b,e,d,c,f,h,k,g,l=g=k=h=f=c=d=e=b=a=0,m=this.info.Na;l<m;){var n=this.info.rows[l++],q=n.Aa,p=n.Ve,r=n.Ug;n=n.Tg;var t=q.Hc,x=q.xc,v=q.wc,B,H;var C=H=B=0;B+=r.Ba*x;H+=r.Ca*x;C+=r.Da*x;B+=n.Ba*v;H+=n.Ca*v;C+=n.Da*v;q.ge=B;q.he=H;q.ie=C;a+=p.Ba*t;b+=p.Ca*t;e+=p.Da*t;
d+=p.ka*t;c+=p.la*t;f+=p.ma*t;h+=p.na*t;k+=p.oa*t;g+=p.pa*t;a+=r.Ba*x;b+=r.Ca*x;e+=r.Da*x;d+=r.ka*x;c+=r.la*x;f+=r.ma*x;h+=r.na*x;k+=r.oa*x;g+=r.pa*x;a+=n.Ba*v;b+=n.Ca*v;e+=n.Da*v;d+=n.ka*v;c+=n.la*v;f+=n.ma*v;h+=n.na*v;k+=n.oa*v;g+=n.pa*v}this.J.If+=a;this.J.Jf+=b;this.J.Kf+=e;this.J.Ef+=d;this.J.Ff+=c;this.J.Gf+=f;this.K.If-=a;this.K.Jf-=b;this.K.Kf-=e;this.K.Ef-=h;this.K.Ff-=k;this.K.Gf-=g;this.i.Yh()};rl(xd,cd);xd.prototype.Rf=function(a){this.h.Gc();this.h.nd(a,this.info);this.J=this.info.Yd;
this.K=this.info.Zd;a=this.J.Ab;var b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,O=this.info.Na;C<O;){var y=C++,A=this.info.rows[y];y=this.i[y];var E=A.Ea;E.Mi();0!=(E.sc&1)?(y.$c=E.Ba*a,y.ad=E.Ca*a,y.bd=E.Da*a,y.cd=E.Fa*b,y.dd=E.Ga*b,
y.ed=E.Ha*b):(y.$c=0,y.ad=0,y.bd=0,y.cd=0,y.dd=0,y.ed=0);if(0!=(E.sc&2)){var M=e*E.ka+d*E.la+c*E.ma;var G=f*E.ka+h*E.la+k*E.ma;var R=g*E.ka+l*E.la+m*E.ma;y.Uc=M;y.Vc=G;y.Wc=R;M=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;R=v*E.na+B*E.oa+H*E.pa;y.Xc=M;y.Yc=G;y.Zc=R}else y.Uc=0,y.Vc=0,y.Wc=0,y.Xc=0,y.Yc=0,y.Zc=0;y.Je=y.$c*E.Ba+y.ad*E.Ca+y.bd*E.Da+(y.cd*E.Fa+y.dd*E.Ga+y.ed*E.Ha)+(y.Uc*E.ka+y.Vc*E.la+y.Wc*E.ma)+(y.Xc*E.na+y.Yc*E.oa+y.Zc*E.pa);y.mass=y.Je+A.Va;0!=y.Je&&(y.Je=1/y.Je);0!=y.mass&&(y.mass=
1/y.mass)}};xd.prototype.Wf=function(a){var b=this.h.pf==Jh.BAUMGARTE?Ba.jointWarmStartingFactorForBaungarte:Ba.jointWarmStartingFactor;b*=a.dtRatio;if(0>=b)for(b=0,a=this.info.Na;b<a;){var e=this.info.rows[b++].Aa;e.Aa=0;e.Tc=0;e.Ib=0}else{a=this.J.ub;e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0,r=this.info.Na;p<r;){var t=p++,x=this.i[t];t=this.info.rows[t].Aa;
t.Aa*=b;t.Tc*=b;t=t.Aa+t.Tc;a+=x.$c*t;e+=x.ad*t;d+=x.bd*t;c+=x.cd*-t;f+=x.dd*-t;h+=x.ed*-t;k+=x.Uc*t;g+=x.Vc*t;l+=x.Wc*t;m+=x.Xc*-t;n+=x.Yc*-t;q+=x.Zc*-t}this.J.ub=a;this.J.vb=e;this.J.wb=d;this.K.ub=c;this.K.vb=f;this.K.wb=h;this.J.xb=k;this.J.yb=g;this.J.zb=l;this.K.xb=m;this.K.yb=n;this.K.zb=q}};xd.prototype.Vf=function(){var a=this.J.ub;var b=this.J.vb;var e=this.J.wb;var d=this.K.ub;var c=this.K.vb;var f=this.K.wb;var h=this.J.xb;var k=this.J.yb;var g=this.J.zb;var l=this.K.xb;var m=this.K.yb;
var n=this.K.zb;for(var q=0,p=this.info.Na;q<p;){var r=q++,t=this.info.rows[r];r=this.i[r];var x=t.Aa,v=t.Ea;if(0!=t.Db){var B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;B=(-t.motorSpeed-B)*r.Je;var H=x.Tc;x.Tc+=B;x.Tc<-t.Db?x.Tc=-t.Db:x.Tc>t.Db&&(x.Tc=t.Db);B=x.Tc-H;0!=(v.sc&1)&&(a+=r.$c*B,b+=r.ad*B,e+=r.bd*B,d+=r.cd*-B,c+=r.dd*-B,f+=r.ed*-B);0!=(v.sc&2)&&(h+=r.Uc*B,k+=r.Vc*B,g+=r.Wc*B,l+=r.Xc*-B,m+=r.Yc*-B,n+=r.Zc*-B)}}q=0;for(p=this.info.Na;q<
p;)r=q++,t=this.info.rows[r],r=this.i[r],x=t.Aa,v=t.Ea,B=0,B+=a*v.Ba+b*v.Ca+e*v.Da,B-=d*v.Fa+c*v.Ga+f*v.Ha,B+=h*v.ka+k*v.la+g*v.ma,B-=l*v.na+m*v.oa+n*v.pa,B=(t.Oa-B-x.Aa*t.Va)*r.mass,H=x.Aa,x.Aa+=B,x.Aa<t.Ra?x.Aa=t.Ra:x.Aa>t.Qa&&(x.Aa=t.Qa),B=x.Aa-H,0!=(v.sc&1)&&(a+=r.$c*B,b+=r.ad*B,e+=r.bd*B,d+=r.cd*-B,c+=r.dd*-B,f+=r.ed*-B),0!=(v.sc&2)&&(h+=r.Uc*B,k+=r.Vc*B,g+=r.Wc*B,l+=r.Xc*-B,m+=r.Yc*-B,n+=r.Zc*-B);this.J.ub=a;this.J.vb=b;this.J.wb=e;this.K.ub=d;this.K.vb=c;this.K.wb=f;this.J.xb=h;this.J.yb=k;
this.J.zb=g;this.K.xb=l;this.K.yb=m;this.K.zb=n};xd.prototype.rg=function(a){for(var b,e,d,c,f,h,k=h=f=c=d=e=b=0,g=this.info.Na;k<g;){var l=this.info.rows[k++],m=l.Aa;l=l.Ea;0!=(l.sc&1)?(b+=l.Ba*m.Aa,e+=l.Ca*m.Aa,d+=l.Da*m.Aa):0!=(l.sc&2)&&(c+=l.ka*m.Aa,f+=l.la*m.Aa,h+=l.ma*m.Aa)}this.h.vg=b*a.invDt;this.h.wg=e*a.invDt;this.h.xg=d*a.invDt;this.h.yg=c*a.invDt;this.h.zg=f*a.invDt;this.h.Ag=h*a.invDt};xd.prototype.Bf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;
var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,O=this.info.Na;C<O;){var y=C++,A=this.i[y];y=this.info.rows[y].Ea;A.$c=y.Ba*a;A.ad=y.Ca*a;A.bd=y.Da*a;A.cd=y.Fa*b;A.dd=y.Ga*b;A.ed=y.Ha*b;var E=e*y.ka+d*y.la+c*y.ma;var M=f*
y.ka+h*y.la+k*y.ma;var G=g*y.ka+l*y.la+m*y.ma;A.Uc=E;A.Vc=M;A.Wc=G;E=n*y.na+q*y.oa+p*y.pa;M=r*y.na+t*y.oa+x*y.pa;G=v*y.na+B*y.oa+H*y.pa;A.Xc=E;A.Yc=M;A.Zc=G;A.mass=A.$c*y.Ba+A.ad*y.Ca+A.bd*y.Da+(A.cd*y.Fa+A.dd*y.Ga+A.ed*y.Ha)+(A.Uc*y.ka+A.Vc*y.la+A.Wc*y.ma)+(A.Xc*y.na+A.Yc*y.oa+A.Zc*y.pa);0!=A.mass&&(A.mass=1/A.mass)}a=0;for(b=this.info.Na;a<b;)this.info.rows[a++].Aa.Ib=0};xd.prototype.Uf=function(){var a=this.J.Pc;var b=this.J.Qc;var e=this.J.Rc;var d=this.K.Pc;var c=this.K.Qc;var f=this.K.Rc;var h=
this.J.Jc;var k=this.J.Kc;var g=this.J.Lc;var l=this.K.Jc;var m=this.K.Kc;var n=this.K.Lc;for(var q=0,p=this.info.Na;q<p;){var r=q++,t=this.info.rows[r];r=this.i[r];var x=t.Aa,v=t.Ea,B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;v=(t.Oa*Ba.positionSplitImpulseBaumgarte-B)*r.mass;B=x.Ib;x.Ib+=v;x.Ib<t.Ra?x.Ib=t.Ra:x.Ib>t.Qa&&(x.Ib=t.Qa);v=x.Ib-B;a+=r.$c*v;b+=r.ad*v;e+=r.bd*v;d+=r.cd*-v;c+=r.dd*-v;f+=r.ed*-v;h+=r.Uc*v;k+=r.Vc*v;g+=r.Wc*v;l+=r.Xc*
-v;m+=r.Yc*-v;n+=r.Zc*-v}this.J.Pc=a;this.J.Qc=b;this.J.Rc=e;this.K.Pc=d;this.K.Qc=c;this.K.Rc=f;this.J.Jc=h;this.J.Kc=k;this.J.Lc=g;this.K.Jc=l;this.K.Kc=m;this.K.Lc=n};xd.prototype.Tf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;
var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,O=this.info.Na;C<O;){var y=C++,A=this.i[y],E=this.info.rows[y].Ea;A.$c=E.Ba*a;A.ad=E.Ca*a;A.bd=E.Da*a;A.cd=E.Fa*b;A.dd=E.Ga*b;A.ed=E.Ha*b;var M=void 0,G=void 0,R=void 0;M=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;R=g*E.ka+l*E.la+m*E.ma;A.Uc=M;A.Vc=G;A.Wc=R;var K=void 0,oa=void 0,N=void 0;K=n*E.na+q*E.oa+p*E.pa;oa=r*E.na+t*E.oa+x*E.pa;N=v*E.na+B*E.oa+H*E.pa;A.Xc=K;A.Yc=oa;A.Zc=N;A.mass=A.$c*E.Ba+A.ad*E.Ca+
A.bd*E.Da+(A.cd*E.Fa+A.dd*E.Ga+A.ed*E.Ha)+(A.Uc*E.ka+A.Vc*E.la+A.Wc*E.ma)+(A.Xc*E.na+A.Yc*E.oa+A.Zc*E.pa);0!=A.mass&&(A.mass=1/A.mass)}for(var Ra,Wa,Ja,Sa,Aa,La,Fa,L,Z,Y,va,Va,D=Va=va=Y=Z=L=Fa=La=Aa=Sa=Ja=Wa=Ra=0,za=this.info.Na;D<za;){var aa=D++,Ta=this.info.rows[aa],ca=this.i[aa],ia=Ta.Aa,T=Ta.Ea,ka=0;ka+=Ra*T.Ba+Wa*T.Ca+Ja*T.Da;ka-=Sa*T.Fa+Aa*T.Ga+La*T.Ha;ka+=Fa*T.ka+L*T.la+Z*T.ma;ka-=Y*T.na+va*T.oa+Va*T.pa;var pa=(Ta.Oa*Ba.positionNgsBaumgarte-ka)*ca.mass,Ca=ia.Ib;ia.Ib+=pa;ia.Ib<Ta.Ra?ia.Ib=
Ta.Ra:ia.Ib>Ta.Qa&&(ia.Ib=Ta.Qa);pa=ia.Ib-Ca;Ra+=ca.$c*pa;Wa+=ca.ad*pa;Ja+=ca.bd*pa;Sa+=ca.cd*-pa;Aa+=ca.dd*-pa;La+=ca.ed*-pa;Fa+=ca.Uc*pa;L+=ca.Vc*pa;Z+=ca.Wc*pa;Y+=ca.Xc*-pa;va+=ca.Yc*-pa;Va+=ca.Zc*-pa}var V=this.J;V.g.F+=Ra;V.g.G+=Wa;V.g.H+=Ja;var fa=this.K;fa.g.F+=Sa;fa.g.G+=Aa;fa.g.H+=La;var w=this.J,ta=Math.sqrt(Fa*Fa+L*L+Z*Z),Ga=.5*ta;if(.5>Ga){var da=Ga*Ga;var W=.5*(1-.16666666666666666*da+da*da*.008333333333333333);var sa=1-.5*da+da*da*.041666666666666664}else W=Math.sin(Ga)/ta,sa=Math.cos(Ga);
var la=Fa*W;var Oa=L*W;var ab=Z*W;var ja=sa;var ob=w.g.A,Ha=w.g.v,I=w.g.B,Ka=ob+Ha+I;if(0<Ka){var P=Math.sqrt(Ka+1);var na=.5*P;P=.5/P;var ba=(w.g.l-w.g.s)*P;var ea=(w.g.m-w.g.u)*P;var X=(w.g.o-w.g.j)*P}else ob>Ha?ob>I?(P=Math.sqrt(ob-Ha-I+1),ba=.5*P,P=.5/P,ea=(w.g.j+w.g.o)*P,X=(w.g.m+w.g.u)*P,na=(w.g.l-w.g.s)*P):(P=Math.sqrt(I-ob-Ha+1),X=.5*P,P=.5/P,ba=(w.g.m+w.g.u)*P,ea=(w.g.s+w.g.l)*P,na=(w.g.o-w.g.j)*P):Ha>I?(P=Math.sqrt(Ha-I-ob+1),ea=.5*P,P=.5/P,ba=(w.g.j+w.g.o)*P,X=(w.g.s+w.g.l)*P,na=(w.g.m-
w.g.u)*P):(P=Math.sqrt(I-ob-Ha+1),X=.5*P,P=.5/P,ba=(w.g.m+w.g.u)*P,ea=(w.g.s+w.g.l)*P,na=(w.g.o-w.g.j)*P);ba=ja*ba+la*na+Oa*X-ab*ea;ea=ja*ea-la*X+Oa*na+ab*ba;X=ja*X+la*ea-Oa*ba+ab*na;na=ja*na-la*ba-Oa*ea-ab*X;var ma=ba*ba+ea*ea+X*X+na*na;1E-32<ma&&(ma=1/Math.sqrt(ma));ba*=ma;ea*=ma;X*=ma;na*=ma;var xb=ba,Za=ea,ib=X,qb=na,lb=2*xb,bb=2*Za,$a=2*ib,qa=xb*lb,mb=Za*bb,Db=ib*$a,Xa=xb*bb,tb=Za*$a,Ma=xb*$a,Eb=qb*lb,ub=qb*bb,fb=qb*$a;w.g.A=1-mb-Db;w.g.j=Xa-fb;w.g.m=Ma+ub;w.g.o=Xa+fb;w.g.v=1-qa-Db;w.g.s=tb-
Eb;w.g.u=Ma-ub;w.g.l=tb+Eb;w.g.B=1-qa-mb;var db=w.g.A*w.$a+w.g.j*w.cb+w.g.m*w.gb;var gb=w.g.A*w.ab+w.g.j*w.eb+w.g.m*w.hb;var jb=w.g.A*w.bb+w.g.j*w.fb+w.g.m*w.ib;var Bb=w.g.o*w.$a+w.g.v*w.cb+w.g.s*w.gb;var kb=w.g.o*w.ab+w.g.v*w.eb+w.g.s*w.hb;var nb=w.g.o*w.bb+w.g.v*w.fb+w.g.s*w.ib;var Ya=w.g.u*w.$a+w.g.l*w.cb+w.g.B*w.gb;var Nb=w.g.u*w.ab+w.g.l*w.eb+w.g.B*w.hb;var Lb=w.g.u*w.bb+w.g.l*w.fb+w.g.B*w.ib;w.ba=db;w.ca=gb;w.da=jb;w.ea=Bb;w.fa=kb;w.ga=nb;w.ha=Ya;w.ia=Nb;w.ja=Lb;var F=w.ba*w.g.A+w.ca*w.g.j+
w.da*w.g.m;var pb=w.ba*w.g.o+w.ca*w.g.v+w.da*w.g.s;var cb=w.ba*w.g.u+w.ca*w.g.l+w.da*w.g.B;var Fb=w.ea*w.g.A+w.fa*w.g.j+w.ga*w.g.m;var wb=w.ea*w.g.o+w.fa*w.g.v+w.ga*w.g.s;var eb=w.ea*w.g.u+w.fa*w.g.l+w.ga*w.g.B;var Ib=w.ha*w.g.A+w.ia*w.g.j+w.ja*w.g.m;var Q=w.ha*w.g.o+w.ia*w.g.v+w.ja*w.g.s;var U=w.ha*w.g.u+w.ia*w.g.l+w.ja*w.g.B;w.ba=F;w.ca=pb;w.da=cb;w.ea=Fb;w.fa=wb;w.ga=eb;w.ha=Ib;w.ia=Q;w.ja=U;w.ba*=w.W.x;w.ca*=w.W.x;w.da*=w.W.x;w.ea*=w.W.y;w.fa*=w.W.y;w.ga*=w.W.y;w.ha*=w.W.z;w.ia*=w.W.z;w.ja*=w.W.z;
var u=this.K,Ab=Math.sqrt(Y*Y+va*va+Va*Va),rb=.5*Ab;if(.5>rb){var ra=rb*rb;var Ua=.5*(1-.16666666666666666*ra+ra*ra*.008333333333333333);var xa=1-.5*ra+ra*ra*.041666666666666664}else Ua=Math.sin(rb)/Ab,xa=Math.cos(rb);var Pa=Y*Ua;var hb=va*Ua;var yb=Va*Ua;var Jb=xa;var ua=u.g.A,Qa=u.g.v,wa=u.g.B,Da=ua+Qa+wa;if(0<Da){var S=Math.sqrt(Da+1);var Na=.5*S;S=.5/S;var Ia=(u.g.l-u.g.s)*S;var Cb=(u.g.m-u.g.u)*S;var vb=(u.g.o-u.g.j)*S}else ua>Qa?ua>wa?(S=Math.sqrt(ua-Qa-wa+1),Ia=.5*S,S=.5/S,Cb=(u.g.j+u.g.o)*
S,vb=(u.g.m+u.g.u)*S,Na=(u.g.l-u.g.s)*S):(S=Math.sqrt(wa-ua-Qa+1),vb=.5*S,S=.5/S,Ia=(u.g.m+u.g.u)*S,Cb=(u.g.s+u.g.l)*S,Na=(u.g.o-u.g.j)*S):Qa>wa?(S=Math.sqrt(Qa-wa-ua+1),Cb=.5*S,S=.5/S,Ia=(u.g.j+u.g.o)*S,vb=(u.g.s+u.g.l)*S,Na=(u.g.m-u.g.u)*S):(S=Math.sqrt(wa-ua-Qa+1),vb=.5*S,S=.5/S,Ia=(u.g.m+u.g.u)*S,Cb=(u.g.s+u.g.l)*S,Na=(u.g.o-u.g.j)*S);Ia=Jb*Ia+Pa*Na+hb*vb-yb*Cb;Cb=Jb*Cb-Pa*vb+hb*Na+yb*Ia;vb=Jb*vb+Pa*Cb-hb*Ia+yb*Na;Na=Jb*Na-Pa*Ia-hb*Cb-yb*vb;var Kb=Ia*Ia+Cb*Cb+vb*vb+Na*Na;1E-32<Kb&&(Kb=1/Math.sqrt(Kb));
Ia*=Kb;Cb*=Kb;vb*=Kb;Na*=Kb;var Gb=Ia,Vb=Cb,Rb=vb,Wb=Na,nc=2*Gb,ac=2*Vb,gc=2*Rb,cc=Gb*nc,Tb=Vb*ac,Ub=Rb*gc,Qb=Gb*ac,hc=Vb*gc,bc=Gb*gc,jc=Wb*nc,Xb=Wb*ac,ic=Wb*gc;u.g.A=1-Tb-Ub;u.g.j=Qb-ic;u.g.m=bc+Xb;u.g.o=Qb+ic;u.g.v=1-cc-Ub;u.g.s=hc-jc;u.g.u=bc-Xb;u.g.l=hc+jc;u.g.B=1-cc-Tb;var vc=u.g.A*u.$a+u.g.j*u.cb+u.g.m*u.gb;var Yb=u.g.A*u.ab+u.g.j*u.eb+u.g.m*u.hb;var Sc=u.g.A*u.bb+u.g.j*u.fb+u.g.m*u.ib;var Mb=u.g.o*u.$a+u.g.v*u.cb+u.g.s*u.gb;var mc=u.g.o*u.ab+u.g.v*u.eb+u.g.s*u.hb;var fc=u.g.o*u.bb+u.g.v*u.fb+
u.g.s*u.ib;var Zb=u.g.u*u.$a+u.g.l*u.cb+u.g.B*u.gb;var lc=u.g.u*u.ab+u.g.l*u.eb+u.g.B*u.hb;var ed=u.g.u*u.bb+u.g.l*u.fb+u.g.B*u.ib;u.ba=vc;u.ca=Yb;u.da=Sc;u.ea=Mb;u.fa=mc;u.ga=fc;u.ha=Zb;u.ia=lc;u.ja=ed;var Cc=u.ba*u.g.A+u.ca*u.g.j+u.da*u.g.m;var wc=u.ba*u.g.o+u.ca*u.g.v+u.da*u.g.s;var sc=u.ba*u.g.u+u.ca*u.g.l+u.da*u.g.B;var Kc=u.ea*u.g.A+u.fa*u.g.j+u.ga*u.g.m;var tc=u.ea*u.g.o+u.fa*u.g.v+u.ga*u.g.s;var Lc=u.ea*u.g.u+u.fa*u.g.l+u.ga*u.g.B;var Id=u.ha*u.g.A+u.ia*u.g.j+u.ja*u.g.m;var fd=u.ha*u.g.o+
u.ia*u.g.v+u.ja*u.g.s;var Xc=u.ha*u.g.u+u.ia*u.g.l+u.ja*u.g.B;u.ba=Cc;u.ca=wc;u.da=sc;u.ea=Kc;u.fa=tc;u.ga=Lc;u.ha=Id;u.ia=fd;u.ja=Xc;u.ba*=u.W.x;u.ca*=u.W.x;u.da*=u.W.x;u.ea*=u.W.y;u.fa*=u.W.y;u.ga*=u.W.y;u.ha*=u.W.z;u.ia*=u.W.z;u.ja*=u.W.z};xd.prototype.postSolve=function(){this.h.Gc();this.h.Bi()};J.prototype.Di=function(a){switch(this.$b){case 1:this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=this.zb=this.yb=this.xb=this.wb=this.vb=this.ub=0;break;case 0:case 2:var b=this.ub*a;var e=this.vb*a;
var d=this.wb*a;var c=this.xb*a;var f=this.yb*a;a=this.zb*a;var h=b*b+e*e+d*d,k=c*c+f*f+a*a;if(0!=h||0!=k){h>Ba.maxTranslationPerStep*Ba.maxTranslationPerStep&&(h=Ba.maxTranslationPerStep/Math.sqrt(h),this.ub*=h,this.vb*=h,this.wb*=h,b*=h,e*=h,d*=h);k>Ba.maxRotationPerStep*Ba.maxRotationPerStep&&(k=Ba.maxRotationPerStep/Math.sqrt(k),this.xb*=k,this.yb*=k,this.zb*=k,c*=k,f*=k,a*=k);this.g.F+=b;this.g.G+=e;this.g.H+=d;b=Math.sqrt(c*c+f*f+a*a);e=.5*b;.5>e?(e*=e,b=.5*(1-.16666666666666666*e+e*e*.008333333333333333),
e=1-.5*e+e*e*.041666666666666664):(b=Math.sin(e)/b,e=Math.cos(e));c*=b;f*=b;a*=b;b=e;e=this.g.A;d=this.g.v;k=this.g.B;h=e+d+k;if(0<h){var g=Math.sqrt(h+1);e=.5*g;g=.5/g;h=(this.g.l-this.g.s)*g;k=(this.g.m-this.g.u)*g;d=(this.g.o-this.g.j)*g}else e>d?e>k?(g=Math.sqrt(e-d-k+1),h=.5*g,g=.5/g,k=(this.g.j+this.g.o)*g,d=(this.g.m+this.g.u)*g,e=(this.g.l-this.g.s)*g):(g=Math.sqrt(k-e-d+1),d=.5*g,g=.5/g,h=(this.g.m+this.g.u)*g,k=(this.g.s+this.g.l)*g,e=(this.g.o-this.g.j)*g):d>k?(g=Math.sqrt(d-k-e+1),k=.5*
g,g=.5/g,h=(this.g.j+this.g.o)*g,d=(this.g.s+this.g.l)*g,e=(this.g.m-this.g.u)*g):(g=Math.sqrt(k-e-d+1),d=.5*g,g=.5/g,h=(this.g.m+this.g.u)*g,k=(this.g.s+this.g.l)*g,e=(this.g.o-this.g.j)*g);h=b*h+c*e+f*d-a*k;k=b*k-c*d+f*e+a*h;d=b*d+c*k-f*h+a*e;e=b*e-c*h-f*k-a*d;a=h*h+k*k+d*d+e*e;1E-32<a&&(a=1/Math.sqrt(a));f=h*a;h=k*a;d*=a;b=e*a;var l=2*f;g=2*h;e=2*d;a=f*l;c=h*g;d*=e;k=f*g;h*=e;f*=e;l*=b;g*=b;b*=e;this.g.A=1-c-d;this.g.j=k-b;this.g.m=f+g;this.g.o=k+b;this.g.v=1-a-d;this.g.s=h-l;this.g.u=f-g;this.g.l=
h+l;this.g.B=1-a-c;f=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;a=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;c=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;b=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;e=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;d=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;k=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;h=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=
f;this.ca=a;this.da=c;this.ea=b;this.fa=e;this.ga=d;this.ha=k;this.ia=h;this.ja=g;f=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;a=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;c=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;b=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;e=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;d=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;k=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;
g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=f;this.ca=a;this.da=c;this.ea=b;this.fa=e;this.ga=d;this.ha=k;this.ia=h;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z}}};J.prototype.Ni=function(){if(0!=this.Pc*this.Pc+this.Qc*this.Qc+this.Rc*this.Rc||0!=this.Jc*this.Jc+this.Kc*this.Kc+this.Lc*this.Lc)switch(this.$b){case 1:this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=
this.Pc=0;break;case 0:case 2:var a=this.Pc;var b=this.Qc;var e=this.Rc;var d=this.Jc;var c=this.Kc;var f=this.Lc;this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=0;this.g.F+=a;this.g.G+=b;this.g.H+=e;a=Math.sqrt(d*d+c*c+f*f);b=.5*a;.5>b?(b*=b,a=.5*(1-.16666666666666666*b+b*b*.008333333333333333),b=1-.5*b+b*b*.041666666666666664):(a=Math.sin(b)/a,b=Math.cos(b));d*=a;c*=a;f*=a;a=b;b=this.g.A;e=this.g.v;var h=this.g.B;var k=b+e+h;if(0<k){var g=Math.sqrt(k+1);b=.5*g;g=.5/g;k=(this.g.l-this.g.s)*g;h=(this.g.m-
this.g.u)*g;e=(this.g.o-this.g.j)*g}else b>e?b>h?(g=Math.sqrt(b-e-h+1),k=.5*g,g=.5/g,h=(this.g.j+this.g.o)*g,e=(this.g.m+this.g.u)*g,b=(this.g.l-this.g.s)*g):(g=Math.sqrt(h-b-e+1),e=.5*g,g=.5/g,k=(this.g.m+this.g.u)*g,h=(this.g.s+this.g.l)*g,b=(this.g.o-this.g.j)*g):e>h?(g=Math.sqrt(e-h-b+1),h=.5*g,g=.5/g,k=(this.g.j+this.g.o)*g,e=(this.g.s+this.g.l)*g,b=(this.g.m-this.g.u)*g):(g=Math.sqrt(h-b-e+1),e=.5*g,g=.5/g,k=(this.g.m+this.g.u)*g,h=(this.g.s+this.g.l)*g,b=(this.g.o-this.g.j)*g);k=a*k+d*b+c*
e-f*h;h=a*h-d*e+c*b+f*k;e=a*e+d*h-c*k+f*b;b=a*b-d*k-c*h-f*e;c=k*k+h*h+e*e+b*b;1E-32<c&&(c=1/Math.sqrt(c));d=k*c;k=h*c;e*=c;a=b*c;var l=2*d;g=2*k;b=2*e;c=d*l;f=k*g;e*=b;h=d*g;k*=b;d*=b;l*=a;g*=a;a*=b;this.g.A=1-f-e;this.g.j=h-a;this.g.m=d+g;this.g.o=h+a;this.g.v=1-c-e;this.g.s=k-l;this.g.u=d-g;this.g.l=k+l;this.g.B=1-c-f;d=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;c=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;f=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;a=this.g.o*this.$a+this.g.v*
this.cb+this.g.s*this.gb;b=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;e=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=d;this.ca=c;this.da=f;this.ea=a;this.fa=b;this.ga=e;this.ha=h;this.ia=k;this.ja=g;d=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;c=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;f=this.ba*this.g.u+
this.ca*this.g.l+this.da*this.g.B;a=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;b=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;e=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=d;this.ca=c;this.da=f;this.ea=a;this.fa=b;this.ga=e;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=
this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z}};J.prototype.Wg=function(){for(var a,b,e,d,c,f,h,k,g,l=g=k=h=f=c=d=e=b=a=0,m=this.vc;null!=m;){var n=m.U,q=m.Tb;q.Wd();var p=m.Sh*q.Ge;var r=m.ra.A*q.af+m.ra.j*q.df+m.ra.m*q.gf;var t=m.ra.A*q.bf+m.ra.j*q.ef+m.ra.m*q.hf;var x=m.ra.A*q.cf+m.ra.j*q.ff+m.ra.m*q.jf;var v=m.ra.o*q.af+m.ra.v*q.df+m.ra.s*q.gf;var B=m.ra.o*q.bf+m.ra.v*q.ef+m.ra.s*q.hf;var H=m.ra.o*q.cf+m.ra.v*q.ff+m.ra.s*q.jf;var C=m.ra.u*q.af+
m.ra.l*q.df+m.ra.B*q.gf;var O=m.ra.u*q.bf+m.ra.l*q.ef+m.ra.B*q.hf;q=m.ra.u*q.cf+m.ra.l*q.ff+m.ra.B*q.jf;var y=r*m.ra.A+t*m.ra.j+x*m.ra.m;var A=r*m.ra.o+t*m.ra.v+x*m.ra.s;x=r*m.ra.u+t*m.ra.l+x*m.ra.B;var E=v*m.ra.A+B*m.ra.j+H*m.ra.m;var M=v*m.ra.o+B*m.ra.v+H*m.ra.s;H=v*m.ra.u+B*m.ra.l+H*m.ra.B;var G=C*m.ra.A+O*m.ra.j+q*m.ra.m;var R=C*m.ra.o+O*m.ra.v+q*m.ra.s;q=C*m.ra.u+O*m.ra.l+q*m.ra.B;r=y;t=A;v=E;B=M;C=G;O=R;r*=p;t*=p;x*=p;v*=p;B*=p;H*=p;C*=p;O*=p;q*=p;E=m.ra.F*m.ra.F;M=m.ra.G*m.ra.G;var K=m.ra.H*
m.ra.H;G=-m.ra.F*m.ra.G;R=-m.ra.G*m.ra.H;var oa=-m.ra.H*m.ra.F;m=M+K;y=G;A=oa;K=E+K;var N=R;E+=M;r+=m*p;t+=y*p;x+=A*p;v+=G*p;B+=K*p;H+=N*p;C+=oa*p;O+=R*p;q+=E*p;l+=p;a+=r;b+=t;e+=x;d+=v;c+=B;f+=H;h+=C;k+=O;g+=q;m=n}this.Ce=l;this.h=a;this.i=b;this.C=e;this.I=d;this.M=c;this.V=f;this.X=h;this.Y=k;this.aa=g;if(0<this.Ce&&0<this.h*(this.M*this.aa-this.V*this.Y)-this.i*(this.I*this.aa-this.V*this.X)+this.C*(this.I*this.Y-this.M*this.X)&&0==this.$b){this.Ab=1/this.Ce;a=this.M*this.aa-this.V*this.Y;b=this.I*
this.aa-this.V*this.X;e=this.I*this.Y-this.M*this.X;d=this.h*a-this.i*b+this.C*e;if(-1E-32>d||1E-32<d)d=1/d;this.$a=a*d;this.ab=-(this.i*this.aa-this.C*this.Y)*d;this.bb=(this.i*this.V-this.C*this.M)*d;this.cb=-b*d;this.eb=(this.h*this.aa-this.C*this.X)*d;this.fb=-(this.h*this.V-this.C*this.I)*d;this.gb=e*d;this.hb=-(this.h*this.Y-this.i*this.X)*d;this.ib=(this.h*this.M-this.i*this.I)*d;this.qa=this.$a;this.Ja=this.ab;this.Ka=this.bb;this.Pa=this.cb;this.Sa=this.eb;this.Xa=this.fb;this.Za=this.gb;
this.mb=this.hb;this.Eb=this.ib;this.$a=this.qa*this.W.x;this.ab=this.Ja*this.W.x;this.bb=this.Ka*this.W.x;this.cb=this.Pa*this.W.y;this.eb=this.Sa*this.W.y;this.fb=this.Xa*this.W.y;this.gb=this.Za*this.W.z;this.hb=this.mb*this.W.z;this.ib=this.Eb*this.W.z}else this.Eb=this.mb=this.Za=this.Xa=this.Sa=this.Pa=this.Ka=this.Ja=this.qa=this.ib=this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.ab=this.$a=this.Ab=0,0==this.$b&&(this.qa=this.Ab=1E-9,this.Pa=this.Ka=this.Ja=0,this.Sa=1E-9,this.mb=this.Za=
this.Xa=0,this.Eb=1E-9,this.$a=this.qa*this.W.x,this.ab=this.Ja*this.W.x,this.bb=this.Ka*this.W.x,this.cb=this.Pa*this.W.y,this.eb=this.Sa*this.W.y,this.fb=this.Xa*this.W.y,this.gb=this.Za*this.W.z,this.hb=this.mb*this.W.z,this.ib=this.Eb*this.W.z);a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;b=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;d=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;c=this.g.o*this.ab+this.g.v*this.eb+this.g.s*
this.hb;f=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+
this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=
this.W.z;this.ja*=this.W.z;this.Ob=!1;this.Kb=0};J.prototype.Wa=function(){var a=new z;a.x=this.g.F;a.y=this.g.G;a.z=this.g.H;return a};J.prototype.Ya=function(a){a.x=this.g.F;a.y=this.g.G;a.z=this.g.H};J.prototype.He=function(a){this.g.F=a.x;this.g.G=a.y;this.g.H=a.z;a=this.za;var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=a.U;var e=this.za,d=this.g,c=a.za,f=a.ra;var h=e.A*f.A+e.j*f.o+e.m*f.u;var k=e.A*f.j+e.j*
f.v+e.m*f.l;var g=e.A*f.m+e.j*f.s+e.m*f.B;var l=e.o*f.A+e.v*f.o+e.s*f.u;var m=e.o*f.j+e.v*f.v+e.s*f.l;var n=e.o*f.m+e.v*f.s+e.s*f.B;var q=e.u*f.A+e.l*f.o+e.B*f.u;var p=e.u*f.j+e.l*f.v+e.B*f.l;var r=e.u*f.m+e.l*f.s+e.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=e.A*f.F+e.j*f.G+e.m*f.H;k=e.o*f.F+e.v*f.G+e.s*f.H;f=e.u*f.F+e.l*f.G+e.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=e.F;c.G+=e.G;c.H+=e.H;e=a.g;c=a.ra;f=d.A*c.A+d.j*c.o+d.m*c.u;h=d.A*c.j+d.j*c.v+d.m*c.l;k=d.A*c.m+d.j*c.s+d.m*c.B;g=d.o*c.A+d.v*
c.o+d.s*c.u;l=d.o*c.j+d.v*c.v+d.s*c.l;m=d.o*c.m+d.v*c.s+d.s*c.B;n=d.u*c.A+d.l*c.o+d.B*c.u;q=d.u*c.j+d.l*c.v+d.B*c.l;p=d.u*c.m+d.l*c.s+d.B*c.B;e.A=f;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;f=d.A*c.F+d.j*c.G+d.m*c.H;h=d.o*c.F+d.v*c.G+d.s*c.H;c=d.u*c.F+d.l*c.G+d.B*c.H;e.F=f;e.G=h;e.H=c;e.F+=d.F;e.G+=d.G;e.H+=d.H;a.Tb.Xb(a.D,a.za);d=a.D.wa;e=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:
a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(d=a.g.F-a.za.F,e=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=d,f.y=e,f.z=c,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=b}this.Ob=!1;this.Kb=0};J.prototype.tf=function(a){var b=a.x;var e=a.y;a=a.z;this.g.F+=b;this.g.G+=e;this.g.H+=a;b=this.za;e=this.g;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;for(b=this.vc;null!=b;){e=b.U;var d=this.za;a=this.g;var c=b.za,f=b.ra;var h=d.A*f.A+d.j*f.o+d.m*f.u;
var k=d.A*f.j+d.j*f.v+d.m*f.l;var g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=b.g;c=b.ra;f=a.A*c.A+a.j*c.o+a.m*c.u;h=a.A*c.j+a.j*c.v+a.m*c.l;k=a.A*c.m+a.j*c.s+a.m*
c.B;g=a.o*c.A+a.v*c.o+a.s*c.u;l=a.o*c.j+a.v*c.v+a.s*c.l;m=a.o*c.m+a.v*c.s+a.s*c.B;n=a.u*c.A+a.l*c.o+a.B*c.u;q=a.u*c.j+a.l*c.v+a.B*c.l;p=a.u*c.m+a.l*c.s+a.B*c.B;d.A=f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=q;d.B=p;f=a.A*c.F+a.j*c.G+a.m*c.H;h=a.o*c.F+a.v*c.G+a.s*c.H;c=a.u*c.F+a.l*c.G+a.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=a.F;d.G+=a.G;d.H+=a.H;b.Tb.Xb(b.D,b.za);a=b.D.wa;d=b.D.xa;c=b.D.ya;f=b.D.ta;h=b.D.ua;k=b.D.va;b.Tb.Xb(b.D,b.g);b.D.wa=a<b.D.wa?a:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=c<b.D.ya?c:b.D.ya;
b.D.ta=f>b.D.ta?f:b.D.ta;b.D.ua=h>b.D.ua?h:b.D.ua;b.D.va=k>b.D.va?k:b.D.va;null!=b.Fb&&(a=b.g.F-b.za.F,d=b.g.G-b.za.G,c=b.g.H-b.za.H,f=b.qc,f.x=a,f.y=d,f.z=c,b.hc.pc.nc.fd(b.Fb,b.D,b.qc));b=e}this.Ob=!1;this.Kb=0};J.prototype.Gb=function(){var a=new ha;a.e00=this.g.A;a.e01=this.g.j;a.e02=this.g.m;a.e10=this.g.o;a.e11=this.g.v;a.e12=this.g.s;a.e20=this.g.u;a.e21=this.g.l;a.e22=this.g.B;return a};J.prototype.Hb=function(a){a.e00=this.g.A;a.e01=this.g.j;a.e02=this.g.m;a.e10=this.g.o;a.e11=this.g.v;a.e12=
this.g.s;a.e20=this.g.u;a.e21=this.g.l;a.e22=this.g.B};J.prototype.Ie=function(a){this.g.A=a.e00;this.g.j=a.e01;this.g.m=a.e02;this.g.o=a.e10;this.g.v=a.e11;this.g.s=a.e12;this.g.u=a.e20;this.g.l=a.e21;this.g.B=a.e22;a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;var b=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;var e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;var d=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;var c=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;var f=
this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;var k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;var g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+
this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=
this.W.z;this.ja*=this.W.z;a=this.za;b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=a.U;d=this.za;e=this.g;c=a.za;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;k=d.A*f.j+d.j*f.v+d.m*f.l;g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=
q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=a.g;c=a.ra;f=e.A*c.A+e.j*c.o+e.m*c.u;h=e.A*c.j+e.j*c.v+e.m*c.l;k=e.A*c.m+e.j*c.s+e.m*c.B;g=e.o*c.A+e.v*c.o+e.s*c.u;l=e.o*c.j+e.v*c.v+e.s*c.l;m=e.o*c.m+e.v*c.s+e.s*c.B;n=e.u*c.A+e.l*c.o+e.B*c.u;q=e.u*c.j+e.l*c.v+e.B*c.l;p=e.u*c.m+e.l*c.s+e.B*c.B;d.A=f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=q;d.B=p;f=e.A*c.F+e.j*c.G+e.m*c.H;h=e.o*c.F+e.v*c.G+e.s*c.H;c=e.u*c.F+e.l*
c.G+e.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=e.F;d.G+=e.G;d.H+=e.H;a.Tb.Xb(a.D,a.za);e=a.D.wa;d=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=e<a.D.wa?e:a.D.wa;a.D.xa=d<a.D.xa?d:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(e=a.g.F-a.za.F,d=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=e,f.y=d,f.z=c,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=b}this.Ob=!1;this.Kb=0};J.prototype.rf=function(a){var b=a.x;var e=a.y;var d=a.z;a=Math.sin(b);
var c=Math.sin(e),f=Math.sin(d);b=Math.cos(b);e=Math.cos(e);d=Math.cos(d);this.g.A=e*d;this.g.j=-e*f;this.g.m=c;this.g.o=b*f+d*a*c;this.g.v=b*d-a*c*f;this.g.s=-e*a;this.g.u=a*f-b*d*c;this.g.l=d*a+b*c*f;this.g.B=b*e;a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;c=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;f=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;e=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;d=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;b=this.g.o*this.bb+this.g.v*
this.fb+this.g.s*this.ib;var h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;var k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;var g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=c;this.da=f;this.ea=e;this.fa=d;this.ga=b;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;c=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;f=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;e=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*
this.g.o+this.fa*this.g.v+this.ga*this.g.s;b=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=c;this.da=f;this.ea=e;this.fa=d;this.ga=b;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;
a=this.za;c=this.g;a.F=c.F;a.G=c.G;a.H=c.H;a.A=c.A;a.j=c.j;a.m=c.m;a.o=c.o;a.v=c.v;a.s=c.s;a.u=c.u;a.l=c.l;a.B=c.B;for(a=this.vc;null!=a;){c=a.U;e=this.za;f=this.g;d=a.za;b=a.ra;h=e.A*b.A+e.j*b.o+e.m*b.u;k=e.A*b.j+e.j*b.v+e.m*b.l;g=e.A*b.m+e.j*b.s+e.m*b.B;var l=e.o*b.A+e.v*b.o+e.s*b.u;var m=e.o*b.j+e.v*b.v+e.s*b.l;var n=e.o*b.m+e.v*b.s+e.s*b.B;var q=e.u*b.A+e.l*b.o+e.B*b.u;var p=e.u*b.j+e.l*b.v+e.B*b.l;var r=e.u*b.m+e.l*b.s+e.B*b.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=e.A*b.F+e.j*
b.G+e.m*b.H;k=e.o*b.F+e.v*b.G+e.s*b.H;b=e.u*b.F+e.l*b.G+e.B*b.H;d.F=h;d.G=k;d.H=b;d.F+=e.F;d.G+=e.G;d.H+=e.H;e=a.g;d=a.ra;b=f.A*d.A+f.j*d.o+f.m*d.u;h=f.A*d.j+f.j*d.v+f.m*d.l;k=f.A*d.m+f.j*d.s+f.m*d.B;g=f.o*d.A+f.v*d.o+f.s*d.u;l=f.o*d.j+f.v*d.v+f.s*d.l;m=f.o*d.m+f.v*d.s+f.s*d.B;n=f.u*d.A+f.l*d.o+f.B*d.u;q=f.u*d.j+f.l*d.v+f.B*d.l;p=f.u*d.m+f.l*d.s+f.B*d.B;e.A=b;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;b=f.A*d.F+f.j*d.G+f.m*d.H;h=f.o*d.F+f.v*d.G+f.s*d.H;d=f.u*d.F+f.l*d.G+f.B*d.H;e.F=b;e.G=h;e.H=
d;e.F+=f.F;e.G+=f.G;e.H+=f.H;a.Tb.Xb(a.D,a.za);f=a.D.wa;e=a.D.xa;d=a.D.ya;b=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=f<a.D.wa?f:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=d<a.D.ya?d:a.D.ya;a.D.ta=b>a.D.ta?b:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(f=a.g.F-a.za.F,e=a.g.G-a.za.G,d=a.g.H-a.za.H,b=a.qc,b.x=f,b.y=e,b.z=d,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=c}this.Ob=!1;this.Kb=0};J.prototype.Ed=function(a){var b=a.e00;var e=a.e01;var d=a.e02;var c=a.e10;var f=a.e11;var h=a.e12;
var k=a.e20;var g=a.e21;var l=a.e22;a=b*this.g.A+e*this.g.o+d*this.g.u;var m=b*this.g.j+e*this.g.v+d*this.g.l;b=b*this.g.m+e*this.g.s+d*this.g.B;e=c*this.g.A+f*this.g.o+h*this.g.u;d=c*this.g.j+f*this.g.v+h*this.g.l;c=c*this.g.m+f*this.g.s+h*this.g.B;f=k*this.g.A+g*this.g.o+l*this.g.u;h=k*this.g.j+g*this.g.v+l*this.g.l;k=k*this.g.m+g*this.g.s+l*this.g.B;this.g.A=a;this.g.j=m;this.g.m=b;this.g.o=e;this.g.v=d;this.g.s=c;this.g.u=f;this.g.l=h;this.g.B=k;k=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;
g=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;m=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;l=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;c=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;f=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;h=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;b=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=k;this.ca=g;this.da=a;this.ea=m;this.fa=l;this.ga=c;this.ha=f;this.ia=
h;this.ja=b;k=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;g=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;a=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;m=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;l=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;c=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;f=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;b=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=k;this.ca=
g;this.da=a;this.ea=m;this.fa=l;this.ga=c;this.ha=f;this.ia=h;this.ja=b;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;k=this.za;g=this.g;k.F=g.F;k.G=g.G;k.H=g.H;k.A=g.A;k.j=g.j;k.m=g.m;k.o=g.o;k.v=g.v;k.s=g.s;k.u=g.u;k.l=g.l;k.B=g.B;for(k=this.vc;null!=k;){g=k.U;m=this.za;a=this.g;l=k.za;c=k.ra;f=m.A*c.A+m.j*c.o+m.m*c.u;h=m.A*c.j+m.j*c.v+m.m*c.l;b=m.A*c.m+m.j*c.s+m.m*c.B;e=m.o*c.A+m.v*
c.o+m.s*c.u;d=m.o*c.j+m.v*c.v+m.s*c.l;var n=m.o*c.m+m.v*c.s+m.s*c.B;var q=m.u*c.A+m.l*c.o+m.B*c.u;var p=m.u*c.j+m.l*c.v+m.B*c.l;var r=m.u*c.m+m.l*c.s+m.B*c.B;l.A=f;l.j=h;l.m=b;l.o=e;l.v=d;l.s=n;l.u=q;l.l=p;l.B=r;f=m.A*c.F+m.j*c.G+m.m*c.H;h=m.o*c.F+m.v*c.G+m.s*c.H;c=m.u*c.F+m.l*c.G+m.B*c.H;l.F=f;l.G=h;l.H=c;l.F+=m.F;l.G+=m.G;l.H+=m.H;m=k.g;l=k.ra;c=a.A*l.A+a.j*l.o+a.m*l.u;f=a.A*l.j+a.j*l.v+a.m*l.l;h=a.A*l.m+a.j*l.s+a.m*l.B;b=a.o*l.A+a.v*l.o+a.s*l.u;e=a.o*l.j+a.v*l.v+a.s*l.l;d=a.o*l.m+a.v*l.s+a.s*l.B;
n=a.u*l.A+a.l*l.o+a.B*l.u;q=a.u*l.j+a.l*l.v+a.B*l.l;p=a.u*l.m+a.l*l.s+a.B*l.B;m.A=c;m.j=f;m.m=h;m.o=b;m.v=e;m.s=d;m.u=n;m.l=q;m.B=p;c=a.A*l.F+a.j*l.G+a.m*l.H;f=a.o*l.F+a.v*l.G+a.s*l.H;l=a.u*l.F+a.l*l.G+a.B*l.H;m.F=c;m.G=f;m.H=l;m.F+=a.F;m.G+=a.G;m.H+=a.H;k.Tb.Xb(k.D,k.za);a=k.D.wa;m=k.D.xa;l=k.D.ya;c=k.D.ta;f=k.D.ua;h=k.D.va;k.Tb.Xb(k.D,k.g);k.D.wa=a<k.D.wa?a:k.D.wa;k.D.xa=m<k.D.xa?m:k.D.xa;k.D.ya=l<k.D.ya?l:k.D.ya;k.D.ta=c>k.D.ta?c:k.D.ta;k.D.ua=f>k.D.ua?f:k.D.ua;k.D.va=h>k.D.va?h:k.D.va;null!=k.Fb&&
(a=k.g.F-k.za.F,m=k.g.G-k.za.G,l=k.g.H-k.za.H,c=k.qc,c.x=a,c.y=m,c.z=l,k.hc.pc.nc.fd(k.Fb,k.D,k.qc));k=g}this.Ob=!1;this.Kb=0};J.prototype.ce=function(a){var b=a.x;var e=a.y;a=a.z;var d=Math.sin(b);var c=Math.sin(e),f=Math.sin(a),h=Math.cos(b);var k=Math.cos(e);var g=Math.cos(a);var l=k*g;var m=-k*f;a=h*f+g*d*c;b=h*g-d*c*f;var n=-k*d;e=d*f-h*g*c;d=g*d+h*c*f;k*=h;f=l*this.g.A+m*this.g.o+c*this.g.u;h=l*this.g.j+m*this.g.v+c*this.g.l;c=l*this.g.m+m*this.g.s+c*this.g.B;l=a*this.g.A+b*this.g.o+n*this.g.u;
m=a*this.g.j+b*this.g.v+n*this.g.l;a=a*this.g.m+b*this.g.s+n*this.g.B;b=e*this.g.A+d*this.g.o+k*this.g.u;n=e*this.g.j+d*this.g.v+k*this.g.l;e=e*this.g.m+d*this.g.s+k*this.g.B;this.g.A=f;this.g.j=h;this.g.m=c;this.g.o=l;this.g.v=m;this.g.s=a;this.g.u=b;this.g.l=n;this.g.B=e;e=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;a=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;b=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;n=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;d=this.g.o*this.ab+
this.g.v*this.eb+this.g.s*this.hb;c=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;f=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;h=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;k=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=e;this.ca=a;this.da=b;this.ea=n;this.fa=d;this.ga=c;this.ha=f;this.ia=h;this.ja=k;e=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;a=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;b=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;n=this.ea*
this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;c=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;f=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;k=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=e;this.ca=a;this.da=b;this.ea=n;this.fa=d;this.ga=c;this.ha=f;this.ia=h;this.ja=k;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;
this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;e=this.za;a=this.g;e.F=a.F;e.G=a.G;e.H=a.H;e.A=a.A;e.j=a.j;e.m=a.m;e.o=a.o;e.v=a.v;e.s=a.s;e.u=a.u;e.l=a.l;e.B=a.B;for(e=this.vc;null!=e;){a=e.U;n=this.za;b=this.g;d=e.za;c=e.ra;f=n.A*c.A+n.j*c.o+n.m*c.u;h=n.A*c.j+n.j*c.v+n.m*c.l;k=n.A*c.m+n.j*c.s+n.m*c.B;l=n.o*c.A+n.v*c.o+n.s*c.u;m=n.o*c.j+n.v*c.v+n.s*c.l;g=n.o*c.m+n.v*c.s+n.s*c.B;var q=n.u*c.A+n.l*c.o+n.B*c.u;var p=n.u*c.j+n.l*c.v+n.B*c.l;var r=n.u*c.m+n.l*c.s+n.B*c.B;d.A=f;d.j=h;d.m=k;d.o=l;
d.v=m;d.s=g;d.u=q;d.l=p;d.B=r;f=n.A*c.F+n.j*c.G+n.m*c.H;h=n.o*c.F+n.v*c.G+n.s*c.H;c=n.u*c.F+n.l*c.G+n.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=n.F;d.G+=n.G;d.H+=n.H;n=e.g;d=e.ra;c=b.A*d.A+b.j*d.o+b.m*d.u;f=b.A*d.j+b.j*d.v+b.m*d.l;h=b.A*d.m+b.j*d.s+b.m*d.B;k=b.o*d.A+b.v*d.o+b.s*d.u;l=b.o*d.j+b.v*d.v+b.s*d.l;m=b.o*d.m+b.v*d.s+b.s*d.B;g=b.u*d.A+b.l*d.o+b.B*d.u;q=b.u*d.j+b.l*d.v+b.B*d.l;p=b.u*d.m+b.l*d.s+b.B*d.B;n.A=c;n.j=f;n.m=h;n.o=k;n.v=l;n.s=m;n.u=g;n.l=q;n.B=p;c=b.A*d.F+b.j*d.G+b.m*d.H;f=b.o*d.F+b.v*d.G+b.s*
d.H;d=b.u*d.F+b.l*d.G+b.B*d.H;n.F=c;n.G=f;n.H=d;n.F+=b.F;n.G+=b.G;n.H+=b.H;e.Tb.Xb(e.D,e.za);b=e.D.wa;n=e.D.xa;d=e.D.ya;c=e.D.ta;f=e.D.ua;h=e.D.va;e.Tb.Xb(e.D,e.g);e.D.wa=b<e.D.wa?b:e.D.wa;e.D.xa=n<e.D.xa?n:e.D.xa;e.D.ya=d<e.D.ya?d:e.D.ya;e.D.ta=c>e.D.ta?c:e.D.ta;e.D.ua=f>e.D.ua?f:e.D.ua;e.D.va=h>e.D.va?h:e.D.va;null!=e.Fb&&(b=e.g.F-e.za.F,n=e.g.G-e.za.G,d=e.g.H-e.za.H,c=e.qc,c.x=b,c.y=n,c.z=d,e.hc.pc.nc.fd(e.Fb,e.D,e.qc));e=a}this.Ob=!1;this.Kb=0};J.prototype.Sb=function(){var a=new Hb;var b=this.g.A;
var e=this.g.v;var d=this.g.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.g.l-this.g.s)*f;e=(this.g.m-this.g.u)*f;d=(this.g.o-this.g.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.g.j+this.g.o)*f,d=(this.g.m+this.g.u)*f,c=(this.g.l-this.g.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.g.j+this.g.o)*f,d=(this.g.s+this.g.l)*f,c=(this.g.m-this.g.u)*f):
(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f);a.x=b;a.y=e;a.z=d;a.w=c;return a};J.prototype.Wb=function(a){var b=this.g.A;var e=this.g.v;var d=this.g.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.g.l-this.g.s)*f;e=(this.g.m-this.g.u)*f;d=(this.g.o-this.g.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.g.j+this.g.o)*f,d=(this.g.m+this.g.u)*f,c=(this.g.l-this.g.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=
(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.g.j+this.g.o)*f,d=(this.g.s+this.g.l)*f,c=(this.g.m-this.g.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f);a.x=b;a.y=e;a.z=d;a.w=c};J.prototype.je=function(a){var b=a.x;var e=a.y;var d=a.z;var c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.g.A=1-g-d;this.g.j=l-c;this.g.m=b+h;this.g.o=
l+c;this.g.v=1-a-d;this.g.s=e-f;this.g.u=b-h;this.g.l=e+f;this.g.B=1-a-g;a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;g=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;c=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;k=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;d=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;l=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;e=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;b=this.g.u*
this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=g;this.da=c;this.ea=k;this.fa=d;this.ga=l;this.ha=h;this.ia=e;this.ja=b;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;g=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;c=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;k=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;l=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;
e=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;b=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=g;this.da=c;this.ea=k;this.fa=d;this.ga=l;this.ha=h;this.ia=e;this.ja=b;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;a=this.za;g=this.g;a.F=g.F;a.G=g.G;a.H=g.H;a.A=g.A;a.j=g.j;a.m=g.m;a.o=g.o;a.v=g.v;a.s=g.s;a.u=g.u;a.l=g.l;a.B=g.B;for(a=this.vc;null!=a;){g=a.U;
k=this.za;c=this.g;d=a.za;l=a.ra;h=k.A*l.A+k.j*l.o+k.m*l.u;e=k.A*l.j+k.j*l.v+k.m*l.l;b=k.A*l.m+k.j*l.s+k.m*l.B;f=k.o*l.A+k.v*l.o+k.s*l.u;var m=k.o*l.j+k.v*l.v+k.s*l.l;var n=k.o*l.m+k.v*l.s+k.s*l.B;var q=k.u*l.A+k.l*l.o+k.B*l.u;var p=k.u*l.j+k.l*l.v+k.B*l.l;var r=k.u*l.m+k.l*l.s+k.B*l.B;d.A=h;d.j=e;d.m=b;d.o=f;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=k.A*l.F+k.j*l.G+k.m*l.H;e=k.o*l.F+k.v*l.G+k.s*l.H;l=k.u*l.F+k.l*l.G+k.B*l.H;d.F=h;d.G=e;d.H=l;d.F+=k.F;d.G+=k.G;d.H+=k.H;k=a.g;d=a.ra;l=c.A*d.A+c.j*d.o+c.m*d.u;
h=c.A*d.j+c.j*d.v+c.m*d.l;e=c.A*d.m+c.j*d.s+c.m*d.B;b=c.o*d.A+c.v*d.o+c.s*d.u;f=c.o*d.j+c.v*d.v+c.s*d.l;m=c.o*d.m+c.v*d.s+c.s*d.B;n=c.u*d.A+c.l*d.o+c.B*d.u;q=c.u*d.j+c.l*d.v+c.B*d.l;p=c.u*d.m+c.l*d.s+c.B*d.B;k.A=l;k.j=h;k.m=e;k.o=b;k.v=f;k.s=m;k.u=n;k.l=q;k.B=p;l=c.A*d.F+c.j*d.G+c.m*d.H;h=c.o*d.F+c.v*d.G+c.s*d.H;d=c.u*d.F+c.l*d.G+c.B*d.H;k.F=l;k.G=h;k.H=d;k.F+=c.F;k.G+=c.G;k.H+=c.H;a.Tb.Xb(a.D,a.za);c=a.D.wa;k=a.D.xa;d=a.D.ya;l=a.D.ta;h=a.D.ua;e=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=c<a.D.wa?c:a.D.wa;a.D.xa=
k<a.D.xa?k:a.D.xa;a.D.ya=d<a.D.ya?d:a.D.ya;a.D.ta=l>a.D.ta?l:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=e>a.D.va?e:a.D.va;null!=a.Fb&&(c=a.g.F-a.za.F,k=a.g.G-a.za.G,d=a.g.H-a.za.H,l=a.qc,l.x=c,l.y=k,l.z=d,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=g}this.Ob=!1;this.Kb=0};J.prototype.ac=function(){var a=this.g,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;return b};J.prototype.bc=function(a){var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=
b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};J.prototype.sf=function(a){this.g.F=a.F;this.g.G=a.G;this.g.H=a.H;this.g.A=a.A;this.g.j=a.j;this.g.m=a.m;this.g.o=a.o;this.g.v=a.v;this.g.s=a.s;this.g.u=a.u;this.g.l=a.l;this.g.B=a.B;a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;var b=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;var e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;var d=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;var c=this.g.o*this.ab+this.g.v*this.eb+this.g.s*
this.hb;var f=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;var k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;var g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+
this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=
this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;a=this.za;b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=a.U;d=this.za;e=this.g;c=a.za;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;k=d.A*f.j+d.j*f.v+d.m*f.l;g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=
l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=a.g;c=a.ra;f=e.A*c.A+e.j*c.o+e.m*c.u;h=e.A*c.j+e.j*c.v+e.m*c.l;k=e.A*c.m+e.j*c.s+e.m*c.B;g=e.o*c.A+e.v*c.o+e.s*c.u;l=e.o*c.j+e.v*c.v+e.s*c.l;m=e.o*c.m+e.v*c.s+e.s*c.B;n=e.u*c.A+e.l*c.o+e.B*c.u;q=e.u*c.j+e.l*c.v+e.B*c.l;p=e.u*c.m+e.l*c.s+e.B*c.B;d.A=f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=q;d.B=p;f=e.A*c.F+e.j*c.G+e.m*c.H;h=e.o*c.F+e.v*c.G+e.s*
c.H;c=e.u*c.F+e.l*c.G+e.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=e.F;d.G+=e.G;d.H+=e.H;a.Tb.Xb(a.D,a.za);e=a.D.wa;d=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=e<a.D.wa?e:a.D.wa;a.D.xa=d<a.D.xa?d:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(e=a.g.F-a.za.F,d=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=e,f.y=d,f.z=c,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=b}this.Ob=!1;this.Kb=0};J.prototype.Bh=function(){return this.Ce};J.prototype.We=
function(){var a=new ha;a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.X;a.e21=this.Y;a.e22=this.aa;return a};J.prototype.Xe=function(a){a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.X;a.e21=this.Y;a.e22=this.aa};J.prototype.Ch=function(){var a=new Vk;a.mass=this.Ce;var b=a.localInertia;b.e00=this.h;b.e01=this.i;b.e02=this.C;b.e10=this.I;b.e11=this.M;b.e12=this.V;b.e20=this.X;b.e21=this.Y;b.e22=this.aa;return a};
J.prototype.Dh=function(a){a.mass=this.Ce;a=a.localInertia;a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.X;a.e21=this.Y;a.e22=this.aa};J.prototype.ci=function(a){this.Ce=a.mass;a=a.localInertia;this.h=a.e00;this.i=a.e01;this.C=a.e02;this.I=a.e10;this.M=a.e11;this.V=a.e12;this.X=a.e20;this.Y=a.e21;this.aa=a.e22;if(0<this.Ce&&0<this.h*(this.M*this.aa-this.V*this.Y)-this.i*(this.I*this.aa-this.V*this.X)+this.C*(this.I*this.Y-this.M*this.X)&&0==this.$b){this.Ab=
1/this.Ce;a=this.M*this.aa-this.V*this.Y;var b=this.I*this.aa-this.V*this.X,e=this.I*this.Y-this.M*this.X,d=this.h*a-this.i*b+this.C*e;if(-1E-32>d||1E-32<d)d=1/d;this.$a=a*d;this.ab=-(this.i*this.aa-this.C*this.Y)*d;this.bb=(this.i*this.V-this.C*this.M)*d;this.cb=-b*d;this.eb=(this.h*this.aa-this.C*this.X)*d;this.fb=-(this.h*this.V-this.C*this.I)*d;this.gb=e*d;this.hb=-(this.h*this.Y-this.i*this.X)*d;this.ib=(this.h*this.M-this.i*this.I)*d;this.qa=this.$a;this.Ja=this.ab;this.Ka=this.bb;this.Pa=this.cb;
this.Sa=this.eb;this.Xa=this.fb;this.Za=this.gb;this.mb=this.hb;this.Eb=this.ib;this.$a=this.qa*this.W.x;this.ab=this.Ja*this.W.x;this.bb=this.Ka*this.W.x;this.cb=this.Pa*this.W.y;this.eb=this.Sa*this.W.y;this.fb=this.Xa*this.W.y;this.gb=this.Za*this.W.z;this.hb=this.mb*this.W.z;this.ib=this.Eb*this.W.z}else this.Eb=this.mb=this.Za=this.Xa=this.Sa=this.Pa=this.Ka=this.Ja=this.qa=this.ib=this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.ab=this.$a=this.Ab=0,0==this.$b&&(this.qa=this.Ab=1E-9,this.Pa=
this.Ka=this.Ja=0,this.Sa=1E-9,this.mb=this.Za=this.Xa=0,this.Eb=1E-9,this.$a=this.qa*this.W.x,this.ab=this.Ja*this.W.x,this.bb=this.Ka*this.W.x,this.cb=this.Pa*this.W.y,this.eb=this.Sa*this.W.y,this.fb=this.Xa*this.W.y,this.gb=this.Za*this.W.z,this.hb=this.mb*this.W.z,this.ib=this.Eb*this.W.z);a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;b=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;d=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;
var c=this.g.o*this.ab+this.g.v*this.eb+this.g.s*this.hb;var f=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;var k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;var g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*
this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;
this.fa*=this.W.y;this.ga*=this.W.y;this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;this.Ob=!1;this.Kb=0};J.prototype.sg=function(){var a=this.W;return new z(a.x,a.y,a.z)};J.prototype.di=function(a){var b=this.W;b.x=a.x;b.y=a.y;b.z=a.z;a=this.g.A*this.$a+this.g.j*this.cb+this.g.m*this.gb;b=this.g.A*this.ab+this.g.j*this.eb+this.g.m*this.hb;var e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;var d=this.g.o*this.$a+this.g.v*this.cb+this.g.s*this.gb;var c=this.g.o*this.ab+this.g.v*this.eb+
this.g.s*this.hb;var f=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var h=this.g.u*this.$a+this.g.l*this.cb+this.g.B*this.gb;var k=this.g.u*this.ab+this.g.l*this.eb+this.g.B*this.hb;var g=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*
this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.W.x;this.ca*=this.W.x;this.da*=this.W.x;this.ea*=this.W.y;this.fa*=this.W.y;this.ga*=this.W.y;
this.ha*=this.W.z;this.ia*=this.W.z;this.ja*=this.W.z;this.Ob=!1;this.Kb=0};J.prototype.Qd=function(){var a=new z;a.x=this.ub;a.y=this.vb;a.z=this.wb;return a};J.prototype.Rd=function(a){a.x=this.ub;a.y=this.vb;a.z=this.wb};J.prototype.bi=function(a){1==this.$b?this.wb=this.vb=this.ub=0:(this.ub=a.x,this.vb=a.y,this.wb=a.z);this.Ob=!1;this.Kb=0};J.prototype.jd=function(){var a=new z;a.x=this.xb;a.y=this.yb;a.z=this.zb;return a};J.prototype.wd=function(a){a.x=this.ub;a.y=this.vb;a.z=this.wb};J.prototype.Oh=
function(a){1==this.$b?this.zb=this.yb=this.xb=0:(this.xb=a.x,this.yb=a.y,this.zb=a.z);this.Ob=!1;this.Kb=0};J.prototype.vf=function(a){if(1!=this.$b){var b=a.x;var e=a.y;a=a.z;this.ub+=b;this.vb+=e;this.wb+=a}this.Ob=!1;this.Kb=0};J.prototype.uf=function(a){if(1!=this.$b){var b=a.x;var e=a.y;a=a.z;this.xb+=b;this.yb+=e;this.zb+=a}this.Ob=!1;this.Kb=0};J.prototype.vd=function(a,b){var e=a.x;var d=a.y;a=a.z;this.ub+=e*this.Ab;this.vb+=d*this.Ab;this.wb+=a*this.Ab;var c=b.x;var f=b.y;var h=b.z;c-=this.g.F;
f-=this.g.G;h-=this.g.H;b=f*a-h*d;a=h*e-c*a;c=c*d-f*e;e=this.ba*b+this.ca*a+this.da*c;d=this.ea*b+this.fa*a+this.ga*c;b=this.ha*b+this.ia*a+this.ja*c;this.xb+=e;this.yb+=d;this.zb+=b;this.Ob=!1;this.Kb=0};J.prototype.Af=function(a){var b=a.x;var e=a.y;a=a.z;this.ub+=b*this.Ab;this.vb+=e*this.Ab;this.wb+=a*this.Ab;this.Ob=!1;this.Kb=0};J.prototype.yf=function(a){var b=a.x;var e=a.y;var d=a.z;a=this.ba*b+this.ca*e+this.da*d;var c=this.ea*b+this.fa*e+this.ga*d;b=this.ha*b+this.ia*e+this.ja*d;this.xb+=
a;this.yb+=c;this.zb+=b;this.Ob=!1;this.Kb=0};J.prototype.zf=function(a,b){var e=a.x;var d=a.y;a=a.z;this.Zf+=e;this.$f+=d;this.ag+=a;var c=b.x;var f=b.y;b=b.z;c-=this.g.F;f-=this.g.G;b-=this.g.H;this.De+=f*a-b*d;this.Ee+=b*e-c*a;this.Fe+=c*d-f*e;this.Ob=!1;this.Kb=0};J.prototype.tc=function(a){var b=a.x;var e=a.y;a=a.z;this.Zf+=b;this.$f+=e;this.ag+=a;this.Ob=!1;this.Kb=0};J.prototype.yc=function(a){var b=a.x;var e=a.y;a=a.z;this.De+=b;this.Ee+=e;this.Fe+=a;this.Ob=!1;this.Kb=0};J.prototype.$d=function(){var a=
new z;a.x=this.If;a.y=this.Jf;a.z=this.Kf;return a};J.prototype.ae=function(a){a.x=this.If;a.y=this.Jf;a.z=this.Kf};J.prototype.gd=function(){var a=new z;a.x=this.Ef;a.y=this.Ff;a.z=this.Gf;return a};J.prototype.hd=function(a){a.x=this.Ef;a.y=this.Ff;a.z=this.Gf};J.prototype.zi=function(){return this.Hf};J.prototype.ug=function(a){this.Hf=a;this.Ob=!1;this.Kb=0};J.prototype.Ye=function(a){var b=a.x;var e=a.y;a=a.z;b-=this.g.F;e-=this.g.G;a-=this.g.H;var d=this.g.A*b+this.g.o*e+this.g.u*a;var c=this.g.j*
b+this.g.v*e+this.g.l*a;a=this.g.m*b+this.g.s*e+this.g.B*a;b=d;e=c;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.yh=function(a,b){var e=a.x;var d=a.y;var c=a.z;e-=this.g.F;d-=this.g.G;c-=this.g.H;a=this.g.A*e+this.g.o*d+this.g.u*c;var f=this.g.j*e+this.g.v*d+this.g.l*c;e=this.g.m*e+this.g.s*d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.zh=function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.o*e+this.g.u*a;var c=this.g.j*b+this.g.v*e+this.g.l*a;a=this.g.m*b+this.g.s*e+this.g.B*a;b=d;e=c;d=
new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.Ah=function(a,b){var e=a.x;var d=a.y;var c=a.z;a=this.g.A*e+this.g.o*d+this.g.u*c;var f=this.g.j*e+this.g.v*d+this.g.l*c;e=this.g.m*e+this.g.s*d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.Hh=function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.j*e+this.g.m*a;var c=this.g.o*b+this.g.v*e+this.g.s*a;a=this.g.u*b+this.g.l*e+this.g.B*a;b=d+this.g.F;e=c+this.g.G;a+=this.g.H;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.Ih=function(a,b){var e=a.x;var d=
a.y;var c=a.z;a=this.g.A*e+this.g.j*d+this.g.m*c;var f=this.g.o*e+this.g.v*d+this.g.s*c;c=this.g.u*e+this.g.l*d+this.g.B*c;e=a+this.g.F;d=f+this.g.G;c+=this.g.H;b.x=e;b.y=d;b.z=c};J.prototype.Jh=function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.j*e+this.g.m*a;var c=this.g.o*b+this.g.v*e+this.g.s*a;a=this.g.u*b+this.g.l*e+this.g.B*a;b=d;e=c;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.Kh=function(a,b){var e=a.x;var d=a.y;var c=a.z;a=this.g.A*e+this.g.j*d+this.g.m*c;var f=this.g.o*e+
this.g.v*d+this.g.s*c;e=this.g.u*e+this.g.l*d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.Rb=function(){return this.nf};J.prototype.Fh=function(){return this.vc};J.prototype.Eh=function(){return this.Pd};J.prototype.Vg=function(){return this.Yb};J.prototype.Ze=function(){return this.Mf};J.prototype.Ai=function(){return this.Od};J.prototype.wf=function(a){null==this.vc?this.vc=a:(this.Jb.U=a,a.sa=this.Jb);this.Jb=a;this.nf++;a.hc=this;if(null!=this.pc){var b=this.pc;a.Fb=b.nc.eg(a,a.D);a.uc=b.Ei++;b.nf++}this.Wg();
for(a=this.vc;null!=a;){b=a.U;var e=this.za,d=this.g,c=a.za,f=a.ra;var h=e.A*f.A+e.j*f.o+e.m*f.u;var k=e.A*f.j+e.j*f.v+e.m*f.l;var g=e.A*f.m+e.j*f.s+e.m*f.B;var l=e.o*f.A+e.v*f.o+e.s*f.u;var m=e.o*f.j+e.v*f.v+e.s*f.l;var n=e.o*f.m+e.v*f.s+e.s*f.B;var q=e.u*f.A+e.l*f.o+e.B*f.u;var p=e.u*f.j+e.l*f.v+e.B*f.l;var r=e.u*f.m+e.l*f.s+e.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=e.A*f.F+e.j*f.G+e.m*f.H;k=e.o*f.F+e.v*f.G+e.s*f.H;f=e.u*f.F+e.l*f.G+e.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=e.F;c.G+=
e.G;c.H+=e.H;e=a.g;c=a.ra;f=d.A*c.A+d.j*c.o+d.m*c.u;h=d.A*c.j+d.j*c.v+d.m*c.l;k=d.A*c.m+d.j*c.s+d.m*c.B;g=d.o*c.A+d.v*c.o+d.s*c.u;l=d.o*c.j+d.v*c.v+d.s*c.l;m=d.o*c.m+d.v*c.s+d.s*c.B;n=d.u*c.A+d.l*c.o+d.B*c.u;q=d.u*c.j+d.l*c.v+d.B*c.l;p=d.u*c.m+d.l*c.s+d.B*c.B;e.A=f;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;f=d.A*c.F+d.j*c.G+d.m*c.H;h=d.o*c.F+d.v*c.G+d.s*c.H;c=d.u*c.F+d.l*c.G+d.B*c.H;e.F=f;e.G=h;e.H=c;e.F+=d.F;e.G+=d.G;e.H+=d.H;a.Tb.Xb(a.D,a.za);d=a.D.wa;e=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=
a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(d=a.g.F-a.za.F,e=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=d,f.y=e,f.z=c,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=b}};J.prototype.Mh=function(a){if(null!=this.pc){var b=this.pc;b.nc.fg(a.Fb);a.Fb=null;a.uc=-1;for(var e=a.hc.Yb;null!=e;){var d=e.U,c=e.zd;if(c.ic==a||c.jc==a){e=e.Fc;e.Ob=!1;e.Kb=0;e=b.Xf;var f=c.sa,h=c.U;null!=
f&&(f.U=h);null!=h&&(h.sa=f);c==e.md&&(e.md=e.md.U);c==e.Nd&&(e.Nd=e.Nd.sa);c.U=null;c.sa=null;c.xd&&(f=c.ic.ld,h=c.jc.ld,f==h&&(h=null),null!=f&&f.endContact(c),null!=h&&h.endContact(c));f=c.Bb.sa;h=c.Bb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Bb==c.J.Yb&&(c.J.Yb=c.J.Yb.U);c.Bb==c.J.oc&&(c.J.oc=c.J.oc.sa);c.Bb.U=null;c.Bb.sa=null;f=c.Cb.sa;h=c.Cb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Cb==c.K.Yb&&(c.K.Yb=c.K.Yb.U);c.Cb==c.K.oc&&(c.K.oc=c.K.oc.sa);c.Cb.U=null;c.Cb.sa=null;c.J.Pd--;c.K.Pd--;c.Bb.Fc=
null;c.Cb.Fc=null;c.Bb.zd=null;c.Cb.zd=null;c.ic=null;c.jc=null;c.J=null;c.K=null;c.xd=!1;c.Eg.de();c.Ta.de();c.Yf=null;f=c.ee;f.ic=null;f.jc=null;f.J=null;f.K=null;f.Jg=null;f.Kg=null;c.U=e.$e;e.$e=c;e.pg--}e=d}b.nf--}b=a.sa;d=a.U;null!=b&&(b.U=d);null!=d&&(d.sa=b);a==this.vc&&(this.vc=this.vc.U);a==this.Jb&&(this.Jb=this.Jb.sa);a.U=null;a.sa=null;this.nf--;a.hc=null;this.Wg();for(a=this.vc;null!=a;){b=a.U;c=this.za;d=this.g;e=a.za;f=a.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;var k=c.A*f.j+c.j*f.v+c.m*f.l;var g=
c.A*f.m+c.j*f.s+c.m*f.B;var l=c.o*f.A+c.v*f.o+c.s*f.u;var m=c.o*f.j+c.v*f.v+c.s*f.l;var n=c.o*f.m+c.v*f.s+c.s*f.B;var q=c.u*f.A+c.l*f.o+c.B*f.u;var p=c.u*f.j+c.l*f.v+c.B*f.l;var r=c.u*f.m+c.l*f.s+c.B*f.B;e.A=h;e.j=k;e.m=g;e.o=l;e.v=m;e.s=n;e.u=q;e.l=p;e.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;e.F=h;e.G=k;e.H=f;e.F+=c.F;e.G+=c.G;e.H+=c.H;c=a.g;e=a.ra;f=d.A*e.A+d.j*e.o+d.m*e.u;h=d.A*e.j+d.j*e.v+d.m*e.l;k=d.A*e.m+d.j*e.s+d.m*e.B;g=d.o*e.A+d.v*e.o+d.s*e.u;l=d.o*
e.j+d.v*e.v+d.s*e.l;m=d.o*e.m+d.v*e.s+d.s*e.B;n=d.u*e.A+d.l*e.o+d.B*e.u;q=d.u*e.j+d.l*e.v+d.B*e.l;p=d.u*e.m+d.l*e.s+d.B*e.B;c.A=f;c.j=h;c.m=k;c.o=g;c.v=l;c.s=m;c.u=n;c.l=q;c.B=p;f=d.A*e.F+d.j*e.G+d.m*e.H;h=d.o*e.F+d.v*e.G+d.s*e.H;e=d.u*e.F+d.l*e.G+d.B*e.H;c.F=f;c.G=h;c.H=e;c.F+=d.F;c.G+=d.G;c.H+=d.H;a.Tb.Xb(a.D,a.za);d=a.D.wa;c=a.D.xa;e=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Xb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=c<a.D.xa?c:a.D.xa;a.D.ya=e<a.D.ya?e:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?
h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Fb&&(d=a.g.F-a.za.F,c=a.g.G-a.za.G,e=a.g.H-a.za.H,f=a.qc,f.x=d,f.y=c,f.z=e,a.hc.pc.nc.fd(a.Fb,a.D,a.qc));a=b}};J.prototype.Sc=function(){return this.$b};J.prototype.fi=function(a){this.$b=a;this.Wg()};J.prototype.hi=function(){this.Ob=!1;this.Kb=0};J.prototype.gi=function(){this.Ob=!0;this.Kb=0};J.prototype.Lh=function(){return this.Ob};J.prototype.Gh=function(){return this.Kb};J.prototype.tg=function(a){this.Qh=a;this.Ob=!1;this.Kb=0};J.prototype.be=function(){return this.gh};
J.prototype.xh=function(a){this.gh=a};J.prototype.mg=function(){return this.Xg};J.prototype.Nh=function(a){this.Xg=a};J.prototype.tb=function(){return this.sa};J.prototype.Pb=function(){return this.U};zb.prototype.Ja=function(){return this.dh};zb.prototype.Rb=function(a){this.dh=a};zb.prototype.Xa=function(){return this.kh};zb.prototype.Wb=function(a){this.kh=a};zb.prototype.Pa=function(){var a=this.ra,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;
b.B=a.B;return b};zb.prototype.Sa=function(a){var b=this.ra;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};zb.prototype.C=function(){var a=this.g,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;return b};zb.prototype.I=function(a){var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};zb.prototype.Sb=function(a){var b=this.ra;b.F=a.F;b.G=
a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;if(null!=this.hc)for(a=this.hc,a.Wg(),b=a.vc;null!=b;){var e=b.U,d=a.za,c=a.g,f=b.za,h=b.ra;var k=d.A*h.A+d.j*h.o+d.m*h.u;var g=d.A*h.j+d.j*h.v+d.m*h.l;var l=d.A*h.m+d.j*h.s+d.m*h.B;var m=d.o*h.A+d.v*h.o+d.s*h.u;var n=d.o*h.j+d.v*h.v+d.s*h.l;var q=d.o*h.m+d.v*h.s+d.s*h.B;var p=d.u*h.A+d.l*h.o+d.B*h.u;var r=d.u*h.j+d.l*h.v+d.B*h.l;var t=d.u*h.m+d.l*h.s+d.B*h.B;f.A=k;f.j=g;f.m=l;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;k=
d.A*h.F+d.j*h.G+d.m*h.H;g=d.o*h.F+d.v*h.G+d.s*h.H;h=d.u*h.F+d.l*h.G+d.B*h.H;f.F=k;f.G=g;f.H=h;f.F+=d.F;f.G+=d.G;f.H+=d.H;d=b.g;f=b.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;k=c.A*f.j+c.j*f.v+c.m*f.l;g=c.A*f.m+c.j*f.s+c.m*f.B;l=c.o*f.A+c.v*f.o+c.s*f.u;m=c.o*f.j+c.v*f.v+c.s*f.l;n=c.o*f.m+c.v*f.s+c.s*f.B;q=c.u*f.A+c.l*f.o+c.B*f.u;p=c.u*f.j+c.l*f.v+c.B*f.l;r=c.u*f.m+c.l*f.s+c.B*f.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;d.F=
h;d.G=k;d.H=f;d.F+=c.F;d.G+=c.G;d.H+=c.H;b.Tb.Xb(b.D,b.za);c=b.D.wa;d=b.D.xa;f=b.D.ya;h=b.D.ta;k=b.D.ua;g=b.D.va;b.Tb.Xb(b.D,b.g);b.D.wa=c<b.D.wa?c:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=f<b.D.ya?f:b.D.ya;b.D.ta=h>b.D.ta?h:b.D.ta;b.D.ua=k>b.D.ua?k:b.D.ua;b.D.va=g>b.D.va?g:b.D.va;null!=b.Fb&&(c=b.g.F-b.za.F,d=b.g.G-b.za.G,f=b.g.H-b.za.H,h=b.qc,h.x=c,h.y=d,h.z=f,b.hc.pc.nc.fd(b.Fb,b.D,b.qc));b=e}};zb.prototype.qa=function(){return this.Sh};zb.prototype.Pb=function(a){this.Sh=a;if(null!=this.hc){a=this.hc;
a.Wg();for(var b=a.vc;null!=b;){var e=b.U,d=a.za,c=a.g,f=b.za,h=b.ra;var k=d.A*h.A+d.j*h.o+d.m*h.u;var g=d.A*h.j+d.j*h.v+d.m*h.l;var l=d.A*h.m+d.j*h.s+d.m*h.B;var m=d.o*h.A+d.v*h.o+d.s*h.u;var n=d.o*h.j+d.v*h.v+d.s*h.l;var q=d.o*h.m+d.v*h.s+d.s*h.B;var p=d.u*h.A+d.l*h.o+d.B*h.u;var r=d.u*h.j+d.l*h.v+d.B*h.l;var t=d.u*h.m+d.l*h.s+d.B*h.B;f.A=k;f.j=g;f.m=l;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;k=d.A*h.F+d.j*h.G+d.m*h.H;g=d.o*h.F+d.v*h.G+d.s*h.H;h=d.u*h.F+d.l*h.G+d.B*h.H;f.F=k;f.G=g;f.H=h;f.F+=d.F;f.G+=
d.G;f.H+=d.H;d=b.g;f=b.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;k=c.A*f.j+c.j*f.v+c.m*f.l;g=c.A*f.m+c.j*f.s+c.m*f.B;l=c.o*f.A+c.v*f.o+c.s*f.u;m=c.o*f.j+c.v*f.v+c.s*f.l;n=c.o*f.m+c.v*f.s+c.s*f.B;q=c.u*f.A+c.l*f.o+c.B*f.u;p=c.u*f.j+c.l*f.v+c.B*f.l;r=c.u*f.m+c.l*f.s+c.B*f.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;d.F=h;d.G=k;d.H=f;d.F+=c.F;d.G+=c.G;d.H+=c.H;b.Tb.Xb(b.D,b.za);c=b.D.wa;d=b.D.xa;f=b.D.ya;h=b.D.ta;k=b.D.ua;g=
b.D.va;b.Tb.Xb(b.D,b.g);b.D.wa=c<b.D.wa?c:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=f<b.D.ya?f:b.D.ya;b.D.ta=h>b.D.ta?h:b.D.ta;b.D.ua=k>b.D.ua?k:b.D.ua;b.D.va=g>b.D.va?g:b.D.va;null!=b.Fb&&(c=b.g.F-b.za.F,d=b.g.G-b.za.G,f=b.g.H-b.za.H,h=b.qc,h.x=c,h.y=d,h.z=f,b.hc.pc.nc.fd(b.Fb,b.D,b.qc));b=e}}};zb.prototype.M=function(){return this.D.clone()};zb.prototype.V=function(a){a.Dd(this.D)};zb.prototype.Ka=function(){return this.Tb};zb.prototype.Za=function(){return this.hc};zb.prototype.X=function(){return this.$g};
zb.prototype.mb=function(a){this.$g=a};zb.prototype.Y=function(){return this.ah};zb.prototype.Eb=function(a){this.ah=a};zb.prototype.aa=function(){return this.ld};zb.prototype.Jb=function(a){this.ld=a};zb.prototype.i=function(){return this.sa};zb.prototype.h=function(){return this.U};"undefined"!=typeof performance&&"function"==typeof performance.now&&(Nh.h=performance.now.bind(performance));Kk.BRUTE_FORCE=1;Kk.BVH=2;Bj.SPHERE=0;Bj.BOX=1;Bj.CYLINDER=2;Bj.CONE=3;Bj.CAPSULE=4;Bj.CONVEX_HULL=5;Lh.h=
0;z.numCreations=0;Ba.defaultFriction=.2;Ba.defaultRestitution=.2;Ba.defaultDensity=1;Ba.defaultCollisionGroup=1;Ba.defaultCollisionMask=1;Ba.maxTranslationPerStep=20;Ba.maxRotationPerStep=3.14159265358979;Ba.bvhProxyPadding=.1;Ba.bvhIncrementalCollisionThreshold=.45;Ba.defaultGJKMargin=.05;Ba.enableGJKCaching=!0;Ba.maxEPAVertices=128;Ba.maxEPAPolyhedronFaces=128;Ba.contactEnableBounceThreshold=.5;Ba.velocityBaumgarte=.2;Ba.positionSplitImpulseBaumgarte=.4;Ba.positionNgsBaumgarte=1;Ba.contactUseAlternativePositionCorrectionAlgorithmDepthThreshold=
.05;Ba.defaultContactPositionCorrectionAlgorithm=0;Ba.alternativeContactPositionCorrectionAlgorithm=1;Ba.contactPersistenceThreshold=.05;Ba.maxManifoldPoints=4;Ba.defaultJointConstraintSolverType=0;Ba.defaultJointPositionCorrectionAlgorithm=0;Ba.jointWarmStartingFactorForBaungarte=.8;Ba.jointWarmStartingFactor=.95;Ba.minSpringDamperDampingRatio=1E-6;Ba.minRagdollMaxSwingAngle=1E-6;Ba.maxJacobianRows=6;Ba.directMlcpSolverEps=1E-9;Ba.islandInitialRigidBodyArraySize=128;Ba.islandInitialConstraintArraySize=
128;Ba.sleepingVelocityThreshold=.2;Ba.sleepingAngularVelocityThreshold=.5;Ba.sleepingTimeThreshold=1;Ba.disableSleeping=!1;Ba.linearSlop=.005;Ba.angularSlop=.017453292519943278;zc.instance=new zc;ah.SUCCEEDED=0;ah.GJK_FAILED_TO_MAKE_TETRAHEDRON=1;ah.GJK_DID_NOT_CONVERGE=2;ah.EPA_FAILED_TO_INIT=257;ah.EPA_FAILED_TO_ADD_VERTEX=258;ah.EPA_DID_NOT_CONVERGE=259;ha.numCreations=0;Ea.numCreations=0;Sb.POSITIVE_INFINITY=Infinity;Sb.NEGATIVE_INFINITY=-Infinity;Sb.PI=3.14159265358979;Sb.TWO_PI=6.28318530717958;
Sb.HALF_PI=1.570796326794895;Sb.TO_RADIANS=.017453292519943278;Sb.TO_DEGREES=57.29577951308238;Hb.numCreations=0;ii.broadPhaseCollisionTime=0;ii.narrowPhaseCollisionTime=0;ii.dynamicsTime=0;ii.totalTime=0;Jh.BAUMGARTE=0;Jh.SPLIT_IMPULSE=1;Jh.NGS=2;$g.SPHERICAL=0;$g.REVOLUTE=1;$g.CYLINDRICAL=2;$g.PRISMATIC=3;$g.UNIVERSAL=4;$g.RAGDOLL=5;$g.GENERIC=6;Ck.ITERATIVE=0;Ck.DIRECT=1;Ih.DYNAMIC=0;Ih.STATIC=1;Ih.KINEMATIC=2;il.h()})({});
